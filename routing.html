<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>路由（Routing） &mdash; Symfony Framework Documentation 文档</title>


    <link href="css-family=Lato-400,700,400italic,700italic-Roboto+Slab-400,700-Inconsolata-400,700&subset=latin,cyrillic.css"
          tppabs="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic"
          rel='stylesheet' type='text/css'>


    <link rel="stylesheet" href="theme.css" tppabs="http://symfony.cn/docs/_static/css/theme.css" type="text/css"/>


    <link rel="stylesheet" href="custom.css" tppabs="http://symfony.cn/docs/_static/custom.css" type="text/css"/>

    <link rel="top" title="Symfony Framework Documentation  文档" href="../index.html"/>
    <link rel="up" title="教程" href="index.html"/>
    <link rel="next" title="创建和使用模板" href="templating.html"/>
    <link rel="prev" title="控制器（Controller）" href="controller.html"/>


    <script src="modernizr.min.js"
            tppabs="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

<div class="wy-grid-for-nav">


    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-nav-search">
            <a href="index.html" class="fa fa-home">Symfony框架开发文档</a>
            <div role="search">
                <form id="rtd-search-form" class="wy-form" action="http://symfony.cn/docs/search.html" method="get">
                    <input type="text" name="q" placeholder="Search docs">
                    <input type="hidden" name="check_keywords" value="yes">
                    <input type="hidden" name="area" value="default">
                </form>
            </div>
        </div>
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="changelog.html" tppabs="http://symfony.cn/docs/changelog.html">The
                        Documentation Changelog</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#february-2015"
                                                  tppabs="http://symfony.cn/docs/changelog.html#february-2015">February,2015</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#january-2015"
                                                  tppabs="http://symfony.cn/docs/changelog.html#january-2015">January,2015</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#december-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#december-2014">December,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#november-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#november-2014">November,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#october-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#october-2014">October,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#september-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#september-2014">September,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#august-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#august-2014">August,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#july-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#july-2014">July,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#june-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#june-2014">June,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#may-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#may-2014">May, 2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#april-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#april-2014">April,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#march-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#march-2014">March,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#february-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#february-2014">February,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#january-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#january-2014">January,2014</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="index-1.html"
                       tppabs="http://symfony.cn/docs/quick_tour/index.html">快速入门</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="the_big_picture.html"
                                                  tppabs="http://symfony.cn/docs/quick_tour/the_big_picture.html">总览</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="the_view.html"
                                                  tppabs="http://symfony.cn/docs/quick_tour/the_view.html">视图</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="the_controller.html"
                                                  tppabs="http://symfony.cn/docs/quick_tour/the_controller.html">控制器（Controller）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="the_architecture.html"
                                                  tppabs="http://symfony.cn/docs/quick_tour/the_architecture.html">代码结构</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1 current">
                    <a class="reference internal" href="index-2.html"
                       tppabs="http://symfony.cn/docs/book/index.html">教程</a>
                    <ul>
                        <li class="toctree-l2 "><a class="reference internal" href="http_fundamentals.html"
                                                   tppabs="http://symfony.cn/docs/book/http_fundamentals.html">Symfony和HTTP基础工具</a>
                        </li>
                        <li class="toctree-l2 "><a class="reference internal" href="from_flat_php_to_symfony2.html"
                                                   tppabs="http://symfony.cn/docs/book/from_flat_php_to_symfony2.html">Symfony
                            vs 纯PHP</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="installation.html"
                                                  tppabs="http://symfony.cn/docs/book/installation.html">安装和配置Symfony</a>
                        </li>
                        <li class="toctree-l2 "><a class="reference internal" href="page_creation.html"
                                                   tppabs="http://symfony.cn/docs/book/page_creation.html">创建页面</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="controller.html"
                                                          tppabs="http://symfony.cn/docs/book/controller.html">控制器（Controller）</a>
                        </li>
                        <li class="toctree-l2 current"><a class="reference internal" href="routing.html"
                                                  tppabs="http://symfony.cn/docs/book/routing.html">路由（Routing）</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="templating.html"
                                                  tppabs="http://symfony.cn/docs/book/templating.html">创建和使用模板</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="doctrine.html"
                                                  tppabs="http://symfony.cn/docs/book/doctrine.html">数据库和Doctrine</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="propel.html"
                                                  tppabs="http://symfony.cn/docs/book/propel.html">数据库和Propel</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="testing.html"
                                                  tppabs="http://symfony.cn/docs/book/testing.html">测试</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="validation.html"
                                                  tppabs="http://symfony.cn/docs/book/validation.html">校验</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="forms.html"
                                                  tppabs="http://symfony.cn/docs/book/forms.html">表单</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="security.html"
                                                  tppabs="http://symfony.cn/docs/book/security.html">安全性</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="http_cache.html"
                                                  tppabs="http://symfony.cn/docs/book/http_cache.html">HTTP缓存</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="translation.html"
                                                  tppabs="http://symfony.cn/docs/book/translation.html">多语言</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="service_container.html"
                                                  tppabs="http://symfony.cn/docs/book/service_container.html">服务容器（Service
                            Container）</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="performance.html"
                                                  tppabs="http://symfony.cn/docs/book/performance.html">性能</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="internals.html"
                                                  tppabs="http://symfony.cn/docs/book/internals.html">核心功能</a></li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="index-3.html"
                       tppabs="http://symfony.cn/docs/cookbook/index.html">手册</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="index-4.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/assetic/index.html">静态文件处理（Assetic）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-5.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/bundles/index.html">包（Bundle）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-6.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/cache/index.html">缓存</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="composer.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/composer.html">Installing
                            Composer</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-7.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/configuration/index.html">配置</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-8.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/console/index.html">命令行</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-9.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/controller/index.html">控制器（Controller）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="debugging.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/debugging.html">How to
                            Optimize your Development Environment for Debugging</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-10.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/deployment/index.html">部署</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-11.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/doctrine/index.html">Doctrine</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-12.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/email/index.html">邮件</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-13.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/event_dispatcher/index.html">事件分发器（Dispatcher）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-14.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/expression/index.html">表达式（Expression）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-15.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/form/index.html">Form</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-16.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/logging/index.html">Logging</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-17.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/profiler/index.html">Profiler</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-18.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/request/index.html">Request</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-19.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/routing/index.html">Routing</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-20.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/security/index.html">Security</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="serializer.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/serializer.html">How to Use
                            the Serializer</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-21.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/service_container/index.html">Service
                            Container</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-22.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/session/index.html">Sessions</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="symfony1.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/symfony1.html">How Symfony2
                            Differs from Symfony1</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-23.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/templating/index.html">Templating</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-24.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/testing/index.html">Testing</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="upgrading.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/upgrading.html">How to Upgrade
                            Your Symfony Project</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-25.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/validation/index.html">Validation</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-26.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/web_server/index.html">Web
                            Server</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-27.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/web_services/index.html">Web
                            Services</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-28.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/workflow/index.html">Workflow</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="index-29.html"
                       tppabs="http://symfony.cn/docs/best_practices/index.html">最佳实践</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="introduction.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/introduction.html">Symfony框架最佳实践</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="creating-the-project.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/creating-the-project.html">创建项目</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="configuration.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/configuration.html">配置参数</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="business-logic.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/business-logic.html">业务逻辑代码的组织</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="controllers.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/controllers.html">控制器（Controller）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="templates.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/templates.html">模板</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="forms-1.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/forms.html">表单</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="i18n.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/i18n.html">多语言支持</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="security-1.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/security.html">安全</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="web-assets.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/web-assets.html">静态文件（Assets）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="tests.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/tests.html">测试</a></li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="index-30.html"
                       tppabs="http://symfony.cn/docs/components/index.html">组件</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="using_components.html"
                                                  tppabs="http://symfony.cn/docs/components/using_components.html">How
                            to Install and Use the Symfony Components</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-31.html"
                                                  tppabs="http://symfony.cn/docs/components/asset/index.html">Asset</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-32.html"
                                                  tppabs="http://symfony.cn/docs/components/class_loader/index.html">ClassLoader</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-33.html"
                                                  tppabs="http://symfony.cn/docs/components/config/index.html">Config</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-34.html"
                                                  tppabs="http://symfony.cn/docs/components/console/index.html">Console</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="css_selector.html"
                                                  tppabs="http://symfony.cn/docs/components/css_selector.html">The
                            CssSelector Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-35.html"
                                                  tppabs="http://symfony.cn/docs/components/debug/index.html">Debug</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-36.html"
                                                  tppabs="http://symfony.cn/docs/components/dependency_injection/index.html">DependencyInjection</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="dom_crawler.html"
                                                  tppabs="http://symfony.cn/docs/components/dom_crawler.html">The
                            DomCrawler Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-37.html"
                                                  tppabs="http://symfony.cn/docs/components/event_dispatcher/index.html">EventDispatcher</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-38.html"
                                                  tppabs="http://symfony.cn/docs/components/expression_language/index.html">Expression
                            Language</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-39.html"
                                                  tppabs="http://symfony.cn/docs/components/filesystem/index.html">Filesystem</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="finder.html"
                                                  tppabs="http://symfony.cn/docs/components/finder.html">The Finder
                            Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-40.html"
                                                  tppabs="http://symfony.cn/docs/components/form/index.html">Form</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-41.html"
                                                  tppabs="http://symfony.cn/docs/components/http_foundation/index.html">HttpFoundation</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-42.html"
                                                  tppabs="http://symfony.cn/docs/components/http_kernel/index.html">HttpKernel</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="intl.html"
                                                  tppabs="http://symfony.cn/docs/components/intl.html">The Intl
                            Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="options_resolver.html"
                                                  tppabs="http://symfony.cn/docs/components/options_resolver.html">The
                            OptionsResolver Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="process.html"
                                                  tppabs="http://symfony.cn/docs/components/process.html">The Process
                            Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-43.html"
                                                  tppabs="http://symfony.cn/docs/components/property_access/index.html">PropertyAccess</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-44.html"
                                                  tppabs="http://symfony.cn/docs/components/routing/index.html">Routing</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-45.html"
                                                  tppabs="http://symfony.cn/docs/components/security/index.html">Security</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="serializer-1.html"
                                                  tppabs="http://symfony.cn/docs/components/serializer.html">The
                            Serializer Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="stopwatch.html"
                                                  tppabs="http://symfony.cn/docs/components/stopwatch.html">The
                            Stopwatch Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-46.html"
                                                  tppabs="http://symfony.cn/docs/components/templating/index.html">Templating</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-47.html"
                                                  tppabs="http://symfony.cn/docs/components/translation/index.html">Translation</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-48.html"
                                                  tppabs="http://symfony.cn/docs/components/var_dumper/index.html">VarDumper</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-49.html"
                                                  tppabs="http://symfony.cn/docs/components/yaml/index.html">Yaml</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="index-50.html"
                       tppabs="http://symfony.cn/docs/reference/index.html">参考</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="framework.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/framework.html">FrameworkBundle
                            Configuration (“framework”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="doctrine-1.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/doctrine.html">DoctrineBundle
                            Configuration (“doctrine”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="security-2.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/security.html">SecurityBundle
                            Configuration (“security”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="assetic.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/assetic.html">AsseticBundle
                            Configuration (“assetic”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="swiftmailer.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/swiftmailer.html">SwiftmailerBundle
                            Configuration (“swiftmailer”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="twig.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/twig.html">TwigBundle
                            Configuration (“twig”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="monolog.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/monolog.html">MonologBundle
                            Configuration (“monolog”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="web_profiler.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/web_profiler.html">WebProfilerBundle
                            Configuration (“web_profiler”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="kernel.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/kernel.html">Configuring
                            in the Kernel (e.g. AppKernel)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="types.html"
                                                  tppabs="http://symfony.cn/docs/reference/forms/types.html">Form Types
                            Reference</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="constraints.html"
                                                  tppabs="http://symfony.cn/docs/reference/constraints.html">Validation
                            Constraints Reference</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="twig_reference.html"
                                                  tppabs="http://symfony.cn/docs/reference/forms/twig_reference.html">Twig
                            Template Form Function and Variable Reference</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="twig_reference-1.html"
                                                  tppabs="http://symfony.cn/docs/reference/twig_reference.html">Symfony
                            Twig Extensions</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="dic_tags.html"
                                                  tppabs="http://symfony.cn/docs/reference/dic_tags.html">The Dependency
                            Injection Tags</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="requirements.html"
                                                  tppabs="http://symfony.cn/docs/reference/requirements.html">Requirements
                            for Running Symfony</a></li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="index-51.html"
                       tppabs="http://symfony.cn/docs/contributing/index.html">贡献</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="index-52.html"
                                                  tppabs="http://symfony.cn/docs/contributing/code/index.html">贡献代码</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-53.html"
                                                  tppabs="http://symfony.cn/docs/contributing/documentation/index.html">贡献文档</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-54.html"
                                                  tppabs="http://symfony.cn/docs/contributing/community/index.html">社区</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>&nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


        <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
            <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
            <a href="index.html" tppabs="http://symfony.cn/docs/index.html">Symfony Framework Documentation</a>
        </nav>


        <div class="wy-nav-content">
            <div class="rst-content">
                <div role="navigation" aria-label="breadcrumbs navigation">
                    <ul class="wy-breadcrumbs">
                        <li><a href="index.html" tppabs="http://symfony.cn/docs/index.html">Docs</a> &raquo;</li>

                        <li><a href="index-2.html" tppabs="http://symfony.cn/docs/book/index.html">教程</a> &raquo;</li>

                        <li>路由（Routing）</li>
                        <li class="wy-breadcrumbs-aside">

                            <a href="routing.txt" tppabs="http://symfony.cn/docs/_sources/book/routing.txt"
                               rel="nofollow"> 查看网页源代码</a>

                        </li>
                    </ul>
                    <hr/>
                </div>
                <div role="main" class="document">

                    <div class="section" id="routing">
                        <span id="index-0"></span>
                        <h1>路由（Routing）<a class="headerlink" href="#routing" title="永久链接至标题">¶</a></h1>
                        <p>
                            对于任何严肃的Web应用程序来说，美丽的URL是绝对必需的。 这意味着留下像<code class="docutils literal"><span class="pre">index.php?article_id=57</span></code>这样的丑陋URL，以支持诸如<code class="docutils literal"><span
                                    class="pre">/read/intro-to-symfony</span></code>之类的内容。
                        </p>
                        <p>
                            具有灵活性更重要。 如果您需要将网页的网址从<code class="docutils literal"><span class="pre">/blog</span></code>更改为<code class="docutils literal"><span class="pre">/news</span></code>，该怎么办？ 您需要多少链接才能搜索并更新以进行更改？ 如果您使用的是Symfony的路由器，则更改很简单。
                        </p>
                        <p>Symfony路由器允许您定义映射到应用程序不同区域的创意URL。 到本章结束时，您将能够：</p>
                        <ul class="simple">
                            <li>创建映射到控制器的复杂路由</li>
                            <li>在模板和控制器中生成URL</li>
                            <li>从bundles（或其他任何地方）加载路由资源</li>
                            <li><p class="first">Routes调试</p>
                            </li>
                        </ul>
                        <div class="section" id="routing-in-action">
                            <span id="index-1"></span>
                            <h2>使用Route举例<a class="headerlink" href="#routing-in-action" title="永久链接至标题">¶</a></h2>
                            <p>
                                路由是从URL路径到控制器的映射。 例如，假设您想匹配<code class="docutils literal"><span class="pre">/blog/my-post</span></code>或<code class="docutils literal"><span
                                        class="pre">/blog/all-about-symfony</span></code>之类的任何URL，并将其发送给可查找并呈现该博客条目的控制器。 路由很简单：
                            </p>
                            <div class="configuration-block">
                                <ul class="simple">
                                    <li><em>Annotations</em>
                                        <div class="highlight-php-annotations">
                                            <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/BlogController.php</span>
<span class="k">namespace</span> <span class="nx">AppBundle\Controller</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Bundle\FrameworkBundle\Controller\Controller</span><span
                                                        class="p">;</span>
<span class="k">use</span> <span class="nx">Sensio\Bundle\FrameworkExtraBundle\Configuration\Route</span><span
                                                        class="p">;</span>

<span class="k">class</span> <span class="nc">BlogController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @Route(&quot;/blog/{slug}&quot;, name=&quot;blog_show&quot;)</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">showAction</span><span
                                                        class="p">(</span><span class="nv">$slug</span><span
                                                        class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>YAML</em>
                                        <div class="highlight-yaml">
                                            <div class="highlight"><pre><span class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">blog_show</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">/blog/{slug}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>  <span
                                                        class="p-Indicator">{</span> <span class="nv">_controller</span><span
                                                        class="p-Indicator">:</span> <span
                                                        class="nv">AppBundle</span><span
                                                        class="p-Indicator">:</span><span class="nv">Blog</span><span
                                                        class="p-Indicator">:</span><span class="nv">show</span> <span
                                                        class="p-Indicator">}</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>XML</em>
                                        <div class="highlight-xml">
                                            <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;blog_show&quot;</span> <span
                                                        class="na">path=</span><span
                                                        class="s">&quot;/blog/{slug}&quot;</span><span
                                                        class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                        class="s">&quot;_controller&quot;</span><span
                                                        class="nt">&gt;</span>AppBundle:Blog:show<span class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>PHP</em>
                                        <div class="highlight-php">
                                            <div class="highlight"><pre><span
                                                    class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                        class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                        class="s1">&#39;blog_show&#39;</span><span
                                                        class="p">,</span> <span class="k">new</span> <span class="nx">Route</span><span
                                                        class="p">(</span><span class="s1">&#39;/blog/{slug}&#39;</span><span
                                                        class="p">,</span> <span class="k">array</span><span
                                                        class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Blog:show&#39;</span><span
                                                        class="p">,</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <p>
                                由<code class="docutils literal"><span class="pre">blog_show</span></code>路由定义的路径的作用类似于<code class="docutils literal"><span class="pre">/blog/*</span></code>，其中通配符的名称为<code class="docutils literal"><span
                                        class="pre">slug</span></code>。
                                对于URL <code class="docutils literal"><span
                                        class="pre">/blog/my-blog-post</span></code>，<code class="docutils literal"><span class="pre">slug</span></code>变量会获得<code class="docutils literal"><span class="pre">my-blog-post</span></code>的值，可供您在控制器中使用（继续阅读）。
                                <code
                                        class="docutils literal"><span class="pre">blog_show</span></code>是路由的内部名称，它没有任何意义，只需要是唯一的。 稍后，您将使用它来生成URL。
                            </p>
                            <p>
                                如果你不想使用注释，因为你不喜欢它们，或者你不想依赖SensioFrameworkExtraBundle，你也可以使用Yaml，XML或PHP。 在这些格式中，<code class="docutils literal"><span
                                        class="pre">_controller</span></code>参数是一个特殊的关键字，告诉Symfony当URL匹配此路由时应执行哪个控制器。 <code class="docutils literal"><span
                                        class="pre">_controller</span></code>字符串被称为<a class="reference internal" href="#controller-string-syntax"><span>logical name</span></a>。 它遵循指向特定PHP类和方法的模式，在这种情况下是<code class="docutils literal"><span class="pre">AppBundle\Controller\BlogController::showAction</span></code>方法。
                            </p>
                            <p>
                                恭喜！ 您刚刚创建了第一条路由并将其连接到控制器。 现在，当您访问<code class="docutils literal"><span class="pre">/blog/my-post</span></code>时，<code class="docutils literal"><span class="pre">showAction</span></code>控制器将被执行，<code class="docutils literal"><span
                                        class="pre">$slug</span></code>变量将等于<code
                                        class="docutils literal"><span class="pre">my-post</span></code>。
                            </p>
                            <p>这是Symfony路由器的目标：将请求的URL映射到控制器。 一路走来，您将学习各种各样的技巧，使得即使是最复杂的网址也能轻松映射。</p>
                        </div>
                        <div class="section" id="routing-under-the-hood">
                            <span id="index-2"></span>
                            <h2>原理<a class="headerlink" href="#routing-under-the-hood" title="永久链接至标题">¶</a></h2>
                            <p>
                                当向您的应用程序发出请求时，它会包含客户端请求的确切“资源”的地址。 该地址称为URL（或URI），可以是<code class="docutils literal"><span
                                        class="pre">/contact</span></code>，<code class="docutils literal"><span
                                        class="pre">/blog/read-me</span></code>或其他任何内容。 以下面的HTTP请求为例：
                            </p>
                            <div class="highlight-text">
                                <div class="highlight"><pre>GET /blog/my-blog-post
</pre>
                                </div>
                            </div>
                            <p>Symfony路由系统的目标是解析这个URL并确定应该执行哪个控制器。 整个过程如下所示：</p>
                            <ol class="arabic simple">
                                <li>
                                    该请求由Symfony前端控制器（例如<code
                                            class="docutils literal"><span class="pre">app.php</span></code>）处理;
                                </li>
                                <li>Symfony核心（即内核）要求路由器检查请求;</li>
                                <li>路由器将传入的URL匹配到特定的路由并返回有关路由的信息，包括应执行的控制器;
                                </li>
                                <li>
                                    Symfony Kernel执行控制器，最终返回一个<code class="docutils literal"><span class="pre">Response</span></code>对象。
                                </li>
                            </ol>
                            <div class="figure align-center" id="id2">
                                <img alt="Symfony request flow" src="request-flow.png"
                                     tppabs="http://symfony.cn/docs/_images/request-flow.png"/>
                                <p class="caption"><span class="caption-text">路由层是一个将传入URL转换为特定控制器执行的工具。</span></p>
                            </div>
                        </div>
                        <div class="section" id="creating-routes">
                            <span id="index-3"></span>
                            <h2>创建Route<a class="headerlink" href="#creating-routes" title="永久链接至标题">¶</a></h2>
                            <p>
                                Symfony从单个路由配置文件加载应用程序的所有路由。 该文件通常是<code class="docutils literal"><span class="pre">app/config/routing.yml</span></code>，但可以通过应用程序配置文件配置为任何内容（包括XML或PHP文件）：
                            </p>
                            <div class="configuration-block">
                                <ul class="simple">
                                    <li><em>YAML</em>
                                        <div class="highlight-yaml">
                                            <div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="c1"># ...</span>
    <span class="l-Scalar-Plain">router</span><span class="p-Indicator">:</span> <span
                                                        class="p-Indicator">{</span> <span
                                                        class="nv">resource</span><span
                                                        class="p-Indicator">:</span> <span class="s">&quot;%kernel.root_dir%/config/routing.yml&quot;</span> <span
                                                        class="p-Indicator">}</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>XML</em>
                                        <div class="highlight-xml">
                                            <div class="highlight"><pre><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:framework=</span><span class="s">&quot;http://symfony.com/schema/dic/symfony&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services</span>
<span class="s">        http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/symfony</span>
<span class="s">        http://symfony.com/schema/dic/symfony/symfony-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;framework:config&gt;</span>
        <span class="c">&lt;!-- ... --&gt;</span>
        <span class="nt">&lt;framework:router</span> <span class="na">resource=</span><span class="s">&quot;%kernel.root_dir%/config/routing.xml&quot;</span> <span
                                                        class="nt">/&gt;</span>
    <span class="nt">&lt;/framework:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>PHP</em>
                                        <div class="highlight-php">
                                            <div class="highlight"><pre><span class="c1">// app/config/config.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span
                                                        class="p">(</span><span
                                                        class="s1">&#39;framework&#39;</span><span
                                                        class="p">,</span> <span class="k">array</span><span
                                                        class="p">(</span>
    <span class="c1">// ...</span>
    <span class="s1">&#39;router&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span
                                                        class="p">(</span>
        <span class="s1">&#39;resource&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;%kernel.root_dir%/config/routing.php&#39;</span><span
                                                        class="p">,</span>
    <span class="p">),</span>
<span class="p">));</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="admonition tip">
                                <p class="first admonition-title">小技巧</p>
                                <p class="last">
                                    即使所有路由都是从单个文件加载的，通常会包含额外的路由资源。 为此，只需在主路由配置文件中指出应包含哪些外部文件即可。 有关更多信息，请参阅<a class="reference internal"
                                                                                                             href="#routing-include-external-resources"><span>包含外部规则</span></a>。
                                </p>
                            </div>
                            <div class="section" id="basic-route-configuration">
                                <h3>基本设置<a class="headerlink" href="#basic-route-configuration" title="永久链接至标题">¶</a>
                                </h3>
                                <p>
                                    定义路由很简单，典型的应用程序会有很多路由。 基本路由由两部分组成：匹配<code class="docutils literal"><span
                                            class="pre">路径</span></code>和<code class="docutils literal"><span class="pre">默认</span></code>数组：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Annotations</em>
                                            <div class="highlight-php-annotations">
                                                <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/MainController.php</span>

<span class="c1">// ...</span>
<span class="k">class</span> <span class="nc">MainController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @Route(&quot;/&quot;)</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">homepageAction</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">_welcome</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>      <span
                                                            class="l-Scalar-Plain">/</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>  <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Main</span><span
                                                            class="p-Indicator">:</span><span class="nv">homepage</span> <span
                                                            class="p-Indicator">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;_welcome&quot;</span> <span
                                                            class="na">path=</span><span
                                                            class="s">&quot;/&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Main:homepage<span
                                                            class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>

<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;_welcome&#39;</span><span class="p">,</span> <span
                                                            class="k">new</span> <span class="nx">Route</span><span
                                                            class="p">(</span><span class="s1">&#39;/&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Main:homepage&#39;</span><span
                                                            class="p">,</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    该路由匹配主页（<code class="docutils literal"><span
                                            class="pre">/</span></code>）并将其映射到<code class="docutils literal"><span
                                            class="pre">AppBundle:Main:homepage</span></code>。 <code
                                            class="docutils literal"><span class="pre">_controller</span></code>字符串由Symfony翻译成实际的PHP函数并执行。 该过程将在“<a class="reference internal"
                                                                                                                                                    href="#controller-string-syntax"><span>Controller命名规则</span></a>”部分中进行简要说明。
                                </p>
                            </div>
                            <div class="section" id="routing-with-placeholders">
                                <span id="index-4"></span>
                                <h3>使用占位符<a class="headerlink" href="#routing-with-placeholders" title="永久链接至标题">¶</a>
                                </h3>
                                <p>当然，路由系统支持更有趣的路由。 许多路由将包含一个或多个指定的“通配符”占位符：</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Annotations</em>
                                            <div class="highlight-php-annotations">
                                                <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/BlogController.php</span>

<span class="c1">// ...</span>
<span class="k">class</span> <span class="nc">BlogController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @Route(&quot;/blog/{slug}&quot;)</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">showAction</span><span
                                                            class="p">(</span><span class="nv">$slug</span><span
                                                            class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">blog_show</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">/blog/{slug}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>  <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Blog</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">show</span> <span class="p-Indicator">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;blog_show&quot;</span> <span
                                                            class="na">path=</span><span class="s">&quot;/blog/{slug}&quot;</span><span
                                                            class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Blog:show<span
                                                            class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;blog_show&#39;</span><span
                                                            class="p">,</span> <span class="k">new</span> <span
                                                            class="nx">Route</span><span class="p">(</span><span
                                                            class="s1">&#39;/blog/{slug}&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Blog:show&#39;</span><span
                                                            class="p">,</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    该路径将匹配看起来像<code class="docutils literal"><span
                                            class="pre">/blog/*</span></code>的任何内容。 更好的是，匹配<code class="docutils literal"><span
                                            class="pre">{slug}</span></code>占位符的值将在您的控制器中可用。 换句话说，如果URL是<code class="docutils literal"><span
                                            class="pre">/blog/hello-world</span></code>，控制器中将会提供一个价值为<code class="docutils literal"><span class="pre">hello-world</span></code>的<code
                                            class="docutils literal"><span class="pre">$slug</span></code>变量。 例如，这可以用来加载与该字符串匹配的博客文章。
                                </p>
                                <p>
                                    然而，路径不会简单地匹配<code
                                            class="docutils literal"><span class="pre">/blog</span></code>。 这是因为，默认情况下，所有占位符都是必需的。 这可以通过向<code class="docutils literal"><span
                                            class="pre">默认</span></code>数组添加占位符值来更改。
                                </p>
                            </div>
                            <div class="section" id="required-and-optional-placeholders">
                                <h3>可选和非可选占位符<a class="headerlink" href="#required-and-optional-placeholders"
                                                title="永久链接至标题">¶</a></h3>
                                <p>为了让事情更加令人兴奋，添加一个显示所有列表的新路由这个虚构的博客应用程序可用的博客文章：</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Annotations</em>
                                            <div class="highlight-php-annotations">
                                                <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/BlogController.php</span>

<span class="c1">// ...</span>
<span class="k">class</span> <span class="nc">BlogController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="c1">// ...</span>

    <span class="sd">/**</span>
<span class="sd">     * @Route(&quot;/blog&quot;)</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span
                                                            class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">blog</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>      <span
                                                            class="l-Scalar-Plain">/blog</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>  <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Blog</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">index</span> <span class="p-Indicator">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;blog&quot;</span> <span
                                                            class="na">path=</span><span
                                                            class="s">&quot;/blog&quot;</span><span
                                                            class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Blog:index<span
                                                            class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;blog&#39;</span><span
                                                            class="p">,</span> <span class="k">new</span> <span
                                                            class="nx">Route</span><span class="p">(</span><span
                                                            class="s1">&#39;/blog&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Blog:index&#39;</span><span
                                                            class="p">,</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    到目前为止，这条路由尽可能简单 - 它不包含占位符，只会匹配确切的网址<code class="docutils literal"><span class="pre">/blog</span></code>。
                                    但是，如果您需要此路由来支持分页，那么会显示博客条目的第二页？ 更新路由以拥有新的<code class="docutils literal"><span
                                            class="pre">{page}</span></code>占位符：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Annotations</em>
                                            <div class="highlight-php-annotations">
                                                <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/BlogController.php</span>

<span class="c1">// ...</span>

<span class="sd">/**</span>
<span class="sd"> * @Route(&quot;/blog/{page}&quot;)</span>
<span class="sd"> */</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span
                                                            class="p">(</span><span class="nv">$page</span><span
                                                            class="p">)</span>
<span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">blog</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">/blog/{page}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>  <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Blog</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">index</span> <span class="p-Indicator">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;blog&quot;</span> <span
                                                            class="na">path=</span><span class="s">&quot;/blog/{page}&quot;</span><span
                                                            class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Blog:index<span
                                                            class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;blog&#39;</span><span
                                                            class="p">,</span> <span class="k">new</span> <span
                                                            class="nx">Route</span><span class="p">(</span><span
                                                            class="s1">&#39;/blog/{page}&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Blog:index&#39;</span><span
                                                            class="p">,</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    像之前的<code class="docutils literal"><span class="pre">{slug}</span></code>占位符一样，匹配<code class="docutils literal"><span
                                            class="pre">{page}</span></code>的值将在控制器中可用。 它的值可以用来确定为给定页面显示哪一组博客文章。
                                </p>
                                <p>
                                    但坚持！ 由于默认情况下需要占位符，因此此路由将不再与简单<code class="docutils literal"><span
                                            class="pre">/blog</span></code>相匹配。 相反，要查看博客的第1页，您需要使用URL <code class="docutils literal"><span class="pre">/blog/1</span></code>！
                                    由于无法让富Web应用程序行为，请修改路由以使<code class="docutils literal"><span
                                            class="pre">{page}</span></code>参数为可选。 这是通过将其包含在<code class="docutils literal"><span
                                            class="pre">默认</span></code>集合中完成的：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Annotations</em>
                                            <div class="highlight-php-annotations">
                                                <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/BlogController.php</span>

<span class="c1">// ...</span>

<span class="sd">/**</span>
<span class="sd"> * @Route(&quot;/blog/{page}&quot;, defaults={&quot;page&quot; = 1})</span>
<span class="sd"> */</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span
                                                            class="p">(</span><span class="nv">$page</span><span
                                                            class="p">)</span>
<span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">blog</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">/blog/{page}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>  <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Blog</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">index</span><span
                                                            class="p-Indicator">,</span> <span
                                                            class="nv">page</span><span
                                                            class="p-Indicator">:</span> <span class="nv">1</span> <span
                                                            class="p-Indicator">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;blog&quot;</span> <span
                                                            class="na">path=</span><span class="s">&quot;/blog/{page}&quot;</span><span
                                                            class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Blog:index<span
                                                            class="nt">&lt;/default&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;page&quot;</span><span
                                                            class="nt">&gt;</span>1<span
                                                            class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;blog&#39;</span><span
                                                            class="p">,</span> <span class="k">new</span> <span
                                                            class="nx">Route</span><span class="p">(</span><span
                                                            class="s1">&#39;/blog/{page}&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Blog:index&#39;</span><span
                                                            class="p">,</span>
    <span class="s1">&#39;page&#39;</span>        <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    通过将<code class="docutils literal"><span class="pre">page</span></code>添加到<code class="docutils literal"><span class="pre">defaults</span></code>键，不再需要<code class="docutils literal"><span class="pre">{page}</span></code>占位符。 URL <code class="docutils literal"><span
                                            class="pre">/blog</span></code>将匹配此路由，<code class="docutils literal"><span class="pre">page</span></code>参数的值将设置为<code class="docutils literal"><span class="pre">1</span></code>. URL <code class="docutils literal"><span class="pre">/blog/2</span></code>也将匹配，使<code class="docutils literal"><span
                                            class="pre">page</span></code>参数的值为<code
                                            class="docutils literal"><span class="pre">2</span></code>.完美。
                                </p>
                                <table border="1" class="docutils">
                                    <colgroup>
                                        <col width="30%"/>
                                        <col width="22%"/>
                                        <col width="49%"/>
                                    </colgroup>
                                    <thead valign="bottom">
                                    <tr class="row-odd">
                                        <th class="head">URL</th>
                                        <th class="head">Route</th>
                                        <th class="head">Parameters</th>
                                    </tr>
                                    </thead>
                                    <tbody valign="top">
                                    <tr class="row-even">
                                        <td><code class="docutils literal"><span class="pre">/blog</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">blog</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">{page}</span></code> =
                                            <code class="docutils literal"><span class="pre">1</span></code></td>
                                    </tr>
                                    <tr class="row-odd">
                                        <td><code class="docutils literal"><span class="pre">/blog/1</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">blog</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">{page}</span></code> =
                                            <code class="docutils literal"><span class="pre">1</span></code></td>
                                    </tr>
                                    <tr class="row-even">
                                        <td><code class="docutils literal"><span class="pre">/blog/2</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">blog</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">{page}</span></code> =
                                            <code class="docutils literal"><span class="pre">2</span></code></td>
                                    </tr>
                                    </tbody>
                                </table>
                                <div class="admonition caution">
                                    <p class="first admonition-title">警告</p>
                                    <p class="last">
                                        当然，您可以有多个可选的占位符（例如<code class="docutils literal"><span
                                            class="pre">/blog/{slug}/{page}</span></code>），但可选占位符后的所有内容必须是可选的。 
                                        例如，<code class="docutils literal"><span class="pre">/{page}/blog</span></code>是一个有效的路径，但<code class="docutils literal"><span
                                            class="pre">page</span></code>将始终是必需的（即简单地<code class="docutils literal"><span
                                            class="pre">/blog</span></code>将不匹配此路由）。
                                    </p>
                                </div>
                                <div class="admonition tip">
                                    <p class="first admonition-title">小技巧</p>
                                    <p class="last">
                                        具有可选参数的路由在结尾处将不匹配具有尾部斜线的请求（即，<code class="docutils literal"><span class="pre">/blog/</span></code>不匹配，<code class="docutils literal"><span
                                            class="pre">/blog</span></code>将匹配）。
                                    </p>
                                </div>
                            </div>
                            <div class="section" id="adding-requirements">
                                <span id="index-5"></span>
                                <h3>添加限制<a class="headerlink" href="#adding-requirements" title="永久链接至标题">¶</a></h3>
                                <p>快速查看迄今为止创建的路由：</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Annotations</em>
                                            <div class="highlight-php-annotations">
                                                <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/BlogController.php</span>

<span class="c1">// ...</span>
<span class="k">class</span> <span class="nc">BlogController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @Route(&quot;/blog/{page}&quot;, defaults={&quot;page&quot; = 1})</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span
                                                            class="p">(</span><span class="nv">$page</span><span
                                                            class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @Route(&quot;/blog/{slug}&quot;)</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">showAction</span><span
                                                            class="p">(</span><span class="nv">$slug</span><span
                                                            class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">blog</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">/blog/{page}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>  <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Blog</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">index</span><span
                                                            class="p-Indicator">,</span> <span
                                                            class="nv">page</span><span
                                                            class="p-Indicator">:</span> <span class="nv">1</span> <span
                                                            class="p-Indicator">}</span>

<span class="l-Scalar-Plain">blog_show</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">/blog/{slug}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>  <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Blog</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">show</span> <span class="p-Indicator">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;blog&quot;</span> <span
                                                            class="na">path=</span><span class="s">&quot;/blog/{page}&quot;</span><span
                                                            class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Blog:index<span
                                                            class="nt">&lt;/default&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;page&quot;</span><span
                                                            class="nt">&gt;</span>1<span
                                                            class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;blog_show&quot;</span> <span
                                                            class="na">path=</span><span class="s">&quot;/blog/{slug}&quot;</span><span
                                                            class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Blog:show<span
                                                            class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;blog&#39;</span><span
                                                            class="p">,</span> <span class="k">new</span> <span
                                                            class="nx">Route</span><span class="p">(</span><span
                                                            class="s1">&#39;/blog/{page}&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Blog:index&#39;</span><span
                                                            class="p">,</span>
    <span class="s1">&#39;page&#39;</span>        <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">)));</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;blog_show&#39;</span><span
                                                            class="p">,</span> <span class="k">new</span> <span
                                                            class="nx">Route</span><span class="p">(</span><span
                                                            class="s1">&#39;/blog/{show}&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Blog:show&#39;</span><span
                                                            class="p">,</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    你能发现问题吗？ 请注意，两条路由都有匹配<code class="docutils literal"><span class="pre">/blog/*</span></code>的网址的模式。
                                    Symfony路由器将始终选择它找到的<strong>第一个</strong> 匹配路由。 换句话说，<code
                                            class="docutils literal"><span class="pre">blog_show</span></code>路由永远不会匹配。
                                    相反，像<code
                                            class="docutils literal"><span class="pre">/blog/my-blog-post</span></code>这样的URL会匹配第一个路由（<code class="docutils literal"><span class="pre">blog</span></code>），并将<code class="docutils literal"><span class="pre">my-blog-post</span></code>的无意义值返回给<code class="docutils literal"><span class="pre">{page}</span></code>参数。
                                </p>
                                <table border="1" class="docutils">
                                    <colgroup>
                                        <col width="36%"/>
                                        <col width="13%"/>
                                        <col width="51%"/>
                                    </colgroup>
                                    <thead valign="bottom">
                                    <tr class="row-odd">
                                        <th class="head">URL</th>
                                        <th class="head">Route</th>
                                        <th class="head">Parameters</th>
                                    </tr>
                                    </thead>
                                    <tbody valign="top">
                                    <tr class="row-even">
                                        <td><code class="docutils literal"><span class="pre">/blog/2</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">blog</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">{page}</span></code> =
                                            <code class="docutils literal"><span class="pre">2</span></code></td>
                                    </tr>
                                    <tr class="row-odd">
                                        <td><code class="docutils literal"><span
                                                class="pre">/blog/my-blog-post</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">blog</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">{page}</span></code> =
                                            <code class="docutils literal"><span
                                                    class="pre">&quot;my-blog-post&quot;</span></code></td>
                                    </tr>
                                    </tbody>
                                </table>
                                <p>
                                    问题的答案是添加路由要求或路由条件（请参阅<a class="reference internal" href="#book-routing-conditions"><span>使用条件判断实现完全自定义</span></a>）。
                                    如果<code class="docutils literal"><span
                                            class="pre">/blog/{page}</span></code>路径只匹配其中<code class="docutils literal"><span class="pre">{page}</span></code>部分为整数的网址，则此示例中的路由可以很好地工作。
                                    幸运的是，可以轻松地为每个参数添加正则表达式要求。 例如：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Annotations</em>
                                            <div class="highlight-php-annotations">
                                                <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/BlogController.php</span>

<span class="c1">// ...</span>

<span class="sd">/**</span>
<span class="sd"> * @Route(&quot;/blog/{page}&quot;, defaults={&quot;page&quot;: 1}, requirements={</span>
<span class="sd"> *     &quot;page&quot;: &quot;\d+&quot;</span>
<span class="sd"> * })</span>
<span class="sd"> */</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">indexAction</span><span
                                                            class="p">(</span><span class="nv">$page</span><span
                                                            class="p">)</span>
<span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">blog</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">/blog/{page}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>  <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Blog</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">index</span><span
                                                            class="p-Indicator">,</span> <span
                                                            class="nv">page</span><span
                                                            class="p-Indicator">:</span> <span class="nv">1</span> <span
                                                            class="p-Indicator">}</span>
    <span class="l-Scalar-Plain">requirements</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">page</span><span class="p-Indicator">:</span>  <span
                                                            class="l-Scalar-Plain">\d+</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;blog&quot;</span> <span
                                                            class="na">path=</span><span class="s">&quot;/blog/{page}&quot;</span><span
                                                            class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Blog:index<span
                                                            class="nt">&lt;/default&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;page&quot;</span><span
                                                            class="nt">&gt;</span>1<span
                                                            class="nt">&lt;/default&gt;</span>
        <span class="nt">&lt;requirement</span> <span class="na">key=</span><span class="s">&quot;page&quot;</span><span
                                                            class="nt">&gt;</span>\d+<span class="nt">&lt;/requirement&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;blog&#39;</span><span
                                                            class="p">,</span> <span class="k">new</span> <span
                                                            class="nx">Route</span><span class="p">(</span><span
                                                            class="s1">&#39;/blog/{page}&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Blog:index&#39;</span><span
                                                            class="p">,</span>
    <span class="s1">&#39;page&#39;</span>        <span class="o">=&gt;</span> <span class="mi">1</span><span class="p">,</span>
<span class="p">),</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;page&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;\d+&#39;</span><span
                                                            class="p">,</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    <code class="docutils literal"><span class="pre">\d+</span></code>要求是一个正则表达式，表示<code class="docutils literal"><span class="pre">{page}</span></code>参数的值必须是数字（即数字）。
                                    <code class="docutils literal"><span
                                            class="pre">blog</span></code>路由仍然会匹配像<code class="docutils literal"><span class="pre">/blog/2</span></code>这样的URL（因为2是一个数字），但它不再匹配像<code class="docutils literal"><span class="pre">/blog/my-blog-post</span></code>这样的URL（因为<code class="docutils literal"><span class="pre">my-blog-post</span></code>不是一个数字）。
                                </p>
                                <p>
                                    因此，像<code class="docutils literal"><span class="pre">/blog/my-blog-post</span></code>这样的URL现在会正确匹配<code class="docutils literal"><span class="pre">blog_show</span></code>路由。
                                </p>
                                <table border="1" class="docutils">
                                    <colgroup>
                                        <col width="35%"/>
                                        <col width="19%"/>
                                        <col width="46%"/>
                                    </colgroup>
                                    <thead valign="bottom">
                                    <tr class="row-odd">
                                        <th class="head">URL</th>
                                        <th class="head">Route</th>
                                        <th class="head">Parameters</th>
                                    </tr>
                                    </thead>
                                    <tbody valign="top">
                                    <tr class="row-even">
                                        <td><code class="docutils literal"><span class="pre">/blog/2</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">blog</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">{page}</span></code> =
                                            <code class="docutils literal"><span class="pre">2</span></code></td>
                                    </tr>
                                    <tr class="row-odd">
                                        <td><code class="docutils literal"><span
                                                class="pre">/blog/my-blog-post</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">blog_show</span></code>
                                        </td>
                                        <td><code class="docutils literal"><span class="pre">{slug}</span></code> =
                                            <code class="docutils literal"><span class="pre">my-blog-post</span></code>
                                        </td>
                                    </tr>
                                    <tr class="row-even">
                                        <td><code class="docutils literal"><span class="pre">/blog/2-my-blog-post</span></code>
                                        </td>
                                        <td><code class="docutils literal"><span class="pre">blog_show</span></code>
                                        </td>
                                        <td><code class="docutils literal"><span class="pre">{slug}</span></code> =
                                            <code class="docutils literal"><span
                                                    class="pre">2-my-blog-post</span></code></td>
                                    </tr>
                                    </tbody>
                                </table>
                                <div class="sidebar">
                                    <p class="first sidebar-title">之前的路由总是赢</p>
                                    <p class="last">
                                        这一切意味着路由的顺序是非常重要的。
                                        如果将<code class="docutils literal"><span class="pre">blog_show</span></code>路由置于<code class="docutils literal"><span class="pre">blog</span></code>路由之上，
                                        则由于<code class="docutils literal"><span class="pre">blog_show</span></code>的<code class="docutils literal"><span class="pre">{slug}</span></code>参数没有要求，所以URL <code class="docutils literal"><span class="pre">/blog/2</span></code>将与<code class="docutils literal"><span class="pre">blog_show</span></code>而不是<code class="docutils literal"><span class="pre">blog</span></code>相匹配。
                                        通过使用适当的顺序和聪明的要求，你可以完成任何事情。
                                    </p>
                                </div>
                                <p>由于参数要求是正则表达式，每个要求的复杂性和灵活性完全取决于您。 假设应用程序的主页有两种不同的语言，基于URL：</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Annotations</em>
                                            <div class="highlight-php-annotations">
                                                <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/MainController.php</span>

<span class="c1">// ...</span>
<span class="k">class</span> <span class="nc">MainController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @Route(&quot;/{_locale}&quot;, defaults={&quot;_locale&quot;: &quot;en&quot;}, requirements={</span>
<span class="sd">     *     &quot;_locale&quot;: &quot;en|fr&quot;</span>
<span class="sd">     * })</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">homepageAction</span><span class="p">(</span><span
                                                            class="nv">$_locale</span><span class="p">)</span>
    <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">homepage</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>      <span class="l-Scalar-Plain">/{_locale}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span>  <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Main</span><span
                                                            class="p-Indicator">:</span><span class="nv">homepage</span><span
                                                            class="p-Indicator">,</span> <span class="nv">_locale</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">en</span> <span class="p-Indicator">}</span>
    <span class="l-Scalar-Plain">requirements</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">_locale</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">en|fr</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;homepage&quot;</span> <span
                                                            class="na">path=</span><span class="s">&quot;/{_locale}&quot;</span><span
                                                            class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Main:homepage<span
                                                            class="nt">&lt;/default&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;_locale&quot;</span><span
                                                            class="nt">&gt;</span>en<span
                                                            class="nt">&lt;/default&gt;</span>
        <span class="nt">&lt;requirement</span> <span class="na">key=</span><span
                                                            class="s">&quot;_locale&quot;</span><span
                                                            class="nt">&gt;</span>en|fr<span class="nt">&lt;/requirement&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;homepage&#39;</span><span class="p">,</span> <span
                                                            class="k">new</span> <span class="nx">Route</span><span
                                                            class="p">(</span><span
                                                            class="s1">&#39;/{_locale}&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Main:homepage&#39;</span><span
                                                            class="p">,</span>
    <span class="s1">&#39;_locale&#39;</span>     <span class="o">=&gt;</span> <span class="s1">&#39;en&#39;</span><span
                                                            class="p">,</span>
<span class="p">),</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;_locale&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;en|fr&#39;</span><span
                                                            class="p">,</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    对于传入请求，URL的<code class="docutils literal"><span
                                            class="pre">{_locale}</span></code>部分与正则表达式<code class="docutils literal"><span
                                            class="pre">(en|fr)</span></code>相匹配。
                                </p>
                                <table border="1" class="docutils">
                                    <colgroup>
                                        <col width="23%"/>
                                        <col width="77%"/>
                                    </colgroup>
                                    <thead valign="bottom">
                                    <tr class="row-odd">
                                        <th class="head">Path</th>
                                        <th class="head">Parameters</th>
                                    </tr>
                                    </thead>
                                    <tbody valign="top">
                                    <tr class="row-even">
                                        <td><code class="docutils literal"><span class="pre">/</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">{_locale}</span></code> =
                                            <code class="docutils literal"><span
                                                    class="pre">&quot;en&quot;</span></code></td>
                                    </tr>
                                    <tr class="row-odd">
                                        <td><code class="docutils literal"><span class="pre">/en</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">{_locale}</span></code> =
                                            <code class="docutils literal"><span
                                                    class="pre">&quot;en&quot;</span></code></td>
                                    </tr>
                                    <tr class="row-even">
                                        <td><code class="docutils literal"><span class="pre">/fr</span></code></td>
                                        <td><code class="docutils literal"><span class="pre">{_locale}</span></code> =
                                            <code class="docutils literal"><span
                                                    class="pre">&quot;fr&quot;</span></code></td>
                                    </tr>
                                    <tr class="row-odd">
                                        <td><code class="docutils literal"><span class="pre">/es</span></code></td>
                                        <td><em>won&#8217;t match this route</em></td>
                                    </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="section" id="adding-http-method-requirements">
                                <span id="index-6"></span>
                                <h3>添加HTTP方法限制<a class="headerlink" href="#adding-http-method-requirements"
                                                 title="永久链接至标题">¶</a></h3>
                                <p>除了URL之外，您还可以匹配传入请求的方法（即GET，HEAD，POST，PUT，DELETE）。 假设您有两个控制器的联系表单 - 一个用于显示表单（在GET请求上），另一个用于处理表单（在POST请求中）。 这可以通过以下路由配置完成：</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Annotations</em>
                                            <div class="highlight-php-annotations">
                                                <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/MainController.php</span>
<span class="k">namespace</span> <span class="nx">AppBundle\Controller</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Sensio\Bundle\FrameworkExtraBundle\Configuration\Method</span><span
                                                            class="p">;</span>
<span class="c1">// ...</span>

<span class="k">class</span> <span class="nc">MainController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @Route(&quot;/contact&quot;)</span>
<span class="sd">     * @Method(&quot;GET&quot;)</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">contactAction</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// ... display contact form</span>
    <span class="p">}</span>

    <span class="sd">/**</span>
<span class="sd">     * @Route(&quot;/contact&quot;)</span>
<span class="sd">     * @Method(&quot;POST&quot;)</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">processContactAction</span><span
                                                            class="p">()</span>
    <span class="p">{</span>
        <span class="c1">// ... process contact form</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">contact</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>     <span
                                                            class="l-Scalar-Plain">/contact</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Main</span><span
                                                            class="p-Indicator">:</span><span class="nv">contact</span> <span
                                                            class="p-Indicator">}</span>
    <span class="l-Scalar-Plain">methods</span><span class="p-Indicator">:</span>  <span
                                                            class="p-Indicator">[</span><span class="nv">GET</span><span
                                                            class="p-Indicator">]</span>

<span class="l-Scalar-Plain">contact_process</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>     <span
                                                            class="l-Scalar-Plain">/contact</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Main</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">processContact</span> <span
                                                            class="p-Indicator">}</span>
    <span class="l-Scalar-Plain">methods</span><span class="p-Indicator">:</span>  <span
                                                            class="p-Indicator">[</span><span
                                                            class="nv">POST</span><span class="p-Indicator">]</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;contact&quot;</span> <span
                                                            class="na">path=</span><span
                                                            class="s">&quot;/contact&quot;</span> <span class="na">methods=</span><span
                                                            class="s">&quot;GET&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Main:contact<span
                                                            class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span
                                                            class="s">&quot;contact_process&quot;</span> <span
                                                            class="na">path=</span><span
                                                            class="s">&quot;/contact&quot;</span> <span class="na">methods=</span><span
                                                            class="s">&quot;POST&quot;</span><span
                                                            class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Main:processContact<span
                                                            class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;contact&#39;</span><span class="p">,</span> <span
                                                            class="k">new</span> <span class="nx">Route</span><span
                                                            class="p">(</span><span class="s1">&#39;/contact&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Main:contact&#39;</span><span
                                                            class="p">,</span>
<span class="p">),</span> <span class="k">array</span><span class="p">(),</span> <span class="k">array</span><span
                                                            class="p">(),</span> <span class="s1">&#39;&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(),</span> <span class="k">array</span><span
                                                            class="p">(</span><span class="s1">&#39;GET&#39;</span><span
                                                            class="p">)));</span>

<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;contact_process&#39;</span><span
                                                            class="p">,</span> <span class="k">new</span> <span
                                                            class="nx">Route</span><span class="p">(</span><span
                                                            class="s1">&#39;/contact&#39;</span><span class="p">,</span> <span
                                                            class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Main:processContact&#39;</span><span
                                                            class="p">,</span>
<span class="p">),</span> <span class="k">array</span><span class="p">(),</span> <span class="k">array</span><span
                                                            class="p">(),</span> <span class="s1">&#39;&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(),</span> <span class="k">array</span><span
                                                            class="p">(</span><span
                                                            class="s1">&#39;POST&#39;</span><span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    尽管这两条路由具有相同的路径（<code
                                        class="docutils literal"><span class="pre">/contact</span></code>），但第一条路由将仅匹配GET请求，第二条路由将仅匹配POST请求。 这意味着您可以通过相同的URL显示表单并提交表单，同时对两个操作使用不同的控制器。
                                </p>
                                <div class="admonition note">
                                    <p class="first admonition-title">注解</p>
                                    <p class="last">
                                        如果未指定<code class="docutils literal"><span
                                                class="pre">methods</span></code>，则路线将在所有方法上匹配。
                                    </p>
                                </div>
                            </div>
                            <div class="section" id="adding-a-host-requirement">
                                <h3>添加域名限制<a class="headerlink" href="#adding-a-host-requirement" title="永久链接至标题">¶</a>
                                </h3>
                                <p>
                                    您也可以匹配传入请求的HTTP主机。 有关更多信息，请参阅路由组件文档中的<a class="reference internal" href="hostname_pattern.html"
                                                                            tppabs="http://symfony.cn/docs/components/routing/hostname_pattern.html"><em>
                                        如何根据主机匹配路由</em></a>。
                                </p>
                            </div>
                            <div class="section" id="completely-customized-route-matching-with-conditions">
                                <span id="book-routing-conditions"></span>
                                <h3>使用条件判断实现完全自定义<a class="headerlink"
                                                    href="#completely-customized-route-matching-with-conditions"
                                                    title="永久链接至标题">¶</a></h3>
                                <p>
                                    正如你所看到的，一条路由只能匹配某些路由通配符（通过正则表达式），HTTP方法或主机名。 但是使用<code
                                            class="docutils literal"><span class="pre">conditions</span></code>可以扩展路由系统以具有几乎无限的灵活性：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="l-Scalar-Plain">contact</span><span
                                                        class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>     <span
                                                            class="l-Scalar-Plain">/contact</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AcmeDemoBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Main</span><span
                                                            class="p-Indicator">:</span><span class="nv">contact</span> <span
                                                            class="p-Indicator">}</span>
    <span class="l-Scalar-Plain">condition</span><span class="p-Indicator">:</span> <span class="s">&quot;context.getMethod()</span><span
                                                            class="nv"> </span><span class="s">in</span><span
                                                            class="nv"> </span><span
                                                            class="s">[&#39;GET&#39;,</span><span
                                                            class="nv"> </span><span
                                                            class="s">&#39;HEAD&#39;]</span><span
                                                            class="nv"> </span><span class="s">and</span><span
                                                            class="nv"> </span><span class="s">request.headers.get(&#39;User-Agent&#39;)</span><span
                                                            class="nv"> </span><span class="s">matches</span><span
                                                            class="nv"> </span><span class="s">&#39;/firefox/i&#39;&quot;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;contact&quot;</span> <span
                                                            class="na">path=</span><span
                                                            class="s">&quot;/contact&quot;</span><span
                                                            class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AcmeDemoBundle:Main:contact<span
                                                            class="nt">&lt;/default&gt;</span>
        <span class="nt">&lt;condition&gt;</span>context.getMethod() in [&#39;GET&#39;, &#39;HEAD&#39;] and request.headers.get(&#39;User-Agent&#39;) matches &#39;/firefox/i&#39;<span
                                                            class="nt">&lt;/condition&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span
                                                        class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;contact&#39;</span><span class="p">,</span> <span
                                                            class="k">new</span> <span class="nx">Route</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;/contact&#39;</span><span class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
        <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AcmeDemoBundle:Main:contact&#39;</span><span
                                                            class="p">,</span>
    <span class="p">),</span>
    <span class="k">array</span><span class="p">(),</span>
    <span class="k">array</span><span class="p">(),</span>
    <span class="s1">&#39;&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(),</span>
    <span class="k">array</span><span class="p">(),</span>
    <span class="s1">&#39;context.getMethod() in [&quot;GET&quot;, &quot;HEAD&quot;] and request.headers.get(&quot;User-Agent&quot;) matches &quot;/firefox/i&quot;&#39;</span>
<span class="p">));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    <code class="docutils literal"><span class="pre">condition</span></code>是一个表达式，您可以在这里了解更多关于它的语法的信息：<a class="reference internal" href="syntax.html"
                                                                                                                                          tppabs="http://symfony.cn/docs/components/expression_language/syntax.html"><em>The
                                        表达式语法</em></a>。 有了这个，路由将不匹配，除非HTTP方法是GET或HEAD，并且<code class="docutils literal"><span class="pre">User-Agent</span></code>头与<code class="docutils literal"><span
                                            class="pre">firefox</span></code>匹配。
                                </p>
                                <p>您可以通过利用传递到表达式中的两个变量来执行表达式中所需的任何复杂逻辑：</p>
                                <dl class="docutils">
                                    <dt><code class="docutils literal"><span class="pre">context</span></code></dt>
                                    <dd>
                                        <code class="docutils literal"><a class="reference external"
                                                                          href="javascript:if(confirm('http://api.symfony.com/master/Symfony/Component/Routing/RequestContext.html  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://api.symfony.com/master/Symfony/Component/Routing/RequestContext.html'"
                                                                          tppabs="http://api.symfony.com/master/Symfony/Component/Routing/RequestContext.html"
                                                                          title="Symfony\Component\Routing\RequestContext"><span
                                                class="pre">RequestContext</span></a></code>的一个实例，它包含有关匹配路由的最基本信息。
                                    </dd>
                                    <dt><code class="docutils literal"><span class="pre">request</span></code></dt>
                                    <dd>
                                        Symfony <code class="docutils literal"><a class="reference external"
                                                                                  href="javascript:if(confirm('http://api.symfony.com/master/Symfony/Component/HttpFoundation/Request.html  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://api.symfony.com/master/Symfony/Component/HttpFoundation/Request.html'"
                                                                                  tppabs="http://api.symfony.com/master/Symfony/Component/HttpFoundation/Request.html"
                                                                                  title="Symfony\Component\HttpFoundation\Request"><span
                                                class="pre">Request</span></a></code>对象（请参阅<a class="reference internal"
                                                                                              href="introduction-1.html#component-http-foundation-request"
                                                                                              tppabs="http://symfony.cn/docs/components/http_foundation/introduction.html#component-http-foundation-request"><span>Request</span></a> ）。
                                    </dd>
                                </dl>
                                <div class="admonition caution">
                                    <p class="first admonition-title">警告</p>
                                    <p class="last">生成URL时不考虑condition。</p>
                                </div>
                                <div class="sidebar">
                                    <p class="first sidebar-title">表达式被编译为PHP</p>
                                    <p>在幕后，表达式被编译为原始的PHP。 我们的示例将在缓存目录中生成以下PHP：</p>
                                    <div class="highlight-php">
                                        <div class="highlight"><pre><span class="k">if</span> <span
                                                class="p">(</span><span class="nb">rtrim</span><span
                                                class="p">(</span><span class="nv">$pathinfo</span><span
                                                class="p">,</span> <span class="s1">&#39;/contact&#39;</span><span
                                                class="p">)</span> <span class="o">===</span> <span class="s1">&#39;&#39;</span> <span
                                                class="o">&amp;&amp;</span> <span class="p">(</span>
    <span class="nb">in_array</span><span class="p">(</span><span class="nv">$context</span><span class="o">-&gt;</span><span
                                                    class="na">getMethod</span><span class="p">(),</span> <span
                                                    class="k">array</span><span class="p">(</span><span
                                                    class="mi">0</span> <span class="o">=&gt;</span> <span class="s2">&quot;GET&quot;</span><span
                                                    class="p">,</span> <span class="mi">1</span> <span
                                                    class="o">=&gt;</span> <span class="s2">&quot;HEAD&quot;</span><span
                                                    class="p">))</span>
    <span class="o">&amp;&amp;</span> <span class="nb">preg_match</span><span class="p">(</span><span class="s2">&quot;/firefox/i&quot;</span><span
                                                    class="p">,</span> <span class="nv">$request</span><span class="o">-&gt;</span><span
                                                    class="na">headers</span><span class="o">-&gt;</span><span
                                                    class="na">get</span><span class="p">(</span><span class="s2">&quot;User-Agent&quot;</span><span
                                                    class="p">))</span>
<span class="p">))</span> <span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre>
                                        </div>
                                    </div>
                                    <p class="last">
                                        因此，使用<code class="docutils literal"><span
                                                class="pre">condition</span></code>键不会导致底层PHP执行所需的额外开销。
                                    </p>
                                </div>
                            </div>
                            <div class="section" id="advanced-routing-example">
                                <span id="index-7"></span><span id="id1"></span>
                                <h3>进阶示例<a class="headerlink" href="#advanced-routing-example" title="永久链接至标题">¶</a>
                                </h3>
                                <p>此时，您可以拥有在Symfony中创建强大路由结构所需的一切。 以下是路由系统的灵活性的一个例子：</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Annotations</em>
                                            <div class="highlight-php-annotations">
                                                <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/ArticleController.php</span>

<span class="c1">// ...</span>
<span class="k">class</span> <span class="nc">ArticleController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @Route(</span>
<span class="sd">     *     &quot;/articles/{_locale}/{year}/{title}.{_format}&quot;,</span>
<span class="sd">     *     defaults={&quot;_format&quot;: &quot;html&quot;},</span>
<span class="sd">     *     requirements={</span>
<span class="sd">     *         &quot;_locale&quot;: &quot;en|fr&quot;,</span>
<span class="sd">     *         &quot;_format&quot;: &quot;html|rss&quot;,</span>
<span class="sd">     *         &quot;year&quot;: &quot;\d+&quot;</span>
<span class="sd">     *     }</span>
<span class="sd">     * )</span>
<span class="sd">     */</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">showAction</span><span
                                                            class="p">(</span><span class="nv">$_locale</span><span
                                                            class="p">,</span> <span class="nv">$year</span><span
                                                            class="p">,</span> <span class="nv">$title</span><span
                                                            class="p">)</span>
    <span class="p">{</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">article_show</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">/articles/{_locale}/{year}/{title}.{_format}</span>
  <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Article</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">show</span><span
                                                            class="p-Indicator">,</span> <span class="nv">_format</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">html</span> <span class="p-Indicator">}</span>
  <span class="l-Scalar-Plain">requirements</span><span class="p-Indicator">:</span>
      <span class="l-Scalar-Plain">_locale</span><span class="p-Indicator">:</span>  <span
                                                            class="l-Scalar-Plain">en|fr</span>
      <span class="l-Scalar-Plain">_format</span><span class="p-Indicator">:</span>  <span class="l-Scalar-Plain">html|rss</span>
      <span class="l-Scalar-Plain">year</span><span class="p-Indicator">:</span>     <span
                                                            class="l-Scalar-Plain">\d+</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;article_show&quot;</span>
        <span class="na">path=</span><span class="s">&quot;/articles/{_locale}/{year}/{title}.{_format}&quot;</span><span
                                                            class="nt">&gt;</span>

        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Article:show<span
                                                            class="nt">&lt;/default&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span class="s">&quot;_format&quot;</span><span
                                                            class="nt">&gt;</span>html<span
                                                            class="nt">&lt;/default&gt;</span>
        <span class="nt">&lt;requirement</span> <span class="na">key=</span><span
                                                            class="s">&quot;_locale&quot;</span><span
                                                            class="nt">&gt;</span>en|fr<span class="nt">&lt;/requirement&gt;</span>
        <span class="nt">&lt;requirement</span> <span class="na">key=</span><span
                                                            class="s">&quot;_format&quot;</span><span
                                                            class="nt">&gt;</span>html|rss<span class="nt">&lt;/requirement&gt;</span>
        <span class="nt">&lt;requirement</span> <span class="na">key=</span><span class="s">&quot;year&quot;</span><span
                                                            class="nt">&gt;</span>\d+<span class="nt">&lt;/requirement&gt;</span>

    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span>
    <span class="s1">&#39;article_show&#39;</span><span class="p">,</span>
    <span class="k">new</span> <span class="nx">Route</span><span class="p">(</span><span class="s1">&#39;/articles/{_locale}/{year}/{title}.{_format}&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
        <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Article:show&#39;</span><span
                                                            class="p">,</span>
        <span class="s1">&#39;_format&#39;</span>     <span class="o">=&gt;</span> <span
                                                            class="s1">&#39;html&#39;</span><span class="p">,</span>
    <span class="p">),</span> <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;_locale&#39;</span> <span class="o">=&gt;</span> <span
                                                            class="s1">&#39;en|fr&#39;</span><span class="p">,</span>
        <span class="s1">&#39;_format&#39;</span> <span class="o">=&gt;</span> <span
                                                            class="s1">&#39;html|rss&#39;</span><span class="p">,</span>
        <span class="s1">&#39;year&#39;</span>    <span class="o">=&gt;</span> <span
                                                            class="s1">&#39;\d+&#39;</span><span class="p">,</span>
    <span class="p">))</span>
<span class="p">);</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    正如您所看到的，只有当URL的<code
                                            class="docutils literal"><span class="pre">{_locale}</span></code>部分是<code class="docutils literal"><span class="pre">en</span></code>或<code class="docutils literal"><span class="pre">fr</span></code>，并且<code class="docutils literal"><span class="pre">{year}</span></code>是数字时，此路线才会匹配。 此路线还显示了如何在占位符之间使用点而不是斜线。 与此路线匹配的网址可能如下所示：
                                </p>
                                <ul class="simple">
                                    <li><code class="docutils literal"><span
                                            class="pre">/articles/en/2010/my-post</span></code></li>
                                    <li><code class="docutils literal"><span
                                            class="pre">/articles/fr/2010/my-post.rss</span></code></li>
                                    <li><code class="docutils literal"><span class="pre">/articles/en/2013/my-latest-post.html</span></code>
                                    </li>
                                </ul>
                                <div class="sidebar" id="book-routing-format-param">
                                    <p class="first sidebar-title">
                                        特殊的<code class="docutils literal"><span
                                                class="pre">_format</span></code>路由参数
                                    </p>
                                    <p class="last">

                                        这个例子还突出了特殊的<code
                                            class="docutils literal"><span class="pre">_format</span></code>路由参数。 使用此参数时，匹配的值将成为<code class="docutils literal"><span class="pre">Request</span></code>对象的“请求格式”。 最终，请求格式用于诸如设置响应的<code class="docutils literal"><span class="pre">Content-Type</span></code>（例如，<code class="docutils literal"><span
                                            class="pre">json</span></code><code class="docutils literal"><span
                                            class="pre">Content-Type</span></code>转换为<code
                                            class="docutils literal"><span
                                            class="pre">application/json</span></code>的内容类型）之类的内容。 它也可以用于控制器为<code class="docutils literal"><span
                                            class="pre">_format</span></code>的每个值呈现不同的模板。 <code
                                            class="docutils literal"><span class="pre">_format</span></code>参数是以不同格式呈现相同内容的一种非常强大的方式。
                                    </p>
                                </div>
                                <div class="admonition note">
                                    <p class="first admonition-title">注解</p>
                                    <p class="last">
                                        有时候你想让全局可配置的路由的某些部分。 Symfony通过利用服务容器参数为您提供了一种方法。 请阅读<a class="reference internal"
                                                                                               href="service_container_parameters.html"
                                                                                               tppabs="http://symfony.cn/docs/cookbook/routing/service_container_parameters.html"><em>“如何在您的路线中使用服务容器参数”</em></a>中的更多信息。
                                    </p>
                                </div>
                            </div>
                            <div class="section" id="special-routing-parameters">
                                <h3>有特殊含义的参数<a class="headerlink" href="#special-routing-parameters"
                                               title="永久链接至标题">¶</a></h3>
                                <p>
                                    如您所见，每个路由参数或默认值最终都可用作控制器方法中的参数。 另外，还有三个特殊的参数：每个都在应用程序中添加一个独特的功能：
                                </p>
                                <dl class="docutils">
                                    <dt><code class="docutils literal"><span class="pre">_controller</span></code></dt>
                                    <dd>如您所见，该参数用于确定路由匹配时执行哪个控制器。
                                    </dd>
                                    <dt><code class="docutils literal"><span class="pre">_format</span></code></dt>
                                    <dd>
                                        用于设置请求格式（<a class="reference internal"
                                                    href="#book-routing-format-param"><span>阅读更多</span></a>）。
                                    </dd>
                                    <dt><code class="docutils literal"><span class="pre">_locale</span></code></dt>
                                    <dd>
                                        用于设置请求的语言环境（<a class="reference internal"
                                                       href="translation.html#book-translation-locale-url"
                                                       tppabs="http://symfony.cn/docs/book/translation.html#book-translation-locale-url"><span>请阅读更多</span></a>）。
                                    </dd>
                                </dl>
                            </div>
                        </div>
                        <div class="section" id="controller-naming-pattern">
                            <span id="controller-string-syntax"></span><span id="index-8"></span>
                            <h2>Controller命名规则<a class="headerlink" href="#controller-naming-pattern"
                                                 title="永久链接至标题">¶</a></h2>
                            <p>
                                每条路线都必须有一个<code class="docutils literal"><span
                                        class="pre">_controller</span></code>参数，该参数指定在匹配路线时应执行哪个控制器。 该参数使用称为逻辑控制器名称的简单字符串模式，Symfony映射到特定的PHP方法和类。 该模式有三部分，每部分用冒号分隔：
                            </p>
                            <blockquote>
                                <div><strong>bundle</strong>:<strong>controller</strong>:<strong>action</strong></div>
                            </blockquote>
                            <p>
                                例如，一个<code class="docutils literal"><span class="pre">_controller</span></code>的值：<code class="docutils literal"><span
                                        class="pre">AppBundle:Blog:show</span></code>表示：
                            </p>
                            <table border="1" class="docutils">
                                <colgroup>
                                    <col width="22%"/>
                                    <col width="44%"/>
                                    <col width="34%"/>
                                </colgroup>
                                <thead valign="bottom">
                                <tr class="row-odd">
                                    <th class="head">Bundle</th>
                                    <th class="head">Controller Class</th>
                                    <th class="head">Method Name</th>
                                </tr>
                                </thead>
                                <tbody valign="top">
                                <tr class="row-even">
                                    <td>AppBundle</td>
                                    <td><code class="docutils literal"><span class="pre">BlogController</span></code>
                                    </td>
                                    <td><code class="docutils literal"><span class="pre">showAction</span></code></td>
                                </tr>
                                </tbody>
                            </table>
                            <p>控制器可能如下所示：</p>
                            <div class="highlight-php">
                                <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/BlogController.php</span>
<span class="k">namespace</span> <span class="nx">AppBundle\Controller</span><span class="p">;</span>

<span class="k">use</span> <span class="nx">Symfony\Bundle\FrameworkBundle\Controller\Controller</span><span
                                            class="p">;</span>

<span class="k">class</span> <span class="nc">BlogController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">showAction</span><span
                                            class="p">(</span><span class="nv">$slug</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                </div>
                            </div>
                            <p>
                                请注意，Symfony将字符串<code class="docutils literal"><span class="pre">Controller</span></code>添加到类名称（<code class="docutils literal"><span class="pre">Blog</span></code> => <code class="docutils literal"><span class="pre">BlogController</span></code>）并将<code class="docutils literal"><span class="pre">Action</span></code>添加到方法名称（<code class="docutils literal"><span class="pre">show</span></code> =><code
                                        class="docutils literal"><span class="pre">showAction</span></code>）。
                            </p>
                            <p>
                                您也可以使用其完全合格的类名称和方法引用此控制器：<code class="docutils literal"><span class="pre">AppBundle\Controller\BlogController::showAction</span></code>。 但是，如果遵循一些简单的约定，则逻辑名称更简洁并且允许更多的灵活性。
                            </p>
                            <div class="admonition note">
                                <p class="first admonition-title">注解</p>
                                <p class="last">
                                    除了使用逻辑名称或完全限定的类名外，Symfony还支持第三种引用控制器的方式。 此方法仅使用一个冒号分隔符（例如<code class="docutils literal"><span
                                            class="pre">service_name:indexAction</span></code>），并将该控制器称为服务（请参阅<a class="reference internal"
                                                                                                                 href="service.html"
                                                                                                                 tppabs="http://symfony.cn/docs/cookbook/controller/service.html"><em>如何将Controller注册为Service</em></a>）。
                                </p>
                            </div>
                        </div>
                        <div class="section" id="route-parameters-and-controller-arguments">
                            <h2>Route参数和Controller参数<a class="headerlink"
                                                       href="#route-parameters-and-controller-arguments"
                                                       title="永久链接至标题">¶</a></h2>
                            <p>
                                路由参数（例如<code class="docutils literal"><span class="pre">{slug}</span></code>）尤其重要，因为每个参数都可用作控制器方法的参数：
                            </p>
                            <div class="highlight-php">
                                <div class="highlight"><pre><span class="k">public</span> <span
                                        class="k">function</span> <span class="nf">showAction</span><span
                                        class="p">(</span><span class="nv">$slug</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// ...</span>
<span class="p">}</span>
</pre>
                                </div>
                            </div>
                            <p>
                                实际上，整个<code class="docutils literal"><span
                                        class="pre">defaults</span></code>值集合会与参数值合并以形成单个数组。 该数组中的每个键都可用作控制器上的参数。
                            </p>
                            <p>
                                换句话说，对于控制器方法的每个参数，Symfony会查找该名称的路由参数并将其值分配给该参数。 在上面的高级示例中，以下变量的任何组合（以任意顺序）可以用作<code class="docutils literal"><span
                                        class="pre">showAction()</span></code>方法的参数：
                            </p>
                            <ul class="simple">
                                <li><code class="docutils literal"><span class="pre">$_locale</span></code></li>
                                <li><code class="docutils literal"><span class="pre">$year</span></code></li>
                                <li><code class="docutils literal"><span class="pre">$title</span></code></li>
                                <li><code class="docutils literal"><span class="pre">$_format</span></code></li>
                                <li><code class="docutils literal"><span class="pre">$_controller</span></code></li>
                                <li><code class="docutils literal"><span class="pre">$_route</span></code></li>
                            </ul>
                            <p>
                                由于占位符和<code class="docutils literal"><span
                                        class="pre">defaults</span></code>值集合合并在一起，即使<code class="docutils literal"><span class="pre">$_controller</span></code>变量也可用。 有关更详细的讨论，请参阅<a class="reference internal"
                                                                                                                                                                                      href="controller.html#route-parameters-controller-arguments"
                                                                                                                                                                                      tppabs="http://symfony.cn/docs/book/controller.html#route-parameters-controller-arguments"><span>使用Route参数作为Controller参数</span></a>。
                            </p>
                            <div class="admonition tip">
                                <p class="first admonition-title">小技巧</p>
                                <p class="last">
                                    特殊的<code class="docutils literal"><span
                                            class="pre">$_route</span></code>变量被设置为匹配的路由的名称。
                                </p>
                            </div>
                            <p>
                                您甚至可以向路由定义添加额外信息并在控制器内访问它。 有关此主题的更多信息，请参阅<a class="reference internal" href="extra_information.html"
                                                                            tppabs="http://symfony.cn/docs/cookbook/routing/extra_information.html"><em>如何将额外信息从路由传递到控制器</em></a>。
                            </p>
                        </div>
                        <div class="section" id="including-external-routing-resources">
                            <span id="routing-include-external-resources"></span><span id="index-9"></span>
                            <h2>包含外部规则<a class="headerlink" href="#including-external-routing-resources"
                                         title="永久链接至标题">¶</a></h2>
                            <p>所有route都通过一个配置文件被被载入，通常是 <code class="docutils literal"><span class="pre">app/config/routing.yml</span></code>
                                文件（查阅 <a class="reference internal" href="#creating-routes">创建Route</a>）。不过如果你使用注解的方式，你得将router指向使用注解的Controller上，这可以通过“importing”指令将配置引入：
                            </p>
                            <div class="configuration-block">
                                <ul class="simple">
                                    <li><em>YAML</em>
                                        <div class="highlight-yaml">
                                            <div class="highlight"><pre><span class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">app</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">resource</span><span class="p-Indicator">:</span> <span class="s">&quot;@AppBundle/Controller/&quot;</span>
    <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">annotation</span> <span
                                                        class="c1"># required to enable the Annotation reader for this resource</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>XML</em>
                                        <div class="highlight-xml">
                                            <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="c">&lt;!-- the type is required to enable the annotation reader for this resource --&gt;</span>
    <span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;@AppBundle/Controller/&quot;</span> <span
                                                        class="na">type=</span><span
                                                        class="s">&quot;annotation&quot;</span><span
                                                        class="nt">/&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>PHP</em>
                                        <div class="highlight-php">
                                            <div class="highlight"><pre><span
                                                    class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                        class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">addCollection</span><span
                                                        class="p">(</span>
    <span class="c1">// second argument is the type, which is required to enable</span>
    <span class="c1">// the annotation reader for this resource</span>
    <span class="nv">$loader</span><span class="o">-&gt;</span><span class="na">import</span><span
                                                        class="p">(</span><span class="s2">&quot;@AppBundle/Controller/&quot;</span><span
                                                        class="p">,</span> <span
                                                        class="s2">&quot;annotation&quot;</span><span class="p">)</span>
<span class="p">);</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="admonition note">
                                <p class="first admonition-title">注解</p>
                                <p class="last">
                                    从YAML导入资源时，密钥（例如<code
                                            class="docutils literal"><span class="pre">app</span></code>）没有意义。 只要确保它是独一无二的，所以没有其他线路覆盖它。
                                </p>
                            </div>
                            <p>
                                <code class="docutils literal"><span class="pre">资源</span></code>密钥加载给定的路由资源。 在本例中，资源是一个目录，其中<code class="docutils literal"><span class="pre">&#64;AppBundle</span></code>快捷键语法解析为AppBundle的完整路径。 当指向一个目录时，该目录中的所有文件都被解析并放入路由中。
                            </p>
                            <div class="admonition note">
                                <p class="first admonition-title">注解</p>
                                <p>
                                    您还可以包含其他路由配置文件，这通常用于导入第三方包的路由：
                                </p>
                                <div class="last configuration-block">
                                    <ul class="simple">
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">app</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">resource</span><span class="p-Indicator">:</span> <span class="s">&quot;@AcmeOtherBundle/Resources/config/routing.yml&quot;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;import</span> <span class="na">resource=</span><span class="s">&quot;@AcmeOtherBundle/Resources/config/routing.xml&quot;</span> <span
                                                            class="nt">/&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">addCollection</span><span
                                                            class="p">(</span>
    <span class="nv">$loader</span><span class="o">-&gt;</span><span class="na">import</span><span
                                                            class="p">(</span><span class="s2">&quot;@AcmeOtherBundle/Resources/config/routing.php&quot;</span><span
                                                            class="p">)</span>
<span class="p">);</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="section" id="prefixing-imported-routes">
                                <h3>包含外部规则时添加统一前缀<a class="headerlink" href="#prefixing-imported-routes"
                                                    title="永久链接至标题">¶</a></h3>
                                <p>
                                    您也可以选择为导入的路线提供“前缀”。 例如，假设你想在AppBundle中用<code
                                            class="docutils literal"><span class="pre">/site</span></code>（例如<code class="docutils literal"><span class="pre">/site/blog/{slug}</span></code>而不是<code class="docutils literal"><span
                                            class="pre">/blog/{slug}</span></code>）加所有路由的前缀：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">app</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">resource</span><span class="p-Indicator">:</span> <span class="s">&quot;@AppBundle/Controller/&quot;</span>
    <span class="l-Scalar-Plain">type</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">annotation</span>
    <span class="l-Scalar-Plain">prefix</span><span class="p-Indicator">:</span>   <span
                                                            class="l-Scalar-Plain">/site</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;import</span>
        <span class="na">resource=</span><span class="s">&quot;@AppBundle/Controller/&quot;</span>
        <span class="na">type=</span><span class="s">&quot;annotation&quot;</span>
        <span class="na">prefix=</span><span class="s">&quot;/site&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>

<span class="nv">$app</span> <span class="o">=</span> <span class="nv">$loader</span><span class="o">-&gt;</span><span
                                                            class="na">import</span><span class="p">(</span><span
                                                            class="s1">&#39;@AppBundle/Controller/&#39;</span><span
                                                            class="p">,</span> <span
                                                            class="s1">&#39;annotation&#39;</span><span
                                                            class="p">);</span>
<span class="nv">$app</span><span class="o">-&gt;</span><span class="na">addPrefix</span><span class="p">(</span><span
                                                            class="s1">&#39;/site&#39;</span><span class="p">);</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">addCollection</span><span
                                                            class="p">(</span><span class="nv">$app</span><span
                                                            class="p">);</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    从新路由资源加载的每条路由的路径现在都以字符串<code class="docutils literal"><span
                                            class="pre">/site</span></code>作为前缀。
                                </p>
                            </div>
                            <div class="section" id="adding-a-host-requirement-to-imported-routes">
                                <h3>包含外部规则时添加统一域名限制<a class="headerlink"
                                                      href="#adding-a-host-requirement-to-imported-routes"
                                                      title="永久链接至标题">¶</a></h3>
                                <p>
                                    您可以在导入的路由上设置主机正则表达式。 有关更多信息，请参阅<a class="reference internal"
                                                                      href="hostname_pattern.html#component-routing-host-imported"
                                                                      tppabs="http://symfony.cn/docs/components/routing/hostname_pattern.html#component-routing-host-imported"><span>使用导入路由的主机匹配</span></a>。
                                </p>
                            </div>
                        </div>
                        <div class="section" id="visualizing-debugging-routes">
                            <span id="index-10"></span>
                            <h2>调试<a class="headerlink" href="#visualizing-debugging-routes" title="永久链接至标题">¶</a></h2>
                            <p>
                                在添加和定制路线时，能够可视化并获取有关您的路线的详细信息会很有帮助。 在您的应用程序中查看每条路线的好方法是通过<code class="docutils literal"><span class="pre">debug:router</span></code> console命令。 通过从项目的根目录运行以下命令来执行该命令。
                            </p>
                            <div class="highlight-bash">
                                <div class="highlight"><pre><span class="nv">$ </span>php app/console debug:router
</pre>
                                </div>
                            </div>
                            <div class="versionadded">
                                <p><span class="versionmodified">2.6 新版功能: </span>
                                    在Symfony 2.6之前，这个命令被称为<code class="docutils literal"><span class="pre">router:debug</span></code>。
                                </p>
                            </div>
                            <p>这个命令将打印一个有用的列表，列出您的应用程序中所有配置的路由：</p>
                            <div class="highlight-text">
                                <div class="highlight"><pre>homepage              ANY       /
contact               GET       /contact
contact_process       POST      /contact
article_show          ANY       /articles/{_locale}/{year}/{title}.{_format}
blog                  ANY       /blog/{page}
blog_show             ANY       /blog/{slug}
</pre>
                                </div>
                            </div>
                            <p>您还可以通过在命令之后包含路由名称来获取单个路由上的特定信息：</p>
                            <div class="highlight-bash">
                                <div class="highlight"><pre><span class="nv">$ </span>php app/console debug:router article_show
</pre>
                                </div>
                            </div>
                            <p>
                                同样，如果您想测试URL是否与给定路由匹配，则可以使用<code class="docutils literal"><span class="pre">router:match</span></code> console命令：
                            </p>
                            <div class="highlight-bash">
                                <div class="highlight"><pre><span class="nv">$ </span>php app/console router:match /blog/my-latest-post
</pre>
                                </div>
                            </div>
                            <p>该命令将打印URL匹配的路由。</p>
                            <div class="highlight-text">
                                <div class="highlight"><pre>Route &quot;blog_show&quot; matches
</pre>
                                </div>
                            </div>
                        </div>
                        <div class="section" id="generating-urls">
                            <span id="index-11"></span>
                            <h2>生成URL<a class="headerlink" href="#generating-urls" title="永久链接至标题">¶</a></h2>
                            <p>
                                路由系统也应该用于生成URL。 实际上，路由是一个双向系统：将URL映射到控制器+参数和路由+参数返回到URL。 <code class="docutils literal"><a class="reference external"
                                                                                                                           href="javascript:if(confirm('http://api.symfony.com/master/Symfony/Component/Routing/Router.html  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://api.symfony.com/master/Symfony/Component/Routing/Router.html#method_match'"
                                                                                                                           tppabs="http://api.symfony.com/master/Symfony/Component/Routing/Router.html#method_match"
                                                                                                                           title="Symfony\Component\Routing\Router::match()"><span
                                        class="pre">match()</span></a></code>和<code class="docutils literal"><a class="reference external"
                                                                                                                href="javascript:if(confirm('http://api.symfony.com/master/Symfony/Component/Routing/Router.html  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://api.symfony.com/master/Symfony/Component/Routing/Router.html#method_generate'"
                                                                                                                tppabs="http://api.symfony.com/master/Symfony/Component/Routing/Router.html#method_generate"
                                                                                                                title="Symfony\Component\Routing\Router::generate()"><span
                                        class="pre">generate()</span></a></code>方法组成这个双向系统。 以前面的<code class="docutils literal"><span
                                        class="pre">blog_show</span></code>示例路由为例：
                            </p>
                            <div class="highlight-php">
                                <div class="highlight"><pre><span class="nv">$params</span> <span
                                        class="o">=</span> <span class="nv">$this</span><span
                                        class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span
                                        class="s1">&#39;router&#39;</span><span class="p">)</span><span
                                        class="o">-&gt;</span><span class="na">match</span><span class="p">(</span><span
                                        class="s1">&#39;/blog/my-blog-post&#39;</span><span class="p">);</span>
<span class="c1">// array(</span>
<span class="c1">//     &#39;slug&#39;        =&gt; &#39;my-blog-post&#39;,</span>
<span class="c1">//     &#39;_controller&#39; =&gt; &#39;AppBundle:Blog:show&#39;,</span>
<span class="c1">// )</span>

<span class="nv">$uri</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span
                                            class="na">get</span><span class="p">(</span><span class="s1">&#39;router&#39;</span><span
                                            class="p">)</span><span class="o">-&gt;</span><span
                                            class="na">generate</span><span class="p">(</span><span class="s1">&#39;blog_show&#39;</span><span
                                            class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;slug&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;my-blog-post&#39;</span>
<span class="p">));</span>
<span class="c1">// /blog/my-blog-post</span>
</pre>
                                </div>
                            </div>
                            <p>
                                要生成URL，您需要指定该路线路径中使用的路线名称（例如<code
                                        class="docutils literal"><span class="pre">blog_show</span></code>）和任何通配符（例如<code class="docutils literal"><span class="pre">slug</span> <span class="pre">=</span> <span class="pre">my-blog-post</span></code>）。 有了这些信息，任何URL都可以轻松生成：
                            </p>
                            <div class="highlight-php">
                                <div class="highlight"><pre><span class="k">class</span> <span
                                        class="nc">MainController</span> <span class="k">extends</span> <span
                                        class="nx">Controller</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">showAction</span><span
                                            class="p">(</span><span class="nv">$slug</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>

        <span class="nv">$url</span> <span class="o">=</span> <span class="nv">$this</span><span
                                            class="o">-&gt;</span><span class="na">generateUrl</span><span
                                            class="p">(</span>
            <span class="s1">&#39;blog_show&#39;</span><span class="p">,</span>
            <span class="k">array</span><span class="p">(</span><span class="s1">&#39;slug&#39;</span> <span class="o">=&gt;</span> <span
                                            class="s1">&#39;my-blog-post&#39;</span><span class="p">)</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                </div>
                            </div>
                            <div class="admonition note">
                                <p class="first admonition-title">注解</p>
                                <p>
                                    在不扩展Symfony的基础<code class="docutils literal"><a class="reference external"
                                                                                    href="javascript:if(confirm('http://api.symfony.com/master/Symfony/Bundle/FrameworkBundle/Controller/Controller.html  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://api.symfony.com/master/Symfony/Bundle/FrameworkBundle/Controller/Controller.html'"
                                                                                    tppabs="http://api.symfony.com/master/Symfony/Bundle/FrameworkBundle/Controller/Controller.html"
                                                                                    title="Symfony\Bundle\FrameworkBundle\Controller\Controller"><span
                                            class="pre">Controller</span></a></code>的控制器中，可以使用<code class="docutils literal"><span
                                            class="pre">router</span></code>服务的<code class="docutils literal"><a class="reference external"
                                                                                                                 href="javascript:if(confirm('http://api.symfony.com/master/Symfony/Component/Routing/Router.html  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://api.symfony.com/master/Symfony/Component/Routing/Router.html#method_generate'"
                                                                                                                 tppabs="http://api.symfony.com/master/Symfony/Component/Routing/Router.html#method_generate"
                                                                                                                 title="Symfony\Component\Routing\Router::generate()"><span
                                            class="pre">generate()</span></a></code>方法：
                                </p>
                                <div class="last highlight-php">
                                    <div class="highlight"><pre><span class="k">use</span> <span class="nx">Symfony\Component\DependencyInjection\ContainerAware</span><span
                                            class="p">;</span>

<span class="k">class</span> <span class="nc">MainController</span> <span class="k">extends</span> <span class="nx">ContainerAware</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">showAction</span><span
                                                class="p">(</span><span class="nv">$slug</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// ...</span>

        <span class="nv">$url</span> <span class="o">=</span> <span class="nv">$this</span><span
                                                class="o">-&gt;</span><span class="na">container</span><span class="o">-&gt;</span><span
                                                class="na">get</span><span class="p">(</span><span class="s1">&#39;router&#39;</span><span
                                                class="p">)</span><span class="o">-&gt;</span><span
                                                class="na">generate</span><span class="p">(</span>
            <span class="s1">&#39;blog_show&#39;</span><span class="p">,</span>
            <span class="k">array</span><span class="p">(</span><span class="s1">&#39;slug&#39;</span> <span class="o">=&gt;</span> <span
                                                class="s1">&#39;my-blog-post&#39;</span><span class="p">)</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                    </div>
                                </div>
                            </div>
                            <p>在即将出版的部分中，您将学习如何从模板内部生成URL。</p>
                            <div class="admonition tip">
                                <p class="first admonition-title">小技巧</p>
                                <p>
                                    如果您的应用程序的前端使用Ajax请求，您可能希望能够根据您的路由配置在JavaScript中生成URL。 通过使用<a class="reference external"
                                                                                                 href="javascript:if(confirm('https://github.com/FriendsOfSymfony/FOSJsRoutingBundle  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='https://github.com/FriendsOfSymfony/FOSJsRoutingBundle'"
                                                                                                 tppabs="https://github.com/FriendsOfSymfony/FOSJsRoutingBundle">FOSJsRoutingBundle</a>，你可以做到这一点：
                                </p>
                                <div class="highlight-javascript">
                                    <div class="highlight"><pre><span class="kd">var</span> <span class="nx">url</span> <span
                                            class="o">=</span> <span class="nx">Routing</span><span
                                            class="p">.</span><span class="nx">generate</span><span class="p">(</span>
    <span class="s1">&#39;blog_show&#39;</span><span class="p">,</span>
    <span class="p">{</span><span class="s2">&quot;slug&quot;</span><span class="o">:</span> <span class="s1">&#39;my-blog-post&#39;</span><span
                                                class="p">}</span>
<span class="p">);</span>
</pre>
                                    </div>
                                </div>
                                <p class="last">有关更多信息，请参阅该软件包的文档。</p>
                            </div>
                            <div class="section" id="generating-urls-with-query-strings">
                                <span id="index-12"></span>
                                <h3>生成带Query String的URL<a class="headerlink" href="#generating-urls-with-query-strings"
                                                          title="永久链接至标题">¶</a></h3>
                                <p>
                                    <code class="docutils literal"><span class="pre">generate</span></code>方法使用通配符数组来生成URI。 但是，如果您传递额外的内容，它们将作为查询字符串添加到URI中：
                                </p>
                                <div class="highlight-php">
                                    <div class="highlight"><pre><span class="nv">$this</span><span
                                            class="o">-&gt;</span><span class="na">get</span><span
                                            class="p">(</span><span class="s1">&#39;router&#39;</span><span
                                            class="p">)</span><span class="o">-&gt;</span><span
                                            class="na">generate</span><span class="p">(</span><span class="s1">&#39;blog&#39;</span><span
                                            class="p">,</span> <span class="k">array</span><span class="p">(</span>
    <span class="s1">&#39;page&#39;</span> <span class="o">=&gt;</span> <span class="mi">2</span><span
                                                class="p">,</span>
    <span class="s1">&#39;category&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Symfony&#39;</span>
<span class="p">));</span>
<span class="c1">// /blog/2?category=Symfony</span>
</pre>
                                    </div>
                                </div>
                            </div>
                            <div class="section" id="generating-urls-from-a-template">
                                <h3>从模板文件里生成URL<a class="headerlink" href="#generating-urls-from-a-template"
                                                  title="永久链接至标题">¶</a></h3>
                                <p>生成URL最常见的地方是在应用程序中的页面之间进行链接时从模板中获取。 这和以前一样完成，但使用模板帮助函数：</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-html+jinja">
                                                <div class="highlight"><pre><span class="nt">&lt;a</span> <span
                                                        class="na">href=</span><span class="s">&quot;</span><span
                                                        class="cp">{{</span> <span class="nv">path</span><span
                                                        class="o">(</span><span
                                                        class="s1">&#39;blog_show&#39;</span><span
                                                        class="o">,</span> <span class="o">{</span><span class="s1">&#39;slug&#39;</span><span
                                                        class="o">:</span> <span
                                                        class="s1">&#39;my-blog-post&#39;</span><span
                                                        class="o">})</span> <span class="cp">}}</span><span class="s">&quot;</span><span
                                                        class="nt">&gt;</span>
  Read this blog post.
<span class="nt">&lt;/a&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-html+php">
                                                <div class="highlight"><pre><span class="nt">&lt;a</span> <span
                                                        class="na">href=</span><span class="s">&quot;</span><span
                                                        class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                        class="nv">$view</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">generate</span><span
                                                        class="p">(</span><span
                                                        class="s1">&#39;blog_show&#39;</span><span
                                                        class="p">,</span> <span class="k">array</span><span
                                                        class="p">(</span>
    <span class="s1">&#39;slug&#39;</span> <span class="o">=&gt;</span> <span
                                                            class="s1">&#39;my-blog-post&#39;</span><span
                                                            class="p">,</span>
<span class="p">))</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>
    Read this blog post.
<span class="nt">&lt;/a&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="section" id="generating-absolute-urls">
                                <span id="index-13"></span>
                                <h3>生成绝对地址<a class="headerlink" href="#generating-absolute-urls" title="永久链接至标题">¶</a>
                                </h3>
                                <p>
                                    默认情况下，路由器将生成相对URL（例如<code
                                            class="docutils literal"><span class="pre">/blog</span></code>）。 从控制器中，只需将<code class="docutils literal"><span
                                            class="pre">true</span></code>传递给<code
                                            class="docutils literal"><span class="pre">generateUrl()</span></code>方法的第三个参数即可：
                                </p>
                                <div class="highlight-php">
                                    <div class="highlight"><pre><span class="nv">$this</span><span
                                            class="o">-&gt;</span><span class="na">generateUrl</span><span
                                            class="p">(</span><span class="s1">&#39;blog_show&#39;</span><span
                                            class="p">,</span> <span class="k">array</span><span class="p">(</span><span
                                            class="s1">&#39;slug&#39;</span> <span class="o">=&gt;</span> <span
                                            class="s1">&#39;my-blog-post&#39;</span><span class="p">),</span> <span
                                            class="k">true</span><span class="p">);</span>
<span class="c1">// http://www.example.com/blog/my-blog-post</span>
</pre>
                                    </div>
                                </div>
                                <p>
                                    从一个模板中，在Twig中，只需使用<code class="docutils literal"><span
                                            class="pre">url()</span></code>函数（它会生成绝对URL）而不是<code class="docutils literal"><span
                                            class="pre">path()</span></code>函数（它会生成一个相对URL）。 在PHP中，传递<code class="docutils literal"><span class="pre">true</span></code>给<code class="docutils literal"><span class="pre">generate()</span></code>：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-html+jinja">
                                                <div class="highlight"><pre><span class="nt">&lt;a</span> <span
                                                        class="na">href=</span><span class="s">&quot;</span><span
                                                        class="cp">{{</span> <span class="nv">url</span><span class="o">(</span><span
                                                        class="s1">&#39;blog_show&#39;</span><span
                                                        class="o">,</span> <span class="o">{</span><span class="s1">&#39;slug&#39;</span><span
                                                        class="o">:</span> <span
                                                        class="s1">&#39;my-blog-post&#39;</span><span
                                                        class="o">})</span> <span class="cp">}}</span><span class="s">&quot;</span><span
                                                        class="nt">&gt;</span>
  Read this blog post.
<span class="nt">&lt;/a&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-html+php">
                                                <div class="highlight"><pre><span class="nt">&lt;a</span> <span
                                                        class="na">href=</span><span class="s">&quot;</span><span
                                                        class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                        class="nv">$view</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">generate</span><span
                                                        class="p">(</span><span
                                                        class="s1">&#39;blog_show&#39;</span><span
                                                        class="p">,</span> <span class="k">array</span><span
                                                        class="p">(</span>
    <span class="s1">&#39;slug&#39;</span> <span class="o">=&gt;</span> <span
                                                            class="s1">&#39;my-blog-post&#39;</span><span
                                                            class="p">,</span>
<span class="p">),</span> <span class="k">true</span><span class="p">)</span> <span class="cp">?&gt;</span><span
                                                            class="s">&quot;</span><span class="nt">&gt;</span>
    Read this blog post.
<span class="nt">&lt;/a&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <div class="admonition note">
                                    <p class="first admonition-title">注解</p>
                                    <p class="last">
                                        使用当前<code class="docutils literal"><span class="pre">Request</span></code>对象自动检测生成绝对URL时使用的主机。 当从Web上下文外部生成绝对URL时（例如在控制台命令中），这不起作用。 请参阅<a class="reference internal" href="sending_emails.html"
                                        tppabs="http://symfony.cn/docs/cookbook/console/sending_emails.html"><em>如何在命令行中生成URL并且发送邮件</em></a>以了解如何解决此问题。
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="section" id="summary">
                            <h2>总结<a class="headerlink" href="#summary" title="永久链接至标题">¶</a></h2>
                            <p>路由是一种将传入请求的URL映射到应该调用以处理请求的控制器函数的系统。 它们都允许您指定漂亮的URL并使应用程序的功能与这些URL分离。 路由是一种双向机制，这意味着它也应该用于生成URL。</p>
                        </div>
                        <div class="section" id="learn-more-from-the-cookbook">
                            <h2>了解更多<a class="headerlink" href="#learn-more-from-the-cookbook" title="永久链接至标题">¶</a>
                            </h2>
                            <ul class="simple">
                                <li><a class="reference internal" href="scheme.html"
                                       tppabs="http://symfony.cn/docs/cookbook/routing/scheme.html"><em>如何强制路由始终使用HTTPS或HTTP</em></a></li>
                            </ul>
                        </div>
                    </div>


                </div>
                <footer>

                    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">

                        <a href="templating.html" tppabs="http://symfony.cn/docs/book/templating.html"
                           class="btn btn-neutral float-right" title="创建和使用模板">Next <span
                                class="fa fa-arrow-circle-right"></span></a>


                        <a href="controller.html" tppabs="http://symfony.cn/docs/book/controller.html"
                           class="btn btn-neutral" title="控制器（Controller）"><span class="fa fa-arrow-circle-left"></span>
                            Previous</a>

                    </div>


                    <hr/>

                    <div role="contentinfo">
                        <p>
                            &copy; 版权所有 Creative Commons Attribution-Share Alike 3.0 Unported.
                        </p>
                    </div>

                    Built with <a
                        href="javascript:if(confirm('http://sphinx-doc.org/  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://sphinx-doc.org/'"
                        tppabs="http://sphinx-doc.org/">Sphinx</a> using a <a
                        href="javascript:if(confirm('https://github.com/snide/sphinx_rtd_theme  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='https://github.com/snide/sphinx_rtd_theme'"
                        tppabs="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a
                        href="javascript:if(confirm('https://readthedocs.org/  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='https://readthedocs.org/'"
                        tppabs="https://readthedocs.org/">Read the Docs</a>.

                </footer>
            </div>
        </div>

    </section>

</div>


<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT: '../',
        VERSION: '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE: true
    };
</script>
<script type="text/javascript" src="jquery.js" tppabs="http://symfony.cn/docs/_static/jquery.js"></script>
<script type="text/javascript" src="underscore.js" tppabs="http://symfony.cn/docs/_static/underscore.js"></script>
<script type="text/javascript" src="doctools.js" tppabs="http://symfony.cn/docs/_static/doctools.js"></script>
<script type="text/javascript" src="translations.js" tppabs="http://symfony.cn/docs/_static/translations.js"></script>


<script type="text/javascript" src="theme.js" tppabs="http://symfony.cn/docs/_static/js/theme.js"></script>


<script type="text/javascript">
    jQuery(function () {
        SphinxRtdTheme.StickyNav.enable();
    });
</script>


</body>
</html>