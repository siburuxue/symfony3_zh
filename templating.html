<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>创建和使用模板 &mdash; Symfony Framework Documentation 文档</title>


    <link href="css-family=Lato-400,700,400italic,700italic-Roboto+Slab-400,700-Inconsolata-400,700&subset=latin,cyrillic.css"
          tppabs="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic|Roboto+Slab:400,700|Inconsolata:400,700&subset=latin,cyrillic"
          rel='stylesheet' type='text/css'>


    <link rel="stylesheet" href="theme.css" tppabs="http://symfony.cn/docs/_static/css/theme.css" type="text/css"/>


    <link rel="stylesheet" href="custom.css" tppabs="http://symfony.cn/docs/_static/custom.css" type="text/css"/>

    <link rel="top" title="Symfony Framework Documentation  文档" href="../index.html"/>
    <link rel="up" title="教程" href="index.html"/>
    <link rel="next" title="数据库和Doctrine" href="doctrine.html"/>
    <link rel="prev" title="路由（Routing）" href="routing.html"/>


    <script src="modernizr.min.js"
            tppabs="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

<div class="wy-grid-for-nav">


    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-nav-search">
            <a href="index.html" class="fa fa-home">Symfony框架开发文档</a>
            <div role="search">
                <form id="rtd-search-form" class="wy-form" action="http://symfony.cn/docs/search.html" method="get">
                    <input type="text" name="q" placeholder="Search docs">
                    <input type="hidden" name="check_keywords" value="yes">
                    <input type="hidden" name="area" value="default">
                </form>
            </div>
        </div>
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="changelog.html" tppabs="http://symfony.cn/docs/changelog.html">The
                        Documentation Changelog</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#february-2015"
                                                  tppabs="http://symfony.cn/docs/changelog.html#february-2015">February,2015</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#january-2015"
                                                  tppabs="http://symfony.cn/docs/changelog.html#january-2015">January,2015</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#december-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#december-2014">December,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#november-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#november-2014">November,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#october-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#october-2014">October,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#september-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#september-2014">September,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#august-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#august-2014">August,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#july-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#july-2014">July,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#june-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#june-2014">June,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#may-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#may-2014">May, 2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#april-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#april-2014">April,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#march-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#march-2014">March,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#february-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#february-2014">February,2014</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="changelog.html#january-2014"
                                                  tppabs="http://symfony.cn/docs/changelog.html#january-2014">January,2014</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="index-1.html"
                       tppabs="http://symfony.cn/docs/quick_tour/index.html">快速入门</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="the_big_picture.html"
                                                  tppabs="http://symfony.cn/docs/quick_tour/the_big_picture.html">总览</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="the_view.html"
                                                  tppabs="http://symfony.cn/docs/quick_tour/the_view.html">视图</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="the_controller.html"
                                                  tppabs="http://symfony.cn/docs/quick_tour/the_controller.html">控制器（Controller）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="the_architecture.html"
                                                  tppabs="http://symfony.cn/docs/quick_tour/the_architecture.html">代码结构</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1 current">
                    <a class="reference internal" href="index-2.html"
                       tppabs="http://symfony.cn/docs/book/index.html">教程</a>
                    <ul>
                        <li class="toctree-l2 "><a class="reference internal" href="http_fundamentals.html"
                                                   tppabs="http://symfony.cn/docs/book/http_fundamentals.html">Symfony和HTTP基础工具</a>
                        </li>
                        <li class="toctree-l2 "><a class="reference internal" href="from_flat_php_to_symfony2.html"
                                                   tppabs="http://symfony.cn/docs/book/from_flat_php_to_symfony2.html">Symfony
                            vs 纯PHP</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="installation.html"
                                                  tppabs="http://symfony.cn/docs/book/installation.html">安装和配置Symfony</a>
                        </li>
                        <li class="toctree-l2 "><a class="reference internal" href="page_creation.html"
                                                   tppabs="http://symfony.cn/docs/book/page_creation.html">创建页面</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="controller.html"
                                                  tppabs="http://symfony.cn/docs/book/controller.html">控制器（Controller）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="routing.html"
                                                          tppabs="http://symfony.cn/docs/book/routing.html">路由（Routing）</a>
                        </li>
                        <li class="toctree-l2 current"><a class="reference internal" href="templating.html"
                                                  tppabs="http://symfony.cn/docs/book/templating.html">创建和使用模板</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="doctrine.html"
                                                  tppabs="http://symfony.cn/docs/book/doctrine.html">数据库和Doctrine</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="propel.html"
                                                  tppabs="http://symfony.cn/docs/book/propel.html">数据库和Propel</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="testing.html"
                                                  tppabs="http://symfony.cn/docs/book/testing.html">测试</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="validation.html"
                                                  tppabs="http://symfony.cn/docs/book/validation.html">校验</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="forms.html"
                                                  tppabs="http://symfony.cn/docs/book/forms.html">表单</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="security.html"
                                                  tppabs="http://symfony.cn/docs/book/security.html">安全性</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="http_cache.html"
                                                  tppabs="http://symfony.cn/docs/book/http_cache.html">HTTP缓存</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="translation.html"
                                                  tppabs="http://symfony.cn/docs/book/translation.html">多语言</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="service_container.html"
                                                  tppabs="http://symfony.cn/docs/book/service_container.html">服务容器（Service
                            Container）</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="performance.html"
                                                  tppabs="http://symfony.cn/docs/book/performance.html">性能</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="internals.html"
                                                  tppabs="http://symfony.cn/docs/book/internals.html">核心功能</a></li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="index-3.html"
                       tppabs="http://symfony.cn/docs/cookbook/index.html">手册</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="index-4.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/assetic/index.html">静态文件处理（Assetic）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-5.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/bundles/index.html">包（Bundle）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-6.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/cache/index.html">缓存</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="composer.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/composer.html">Installing
                            Composer</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-7.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/configuration/index.html">配置</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-8.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/console/index.html">命令行</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-9.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/controller/index.html">控制器（Controller）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="debugging.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/debugging.html">How to
                            Optimize your Development Environment for Debugging</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-10.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/deployment/index.html">部署</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-11.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/doctrine/index.html">Doctrine</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-12.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/email/index.html">邮件</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-13.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/event_dispatcher/index.html">事件分发器（Dispatcher）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-14.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/expression/index.html">表达式（Expression）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-15.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/form/index.html">Form</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-16.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/logging/index.html">Logging</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-17.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/profiler/index.html">Profiler</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-18.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/request/index.html">Request</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-19.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/routing/index.html">Routing</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-20.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/security/index.html">Security</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="serializer.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/serializer.html">How to Use
                            the Serializer</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-21.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/service_container/index.html">Service
                            Container</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-22.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/session/index.html">Sessions</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="symfony1.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/symfony1.html">How Symfony2
                            Differs from Symfony1</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-23.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/templating/index.html">Templating</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-24.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/testing/index.html">Testing</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="upgrading.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/upgrading.html">How to Upgrade
                            Your Symfony Project</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-25.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/validation/index.html">Validation</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-26.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/web_server/index.html">Web
                            Server</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-27.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/web_services/index.html">Web
                            Services</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-28.html"
                                                  tppabs="http://symfony.cn/docs/cookbook/workflow/index.html">Workflow</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="index-29.html"
                       tppabs="http://symfony.cn/docs/best_practices/index.html">最佳实践</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="introduction.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/introduction.html">Symfony框架最佳实践</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="creating-the-project.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/creating-the-project.html">创建项目</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="configuration.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/configuration.html">配置参数</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="business-logic.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/business-logic.html">业务逻辑代码的组织</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="controllers.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/controllers.html">控制器（Controller）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="templates.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/templates.html">模板</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="forms-1.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/forms.html">表单</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="i18n.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/i18n.html">多语言支持</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="security-1.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/security.html">安全</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="web-assets.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/web-assets.html">静态文件（Assets）</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="tests.html"
                                                  tppabs="http://symfony.cn/docs/best_practices/tests.html">测试</a></li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="index-30.html"
                       tppabs="http://symfony.cn/docs/components/index.html">组件</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="using_components.html"
                                                  tppabs="http://symfony.cn/docs/components/using_components.html">How
                            to Install and Use the Symfony Components</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-31.html"
                                                  tppabs="http://symfony.cn/docs/components/asset/index.html">Asset</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-32.html"
                                                  tppabs="http://symfony.cn/docs/components/class_loader/index.html">ClassLoader</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-33.html"
                                                  tppabs="http://symfony.cn/docs/components/config/index.html">Config</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-34.html"
                                                  tppabs="http://symfony.cn/docs/components/console/index.html">Console</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="css_selector.html"
                                                  tppabs="http://symfony.cn/docs/components/css_selector.html">The
                            CssSelector Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-35.html"
                                                  tppabs="http://symfony.cn/docs/components/debug/index.html">Debug</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-36.html"
                                                  tppabs="http://symfony.cn/docs/components/dependency_injection/index.html">DependencyInjection</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="dom_crawler.html"
                                                  tppabs="http://symfony.cn/docs/components/dom_crawler.html">The
                            DomCrawler Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-37.html"
                                                  tppabs="http://symfony.cn/docs/components/event_dispatcher/index.html">EventDispatcher</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-38.html"
                                                  tppabs="http://symfony.cn/docs/components/expression_language/index.html">Expression
                            Language</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-39.html"
                                                  tppabs="http://symfony.cn/docs/components/filesystem/index.html">Filesystem</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="finder.html"
                                                  tppabs="http://symfony.cn/docs/components/finder.html">The Finder
                            Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-40.html"
                                                  tppabs="http://symfony.cn/docs/components/form/index.html">Form</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-41.html"
                                                  tppabs="http://symfony.cn/docs/components/http_foundation/index.html">HttpFoundation</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-42.html"
                                                  tppabs="http://symfony.cn/docs/components/http_kernel/index.html">HttpKernel</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="intl.html"
                                                  tppabs="http://symfony.cn/docs/components/intl.html">The Intl
                            Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="options_resolver.html"
                                                  tppabs="http://symfony.cn/docs/components/options_resolver.html">The
                            OptionsResolver Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="process.html"
                                                  tppabs="http://symfony.cn/docs/components/process.html">The Process
                            Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-43.html"
                                                  tppabs="http://symfony.cn/docs/components/property_access/index.html">PropertyAccess</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-44.html"
                                                  tppabs="http://symfony.cn/docs/components/routing/index.html">Routing</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-45.html"
                                                  tppabs="http://symfony.cn/docs/components/security/index.html">Security</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="serializer-1.html"
                                                  tppabs="http://symfony.cn/docs/components/serializer.html">The
                            Serializer Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="stopwatch.html"
                                                  tppabs="http://symfony.cn/docs/components/stopwatch.html">The
                            Stopwatch Component</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="index-46.html"
                                                  tppabs="http://symfony.cn/docs/components/templating/index.html">Templating</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-47.html"
                                                  tppabs="http://symfony.cn/docs/components/translation/index.html">Translation</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-48.html"
                                                  tppabs="http://symfony.cn/docs/components/var_dumper/index.html">VarDumper</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-49.html"
                                                  tppabs="http://symfony.cn/docs/components/yaml/index.html">Yaml</a>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="index-50.html"
                       tppabs="http://symfony.cn/docs/reference/index.html">参考</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="framework.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/framework.html">FrameworkBundle
                            Configuration (“framework”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="doctrine-1.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/doctrine.html">DoctrineBundle
                            Configuration (“doctrine”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="security-2.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/security.html">SecurityBundle
                            Configuration (“security”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="assetic.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/assetic.html">AsseticBundle
                            Configuration (“assetic”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="swiftmailer.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/swiftmailer.html">SwiftmailerBundle
                            Configuration (“swiftmailer”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="twig.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/twig.html">TwigBundle
                            Configuration (“twig”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="monolog.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/monolog.html">MonologBundle
                            Configuration (“monolog”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="web_profiler.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/web_profiler.html">WebProfilerBundle
                            Configuration (“web_profiler”)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="kernel.html"
                                                  tppabs="http://symfony.cn/docs/reference/configuration/kernel.html">Configuring
                            in the Kernel (e.g. AppKernel)</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="types.html"
                                                  tppabs="http://symfony.cn/docs/reference/forms/types.html">Form Types
                            Reference</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="constraints.html"
                                                  tppabs="http://symfony.cn/docs/reference/constraints.html">Validation
                            Constraints Reference</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="twig_reference.html"
                                                  tppabs="http://symfony.cn/docs/reference/forms/twig_reference.html">Twig
                            Template Form Function and Variable Reference</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="twig_reference-1.html"
                                                  tppabs="http://symfony.cn/docs/reference/twig_reference.html">Symfony
                            Twig Extensions</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="dic_tags.html"
                                                  tppabs="http://symfony.cn/docs/reference/dic_tags.html">The Dependency
                            Injection Tags</a></li>
                        <li class="toctree-l2"><a class="reference internal" href="requirements.html"
                                                  tppabs="http://symfony.cn/docs/reference/requirements.html">Requirements
                            for Running Symfony</a></li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li class="toctree-l1">
                    <a class="reference internal" href="index-51.html"
                       tppabs="http://symfony.cn/docs/contributing/index.html">贡献</a>
                    <ul>
                        <li class="toctree-l2"><a class="reference internal" href="index-52.html"
                                                  tppabs="http://symfony.cn/docs/contributing/code/index.html">贡献代码</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-53.html"
                                                  tppabs="http://symfony.cn/docs/contributing/documentation/index.html">贡献文档</a>
                        </li>
                        <li class="toctree-l2"><a class="reference internal" href="index-54.html"
                                                  tppabs="http://symfony.cn/docs/contributing/community/index.html">社区</a>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>&nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


        <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
            <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
            <a href="index.html" tppabs="http://symfony.cn/docs/index.html">Symfony Framework Documentation</a>
        </nav>


        <div class="wy-nav-content">
            <div class="rst-content">
                <div role="navigation" aria-label="breadcrumbs navigation">
                    <ul class="wy-breadcrumbs">
                        <li><a href="index.html" tppabs="http://symfony.cn/docs/index.html">Docs</a> &raquo;</li>

                        <li><a href="index-2.html" tppabs="http://symfony.cn/docs/book/index.html">教程</a> &raquo;</li>

                        <li>创建和使用模板</li>
                        <li class="wy-breadcrumbs-aside">

                            <a href="templating.txt.htm" tppabs="http://symfony.cn/docs/_sources/book/templating.txt"
                               rel="nofollow"> 查看网页源代码</a>

                        </li>
                    </ul>
                    <hr/>
                </div>
                <div role="main" class="document">

                    <div class="section" id="creating-and-using-templates">
                        <span id="index-0"></span>
                        <h1>创建和使用模板<a class="headerlink" href="#creating-and-using-templates" title="永久链接至标题">¶</a></h1>
                        <p>
                            如您所知，<a class="reference internal" href="controller.html"
                                    tppabs="http://symfony.cn/docs/book/controller.html"><em>控制器</em></a>负责处理Symfony应用程序中的每个请求。 实际上，控制器将大部分繁重工作委托给其他地方，以便代码可以被测试和重用。 当控制器需要生成HTML，CSS或任何其他内容时，它将工作交给模板引擎。 在本章中，您将学习如何编写可用于将内容返回给用户的强大模板，填充电子邮件正文等等。 您将学习快捷方式，扩展模板的巧妙方法以及如何重用模板代码。
                        </p>
                        <div class="admonition note">
                            <p class="first admonition-title">注解</p>
                            <p class="last">
                                本书的<a class="reference internal" href="controller.html#controller-rendering-templates"
                                         tppabs="http://symfony.cn/docs/book/controller.html#controller-rendering-templates"><span>控制器</span></a>页面介绍了如何呈现模板。
                            </p>
                        </div>
                        <div class="section" id="templates">
                            <span id="index-1"></span>
                            <h2>模板<a class="headerlink" href="#templates" title="永久链接至标题">¶</a></h2>
                            <p>
                                模板只是一个文本文件，可以生成任何基于文本的格式（HTML，XML，CSV，LaTeX等）。 最常见的模板类型是PHP模板 - 一种由PHP解析的文本文件，其中包含文本和PHP代码的混合：
                            </p>
                            <div class="highlight-html+php">
                                <div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Welcome to Symfony!<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;h1&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$page_title</span> <span
                                            class="cp">?&gt;</span><span class="nt">&lt;/h1&gt;</span>

        <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;navigation&quot;</span><span
                                            class="nt">&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$navigation</span> <span
                                            class="k">as</span> <span class="nv">$item</span><span
                                            class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
                <span class="nt">&lt;li&gt;</span>
                    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span
                                            class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$item</span><span
                                            class="o">-&gt;</span><span class="na">getHref</span><span
                                            class="p">()</span> <span class="cp">?&gt;</span><span
                                            class="s">&quot;</span><span class="nt">&gt;</span>
                        <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$item</span><span
                                            class="o">-&gt;</span><span class="na">getCaption</span><span
                                            class="p">()</span> <span class="cp">?&gt;</span>
                    <span class="nt">&lt;/a&gt;</span>
                <span class="nt">&lt;/li&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">endforeach</span> <span class="cp">?&gt;</span>
        <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre>
                                </div>
                            </div>
                            <p id="index-2">
                                但Symfony包装了一种更强大的模板语言<a
                                        class="reference external"
                                        href="javascript:if(confirm('http://twig.sensiolabs.org/  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://twig.sensiolabs.org/'"
                                        tppabs="http://twig.sensiolabs.org/">Twig</a>。 Twig允许您编写简洁易读的模板，这些模板对网页设计人员更友好，并且在几种方式上比PHP模板更强大：
                            </p>
                            <div class="highlight-html+jinja">
                                <div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Welcome to Symfony!<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;h1&gt;</span><span class="cp">{{</span> <span class="nv">page_title</span> <span
                                            class="cp">}}</span><span class="nt">&lt;/h1&gt;</span>

        <span class="nt">&lt;ul</span> <span class="na">id=</span><span class="s">&quot;navigation&quot;</span><span
                                            class="nt">&gt;</span>
            <span class="cp">{%</span> <span class="k">for</span> <span class="nv">item</span> <span class="k">in</span> <span
                                            class="nv">navigation</span> <span class="cp">%}</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span
                                            class="cp">{{</span> <span class="nv">item.href</span> <span
                                            class="cp">}}</span><span class="s">&quot;</span><span
                                            class="nt">&gt;</span><span class="cp">{{</span> <span class="nv">item.caption</span> <span
                                            class="cp">}}</span><span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
            <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
        <span class="nt">&lt;/ul&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre>
                                </div>
                            </div>
                            <p>Twig定义了三种特殊语法：</p>
                            <dl class="docutils">
                                <dt><code class="docutils literal"><span class="pre">{{</span> <span
                                        class="pre">...</span> <span class="pre">}}</span></code></dt>
                                <dd>
                                    “Says something”：将变量或表达式的结果打印到模板中。
                                </dd>
                                <dt><code class="docutils literal"><span class="pre">{%</span> <span
                                        class="pre">...</span> <span class="pre">%}</span></code></dt>
                                <dd>
                                    “Does something”：控制模板逻辑的<strong>标签</strong>; 它用于执行诸如for循环之类的语句。
                                </dd>
                                <dt><code class="docutils literal"><span class="pre">{#</span> <span
                                        class="pre">...</span> <span class="pre">#}</span></code></dt>
                                <dd>
                                    “Comment something”：这与PHP  <code
                                            class="docutils literal"><span class="pre">/*</span> <span
                                            class="pre">comment</span> <span class="pre">*/</span></code>语法是等价的。 它用于添加单行或多行注释。 评论的内容不包括在呈现的页面中。
                                </dd>
                            </dl>
                            <p>
                                Twig还包含<strong>过滤器</strong>，它们在呈现之前修改内容。 在呈现它之前，以下命令使<code class="docutils literal"><span
                                        class="pre">title</span></code>变量全部大写：
                            </p>
                            <div class="highlight-jinja">
                                <div class="highlight"><pre><span class="cp">{{</span> <span
                                        class="nv">title</span><span class="o">|</span><span
                                        class="nf">upper</span> <span class="cp">}}</span><span class="x"></span>
</pre>
                                </div>
                            </div>
                            <p>
                            Twig附带一大串默认可用的<a class="reference external"
                                             href="javascript:if(confirm('http://twig.sensiolabs.org/doc/tags/index.html  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://twig.sensiolabs.org/doc/tags/index.html'"
                                             tppabs="http://twig.sensiolabs.org/doc/tags/index.html">标签</a>
                            和 <a class="reference external"
                                   href="javascript:if(confirm('http://twig.sensiolabs.org/doc/filters/index.html  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://twig.sensiolabs.org/doc/filters/index.html'"
                                   tppabs="http://twig.sensiolabs.org/doc/filters/index.html">过滤器</a>。 您甚至可以根据需要将<a class="reference external"
                                                                                                                    href="javascript:if(confirm('http://twig.sensiolabs.org/doc/advanced.html  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://twig.sensiolabs.org/doc/advanced.html#creating-an-extension'"
                                                                                                                    tppabs="http://twig.sensiolabs.org/doc/advanced.html#creating-an-extension">
                            您自己的扩展</a>添加到Twig。</p>
                            <div class="admonition tip">
                                <p class="first admonition-title">小技巧</p>
                                <p class="last">
                                    注册Twig扩展与创建新服务一样简单，并使用<code class="docutils literal"><span
                                            class="pre">twig.extension</span></code><a class="reference internal"
                                                                                       href="dic_tags.html#reference-dic-tags-twig-extension"
                                                                                       tppabs="http://symfony.cn/docs/reference/dic_tags.html#reference-dic-tags-twig-extension"><span>标记</span></a>对其进行标记。
                                </p>
                            </div>
                            <p>
                                正如您将在整个文档中看到的那样，Twig还支持功能，并且可以轻松添加新功能。 例如，以下内容使用标准<code class="docutils literal"><span class="pre">for</span></code>标签和<code class="docutils literal"><span class="pre">cycle</span></code>函数来打印十个div标签，并使用交替<code class="docutils literal"><span class="pre">odd</span></code>, <code
                                        class="docutils literal"><span class="pre">even</span></code>类：
                            </p>
                            <div class="highlight-html+jinja">
                                <div class="highlight"><pre><span class="cp">{%</span> <span class="k">for</span> <span
                                        class="nv">i</span> <span class="k">in</span> <span class="m">0.</span><span
                                        class="nv">.10</span> <span class="cp">%}</span>
    <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;</span><span
                                            class="cp">{{</span> <span class="nv">cycle</span><span
                                            class="o">([</span><span class="s1">&#39;odd&#39;</span><span
                                            class="o">,</span> <span class="s1">&#39;even&#39;</span><span
                                            class="o">],</span> <span class="nv">i</span><span class="o">)</span> <span
                                            class="cp">}}</span><span class="s">&quot;</span><span
                                            class="nt">&gt;</span>
      <span class="c">&lt;!-- some HTML here --&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre>
                                </div>
                            </div>
                            <p>在本章中，模板示例将在Twig和PHP中显示。</p>
                            <div class="admonition tip">
                                <p class="first admonition-title">小技巧</p>
                                <p class="last">
                                    如果您选择不使用Twig并且禁用它，则需要通过<code class="docutils literal"><span class="pre">kernel.exception</span></code>事件来实现您自己的异常处理程序。
                                </p>
                            </div>
                            <div class="sidebar">
                                <p class="first sidebar-title">为何选择Twig？</p>
                                <p>

                                    Twig模板意味着很简单，不会处理PHP标签。 这是设计：Twig模板系统是为了表达表示，而不是程序逻辑。 您使用Twig的次数越多，您就会越感激并受益于这种区别。 当然，你会被任何地方的网页设计师所喜爱。</p>
                                <p>
                                    Twig还可以执行PHP无法执行的操作，如空白控件，沙盒，自动和上下文输出转义，以及包含仅影响模板的自定义函数和过滤器。 Twig包含一些功能，使写模板更简单，更简洁。 以下面的示例将循环与逻辑<code
                                            class="docutils literal"><span class="pre">if</span></code>语句组合在一起：
                                </p>
                                <div class="last highlight-html+jinja">
                                    <div class="highlight"><pre><span class="nt">&lt;ul&gt;</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">user</span> <span class="k">in</span> <span
                                                class="nv">users</span> <span class="k">if</span> <span class="nv">user.active</span> <span
                                                class="cp">%}</span>
        <span class="nt">&lt;li&gt;</span><span class="cp">{{</span> <span class="nv">user.username</span> <span
                                                class="cp">}}</span><span class="nt">&lt;/li&gt;</span>
    <span class="cp">{%</span> <span class="k">else</span> <span class="cp">%}</span>
        <span class="nt">&lt;li&gt;</span>No users found<span class="nt">&lt;/li&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="nt">&lt;/ul&gt;</span>
</pre>
                                    </div>
                                </div>
                            </div>
                            <div class="section" id="twig-template-caching">
                                <span id="index-3"></span>
                                <h3>Twig模板缓存<a class="headerlink" href="#twig-template-caching" title="永久链接至标题">¶</a>
                                </h3>
                                <p>
                                    Twig很快。 每个Twig模板都被编译成一个在运行时渲染的本地PHP类。 已编译的类位于<code class="docutils literal"><span class="pre">app/cache/{environment}/twig</span></code>目录中（其中<code class="docutils literal"><span
                                            class="pre">{environment}</span></code>是环境，例如<code class="docutils literal"><span
                                            class="pre">dev</span></code>或<code class="docutils literal"><span
                                            class="pre">prod</span></code>），并且在某些情况下在调试时可能会有用。 有关环境的更多信息，请参阅<a class="reference internal"
                                                                                                               href="page_creation.html#environments-summary"
                                                                                                               tppabs="http://symfony.cn/docs/book/page_creation.html#environments-summary"><span>运行环境</span></a>。
                                </p>
                                <p>
                                    当启用<code class="docutils literal"><span class="pre">debug</span></code>模式时（<code class="docutils literal"><span
                                            class="pre">开发</span></code>环境中常见），Twig模板将在对其进行更改时自动重新编译。 这意味着在开发过程中，您可以愉快地对Twig模板进行更改，并立即查看更改，而无需担心清除任何缓存。
                                </p>
                                <p>
                                    但是，当禁用<code class="docutils literal"><span class="pre">debug</span></code>模式（<code class="docutils literal"><span class="pre">prod</span></code>环境中常见）时，必须清除Twig缓存目录，以便重新生成Twig模板。 请记住在部署应用程序时执行此操作。
                                </p>
                            </div>
                        </div>
                        <div class="section" id="template-inheritance-and-layouts">
                            <span id="index-4"></span>
                            <h2>模板继承和布局<a class="headerlink" href="#template-inheritance-and-layouts"
                                          title="永久链接至标题">¶</a></h2>
                            <p>通常，项目中的模板共享公共元素，如页眉，页脚，侧边栏等。 在Symfony中，这个问题有不同的看法：一个模板可以被另一个模板装饰。 这与PHP类完全相同：模板继承允许您构建基本的“布局”模板，其中包含定义为块的网站的所有常见元素（请参阅“使用基本方法的PHP类”）。 子模板可以扩展基本布局并覆盖任何块（认为“覆盖其父类的某些方法的PHP子类”）。</p>
                            <p>首先，建立一个基础布局文件：</p>
                            <div class="configuration-block">
                                <ul class="simple">
                                    <li><em>Twig</em>
                                        <div class="highlight-html+jinja">
                                            <div class="highlight"><pre><span class="c">{# app/Resources/views/base.html.twig #}</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span
                                                        class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span
                                                        class="s">&quot;text/html; charset=utf-8&quot;</span> <span
                                                        class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span><span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span
                                                        class="cp">%}</span>Test Application<span
                                                        class="cp">{%</span> <span class="k">endblock</span> <span
                                                        class="cp">%}</span><span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;sidebar&quot;</span><span
                                                        class="nt">&gt;</span>
            <span class="cp">{%</span> <span class="k">block</span> <span class="nv">sidebar</span> <span
                                                        class="cp">%}</span>
                <span class="nt">&lt;ul&gt;</span>
                      <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span
                                                        class="s">&quot;/&quot;</span><span
                                                        class="nt">&gt;</span>Home<span
                                                        class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                      <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/blog&quot;</span><span
                                                        class="nt">&gt;</span>Blog<span
                                                        class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;/ul&gt;</span>
            <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span
                                                        class="nt">&gt;</span>
            <span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span
                                                        class="cp">%}{%</span> <span class="k">endblock</span> <span
                                                        class="cp">%}</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>PHP</em>
                                        <div class="highlight-html+php">
                                            <div class="highlight"><pre><span class="c">&lt;!-- app/Resources/views/base.html.php --&gt;</span>
<span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span
                                                        class="s">&quot;Content-Type&quot;</span> <span class="na">content=</span><span
                                                        class="s">&quot;text/html; charset=utf-8&quot;</span> <span
                                                        class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span
                                                        class="p">[</span><span class="s1">&#39;slots&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span
                                                        class="p">(</span><span class="s1">&#39;title&#39;</span><span
                                                        class="p">,</span> <span
                                                        class="s1">&#39;Test Application&#39;</span><span
                                                        class="p">)</span> <span class="cp">?&gt;</span><span
                                                        class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;sidebar&quot;</span><span
                                                        class="nt">&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span
                                                        class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">has</span><span
                                                        class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span
                                                        class="p">))</span><span class="o">:</span> <span class="cp">?&gt;</span>
                <span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span
                                                        class="p">(</span><span class="s1">&#39;sidebar&#39;</span><span
                                                        class="p">)</span> <span class="cp">?&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">else</span><span class="o">:</span> <span
                                                        class="cp">?&gt;</span>
                <span class="nt">&lt;ul&gt;</span>
                    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span
                                                        class="s">&quot;/&quot;</span><span
                                                        class="nt">&gt;</span>Home<span
                                                        class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                    <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/blog&quot;</span><span
                                                        class="nt">&gt;</span>Blog<span
                                                        class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;/ul&gt;</span>
            <span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span
                                                        class="nt">&gt;</span>
            <span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;slots&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">output</span><span
                                                        class="p">(</span><span class="s1">&#39;body&#39;</span><span
                                                        class="p">)</span> <span class="cp">?&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="admonition note">
                                <p class="first admonition-title">注解</p>
                                <p class="last">尽管关于模板继承的讨论将以Twig为条件，但Twig和PHP模板的哲学是相同的。</p>
                            </div>
                            <p>
                                该模板定义简单的两列页面的基本HTML骨架文档。 在这个例子中，定义了三个<code class="docutils literal"><span class="pre">{%</span>
                                    <span class="pre">block</span> <span class="pre">%}</span></code>区域（<code class="docutils literal"><span class="pre">title</span></code>,
                                <code class="docutils literal"><span class="pre">sidebar</span></code> 和 <code
                                        class="docutils literal"><span class="pre">body</span></code>）。 每个块可能会被子模板覆盖，或者保留其默认实现。 这个模板也可以直接渲染。 在这种情况下，<code class="docutils literal"><span class="pre">title</span></code>,
                                <code class="docutils literal"><span class="pre">sidebar</span></code> 和 <code
                                        class="docutils literal"><span class="pre">body</span></code>块将仅保留此模板中使用的默认值。
                            </p>
                            <p>子模板可能如下所示：</p>
                            <div class="configuration-block">
                                <ul class="simple">
                                    <li><em>Twig</em>
                                        <div class="highlight-html+jinja">
                                            <div class="highlight"><pre><span class="c">{# app/Resources/views/blog/index.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;base.html.twig&#39;</span> <span
                                                        class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">title</span> <span class="cp">%}</span>My cool blog posts<span
                                                        class="cp">{%</span> <span class="k">endblock</span> <span
                                                        class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">entry</span> <span class="k">in</span> <span
                                                        class="nv">blog_entries</span> <span class="cp">%}</span>
        <span class="nt">&lt;h2&gt;</span><span class="cp">{{</span> <span class="nv">entry.title</span> <span
                                                        class="cp">}}</span><span class="nt">&lt;/h2&gt;</span>
        <span class="nt">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">entry.body</span> <span class="cp">}}</span><span
                                                        class="nt">&lt;/p&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>PHP</em>
                                        <div class="highlight-html+php">
                                            <div class="highlight"><pre><span class="c">&lt;!-- app/Resources/views/blog/index.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">extend</span><span
                                                        class="p">(</span><span
                                                        class="s1">&#39;base.html.php&#39;</span><span
                                                        class="p">)</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span
                                                        class="s1">&#39;slots&#39;</span><span class="p">]</span><span
                                                        class="o">-&gt;</span><span class="na">set</span><span
                                                        class="p">(</span><span class="s1">&#39;title&#39;</span><span
                                                        class="p">,</span> <span
                                                        class="s1">&#39;My cool blog posts&#39;</span><span
                                                        class="p">)</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span
                                                        class="s1">&#39;slots&#39;</span><span class="p">]</span><span
                                                        class="o">-&gt;</span><span class="na">start</span><span
                                                        class="p">(</span><span class="s1">&#39;body&#39;</span><span
                                                        class="p">)</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span class="nv">$blog_entries</span> <span
                                                        class="k">as</span> <span class="nv">$entry</span><span
                                                        class="p">)</span><span class="o">:</span> <span class="cp">?&gt;</span>
        <span class="nt">&lt;h2&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$entry</span><span
                                                        class="o">-&gt;</span><span class="na">getTitle</span><span
                                                        class="p">()</span> <span class="cp">?&gt;</span><span
                                                        class="nt">&lt;/h2&gt;</span>
        <span class="nt">&lt;p&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$entry</span><span
                                                        class="o">-&gt;</span><span class="na">getBody</span><span
                                                        class="p">()</span> <span class="cp">?&gt;</span><span
                                                        class="nt">&lt;/p&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">endforeach</span> <span class="cp">?&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span
                                                        class="s1">&#39;slots&#39;</span><span class="p">]</span><span
                                                        class="o">-&gt;</span><span class="na">stop</span><span
                                                        class="p">()</span> <span class="cp">?&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="admonition note">
                                <p class="first admonition-title">注解</p>
                                <p class="last">
                                    父模板由特殊的字符串语法（<code class="docutils literal"><span class="pre">base.html.twig</span></code>）标识。 该路径与项目的<code class="docutils literal"><span class="pre">app/Resources/views</span></code>目录相关。 您也可以使用等效的逻辑名称<code class="docutils literal"><span class="pre">::base.html.twig</span></code>。 这个命名约定在 <a class="reference internal"
                                                                                                                                                                                                                                                                                                                                           href="#template-naming-locations"><span>模板命名规则和存放位置</span></a>中有详细解释。
                                </p>
                            </div>
                            <p>
                                模板继承的关键是<code class="docutils literal"><span class="pre">{%</span>
                                    <span class="pre">extends</span> <span class="pre">%}</span></code>标签。 这告诉模板引擎首先评估基础模板，该基础模板设置布局并定义几个块。 然后渲染子模板，此时父级的<code class="docutils literal"><span class="pre">title</span></code>
                                和 <code class="docutils literal"><span class="pre">body</span></code>块将由来自子级的模板替换。 根据<code class="docutils literal"><span
                                        class="pre">blog_entries</span></code>的值，输出可能如下所示：
                            </p>
                            <div class="highlight-html">
                                <div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;meta</span> <span class="na">http-equiv=</span><span
                                            class="s">&quot;Content-Type&quot;</span> <span
                                            class="na">content=</span><span class="s">&quot;text/html; charset=utf-8&quot;</span> <span
                                            class="nt">/&gt;</span>
        <span class="nt">&lt;title&gt;</span>My cool blog posts<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;sidebar&quot;</span><span
                                            class="nt">&gt;</span>
            <span class="nt">&lt;ul&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span
                                            class="s">&quot;/&quot;</span><span class="nt">&gt;</span>Home<span
                                            class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span
                                            class="s">&quot;/blog&quot;</span><span class="nt">&gt;</span>Blog<span
                                            class="nt">&lt;/a&gt;&lt;/li&gt;</span>
            <span class="nt">&lt;/ul&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;content&quot;</span><span
                                            class="nt">&gt;</span>
            <span class="nt">&lt;h2&gt;</span>My first post<span class="nt">&lt;/h2&gt;</span>
            <span class="nt">&lt;p&gt;</span>The body of the first post.<span class="nt">&lt;/p&gt;</span>

            <span class="nt">&lt;h2&gt;</span>Another post<span class="nt">&lt;/h2&gt;</span>
            <span class="nt">&lt;p&gt;</span>The body of the second post.<span class="nt">&lt;/p&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre>
                                </div>
                            </div>
                            <p>
                                请注意，由于子模板未定义<code
                                        class="docutils literal"><span class="pre">侧栏</span></code>块，因此将使用父模板的值。 默认情况下始终使用父模板中<code
                                        class="docutils literal"><span class="pre">{%</span> <span
                                        class="pre">block</span> <span class="pre">%}</span></code>标记中的内容。
                            </p>
                            <p>你可以使用任意数量的继承。 在下一节中，将解释一个常见的三级继承模型，以及如何在Symfony项目中组织模板。</p>
                            <p>使用模板继承时，请注意以下几点提示：</p>
                            <ul>
                                <li><p class="first">
                                    如果您在模板中使用<code class="docutils literal"><span
                                            class="pre">{%</span> <span class="pre">extends</span> <span
                                            class="pre">%}</span></code>，则它必须是该模板中的第一个标签;
                                </p>
                                </li>
                                <li><p class="first">
                                    您在基本模板中使用的<code class="docutils literal"><span class="pre">{%</span>
                                        <span class="pre">block</span> <span class="pre">%}</span></code>标签越多越好。 请记住，子模板不必定义所有父块，因此可以根据需要在基本模板中创建尽可能多的块，并为每个块设置合理的默认值。 基本模板的块越多，布局的灵活性就越高;
                                </p>
                                </li>
                                <li><p class="first">
                                    如果您发现自己在多个模板中复制了内容，则可能意味着您应该将该内容移至父模板中的<code class="docutils literal"><span
                                            class="pre">{%</span> <span class="pre">block</span> <span
                                            class="pre">%}</span></code>。 在某些情况下，更好的解决方案可能是将内容移动到新模板并<code class="docutils literal"><span class="pre">包含</span></code>它（请参阅<a class="reference internal" href="#including-templates"><span>包含其他模板</span></a>）;
                                </p>
                                </li>
                                <li><p class="first">
                                    如果您需要从父模板获取块的内容，则可以使用<code class="docutils literal"><span class="pre">{{</span> <span
                                            class="pre">parent()</span> <span class="pre">}}</span></code>函数。 如果您想要添加父块的内容而不是完全重写它，这非常有用：
                                </p>
                                    <div class="highlight-html+jinja">
                                        <div class="highlight"><pre><span class="cp">{%</span> <span
                                                class="k">block</span> <span class="nv">sidebar</span> <span class="cp">%}</span>
    <span class="nt">&lt;h3&gt;</span>Table of Contents<span class="nt">&lt;/h3&gt;</span>

    <span class="c">{# ... #}</span>

    <span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="section" id="template-naming-and-locations">
                            <span id="template-naming-locations"></span><span id="index-5"></span>
                            <h2>模板命名规则和存放位置<a class="headerlink" href="#template-naming-and-locations"
                                              title="永久链接至标题">¶</a></h2>
                            <p>默认情况下，模板可以位于两个不同的位置：</p>
                            <dl class="docutils">
                                <dt><code class="docutils literal"><span class="pre">app/Resources/views/</span></code>
                                </dt>
                                <dd>
                                    应用程序<code class="docutils literal"><span
                                            class="pre">视图</span></code>目录可以包含应用程序范围的基本模板（即应用程序的布局和应用程序包的模板）以及覆盖第三方包模板的模板（请参阅<a class="reference internal" href="#overriding-bundle-templates"><span>重载Bundle的模板</span></a>）。
                                </dd>
                                <dt><code class="docutils literal"><span
                                        class="pre">path/to/bundle/Resources/views/</span></code></dt>
                                <dd>
                                    每个第三方软件包都将其模板存放在其<code
                                            class="docutils literal"><span class="pre">Resources/views/</span></code>目录（和子目录）中。 当你打算分享你的包时，你应该把这些模板放在捆绑包中而不是<code class="docutils literal"><span
                                            class="pre">app/</span></code>目录中。
                                </dd>
                            </dl>
                            <p>
                                您将使用的大部分模板都会在应用程序<code class="docutils literal"><span
                                        class="pre">app/Resources/views/</span></code>目录中生效。
                                您将使用的路径将相对于此目录。 例如，要呈现/扩展<code class="docutils literal"><span class="pre">app/Resources/views/base.html.twig</span></code>，
                                您将使用<code class="docutils literal"><span class="pre">base.html.twig</span></code>路径并呈现/扩展<code class="docutils literal"><span class="pre">app/Resources/views/blog/index.html.twig</span></code>，
                                将使用<code class="docutils literal"><span class="pre">blog/index.html.twig</span></code>路径。
                            </p>
                            <div class="section" id="referencing-templates-in-a-bundle">
                                <span id="template-referencing-in-bundle"></span>
                                <h3>引用Bundle里的模板<a class="headerlink" href="#referencing-templates-in-a-bundle"
                                                   title="永久链接至标题">¶</a></h3>
                                <p>
                                    Symfony针对捆绑中的模板使用<strong>bundle</strong>:<strong>directory</strong>:<strong>filename</strong>字符串语法。 这允许几种类型的模板，每种模板都位于特定位置：
                                </p>
                                <ul>
                                    <li><p class="first"><code class="docutils literal"><span class="pre">AcmeBlogBundle:Blog:index.html.twig</span></code>:
                                        此语法用于为特定页面指定模板。 字符串的三个部分分别用冒号（<code class="docutils literal"><span class="pre">:</span></code>）分隔，表示如下：
                                    </p>
                                        <ul class="simple">
                                            <li><code class="docutils literal"><span
                                                    class="pre">AcmeBlogBundle</span></code>:
                                                （<em>bundle</em>）模板生活在AcmeBlogBundle内（例如<code class="docutils literal"><span class="pre">src/Acme/BlogBundle</span></code>）;
                                            </li>
                                            <li><code class="docutils literal"><span class="pre">Blog</span></code>:
                                                （<em>目录</em>）表示该模板位于<code class="docutils literal"><span class="pre">Resources/views</span></code>的<code class="docutils literal"><span class="pre">Blog</span></code>子目录内;
                                            </li>
                                            <li><code class="docutils literal"><span class="pre">index.html.twig</span></code>:
                                                （<em>文件名</em>）文件的实际名称是 <code class="docutils literal"><span class="pre">index.html.twig</span></code>。
                                            </li>
                                        </ul>
                                        <p>
                                            假设AcmeBlogBundle位于<code
                                                    class="docutils literal"><span
                                                    class="pre">src/Acme/BlogBundle</span></code>中，布局的最终路径为<code class="docutils literal"><span
                                                    class="pre">src/Acme/BlogBundle/Resources/views/Blog/index.html.twig</span></code>。
                                        </p>
                                    </li>
                                    <li><p class="first"><code class="docutils literal"><span class="pre">AcmeBlogBundle::layout.html.twig</span></code>:
                                        此语法引用特定于AcmeBlogBundle的基本模板。 由于中间的“目录”部分缺失（例如<code class="docutils literal"><span
                                                class="pre">Blog</span></code>），该模板位于AcmeBlogBundle内的<code class="docutils literal"><span class="pre">Resources/views/layout.html.twig</span></code>。 是的，当“控制器”子目录部分丢失时，字符串中间有2个冒号。
                                    </p>
                                    </li>
                                </ul>
                                <p>
                                    例如，在<a class="reference internal" href="#overriding-bundle-templates"><span>重载Bundle的模板</span></a>部分，您将了解如何将每个模板生活在AcmeBlogBundle中，方法是在<code class="docutils literal"><span
                                            class="pre">app/Resources/AcmeBlogBundle/views/</span></code>目录中放置一个同名模板。 这使得可以覆盖任何供应商包中的模板。
                                </p>
                                <div class="admonition tip">
                                    <p class="first admonition-title">小技巧</p>
                                    <p class="last">
                                        希望模板命名语法看起来很熟悉 - 它类似于用于引用<a class="reference internal"
                                                                    href="routing.html#controller-string-syntax"
                                                                    tppabs="http://symfony.cn/docs/book/routing.html#controller-string-syntax"><span>Controller命名规则</span></a>的命名约定。
                                    </p>
                                </div>
                            </div>
                            <div class="section" id="template-suffix">
                                <h3>模板后缀<a class="headerlink" href="#template-suffix" title="永久链接至标题">¶</a></h3>
                                <p>
                                    每个模板名称还有两个扩展名，用于指定该模板的<em>格式</em>和<em>引擎</em>。
                                </p>
                                <table border="1" class="docutils">
                                    <colgroup>
                                        <col width="67%"/>
                                        <col width="17%"/>
                                        <col width="17%"/>
                                    </colgroup>
                                    <thead valign="bottom">
                                    <tr class="row-odd">
                                        <th class="head">Filename</th>
                                        <th class="head">Format</th>
                                        <th class="head">Engine</th>
                                    </tr>
                                    </thead>
                                    <tbody valign="top">
                                    <tr class="row-even">
                                        <td><code class="docutils literal"><span class="pre">blog/index.html.twig</span></code>
                                        </td>
                                        <td>HTML</td>
                                        <td>Twig</td>
                                    </tr>
                                    <tr class="row-odd">
                                        <td><code class="docutils literal"><span class="pre">blog/index.html.php</span></code>
                                        </td>
                                        <td>HTML</td>
                                        <td>PHP</td>
                                    </tr>
                                    <tr class="row-even">
                                        <td><code class="docutils literal"><span class="pre">blog/index.css.twig</span></code>
                                        </td>
                                        <td>CSS</td>
                                        <td>Twig</td>
                                    </tr>
                                    </tbody>
                                </table>
                                <p>
                                    默认情况下，
                                    任何Symfony模板都可以用Twig或PHP编写，
                                    并且扩展的最后部分（例如<code class="docutils literal"><span
                                            class="pre">.twig</span></code> 或<code class="docutils literal"><span
                                            class="pre">.php</span></code>）指定应使用这两个引擎中的哪一个。
                                    扩展的第一部分（例如<code class="docutils literal"><span class="pre">.html</span></code>, <code
                                            class="docutils literal"><span class="pre">.css</span></code>等）是模板将生成的最终格式。
                                    与确定Symfony如何解析模板的引擎不同，这只是一种组织策略，
                                    用于在需要将相同资源呈现为HTML（<code class="docutils literal"><span class="pre">index.html.twig</span></code>），XML（<code class="docutils literal"><span class="pre">index.xml.twig</span></code>）或任何其他资源时 格式。
                                    欲了解更多信息，请阅读<a class="reference internal"
                                                  href="#template-formats"><span>模板格式</span></a>部分。
                                </p>
                                <div class="admonition note">
                                    <p class="first admonition-title">注解</p>
                                    <p class="last">
                                        可用的“引擎”可以配置，甚至可以添加新的引擎。 有关更多详细信息，请参阅<a class="reference internal" href="#template-configuration"><span>Templating Configuration</span></a>。
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="section" id="tags-and-helpers">
                            <span id="index-6"></span>
                            <h2>Tag和助手<a class="headerlink" href="#tags-and-helpers" title="永久链接至标题">¶</a></h2>
                            <p>您已经了解模板的基本知识，如何命名以及如何使用模板继承。 最难的部分已经在你身后。 在本节中，您将了解大量工具可用于帮助执行最常见的模板任务，例如包括其他模板，链接到页面和包括图像。</p>
                            <p>Symfony附带了几个专门的Twig标签和函数，可以简化模板设计器的工作。 在PHP中，模板系统提供了一个可扩展的帮助系统，可以在模板上下文中提供有用的功能。s</p>
                            <p>
                                你已经看到了一些内置的Twig标签（<code class="docutils literal"><span
                                        class="pre">{%</span> <span class="pre">block</span> <span
                                        class="pre">%}</span></code> &amp; <code class="docutils literal"><span class="pre">{%</span>
                                    <span class="pre">extends</span> <span class="pre">%}</span></code>）以及一个PHP助手（<code class="docutils literal"><span class="pre">$view['slots']</span></code>）的例子。 在这里你会学到更多。
                            </p>
                            <div class="section" id="including-other-templates">
                                <span id="including-templates"></span><span id="index-7"></span>
                                <h3>包含其他模板<a class="headerlink" href="#including-other-templates" title="永久链接至标题">¶</a>
                                </h3>
                                <p>您经常想要在几个页面上包含相同的模板或代码片段。 例如，在具有“新闻文章”的应用程序中，显示文章的模板代码可能会在文章详细信息页面，显示最受欢迎文章的页面上或最新文章列表中使用。</p>
                                <p>当您需要重用一段PHP代码时，您通常会将代码移到新的PHP类或函数中。 模板也是如此。 通过将重复使用的模板代码移动到它自己的模板中，它可以从任何其他模板中包含。 首先，创建您需要重用的模板。</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-html+jinja">
                                                <div class="highlight"><pre><span class="c">{# app/Resources/views/article/article_details.html.twig #}</span>
<span class="nt">&lt;h2&gt;</span><span class="cp">{{</span> <span class="nv">article.title</span> <span
                                                            class="cp">}}</span><span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">&quot;byline&quot;</span><span class="nt">&gt;</span>by <span
                                                            class="cp">{{</span> <span
                                                            class="nv">article.authorName</span> <span
                                                            class="cp">}}</span><span class="nt">&lt;/h3&gt;</span>

<span class="nt">&lt;p&gt;</span>
    <span class="cp">{{</span> <span class="nv">article.body</span> <span class="cp">}}</span>
<span class="nt">&lt;/p&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-html+php">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/Resources/views/article/article_details.html.php --&gt;</span>
<span class="nt">&lt;h2&gt;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                            class="nv">$article</span><span class="o">-&gt;</span><span
                                                            class="na">getTitle</span><span class="p">()</span> <span
                                                            class="cp">?&gt;</span><span class="nt">&lt;/h2&gt;</span>
<span class="nt">&lt;h3</span> <span class="na">class=</span><span class="s">&quot;byline&quot;</span><span class="nt">&gt;</span>by <span
                                                            class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                            class="nv">$article</span><span class="o">-&gt;</span><span
                                                            class="na">getAuthorName</span><span
                                                            class="p">()</span> <span class="cp">?&gt;</span><span
                                                            class="nt">&lt;/h3&gt;</span>

<span class="nt">&lt;p&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$article</span><span
                                                            class="o">-&gt;</span><span class="na">getBody</span><span
                                                            class="p">()</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;/p&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>从其他模板中包含此模板很简单：</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-html+jinja">
                                                <div class="highlight"><pre><span class="c">{# app/Resources/views/article/list.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;layout.html.twig&#39;</span> <span
                                                            class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span>
    <span class="nt">&lt;h1&gt;</span>Recent Articles<span class="nt">&lt;h1&gt;</span>

    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">article</span> <span
                                                            class="k">in</span> <span class="nv">articles</span> <span
                                                            class="cp">%}</span>
        <span class="cp">{{</span> <span class="nv">include</span><span class="o">(</span><span class="s1">&#39;article/article_details.html.twig&#39;</span><span
                                                            class="o">,</span> <span class="o">{</span> <span
                                                            class="s1">&#39;article&#39;</span><span class="o">:</span> <span
                                                            class="nv">article</span> <span class="o">})</span> <span
                                                            class="cp">}}</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-html+php">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/Resources/article/list.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="o">-&gt;</span><span class="na">extend</span><span
                                                            class="p">(</span><span
                                                            class="s1">&#39;layout.html.php&#39;</span><span
                                                            class="p">)</span> <span class="cp">?&gt;</span>

<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span
                                                            class="s1">&#39;slots&#39;</span><span
                                                            class="p">]</span><span class="o">-&gt;</span><span
                                                            class="na">start</span><span class="p">(</span><span
                                                            class="s1">&#39;body&#39;</span><span
                                                            class="p">)</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;h1&gt;</span>Recent Articles<span class="nt">&lt;/h1&gt;</span>

    <span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span
                                                            class="nv">$articles</span> <span class="k">as</span> <span
                                                            class="nv">$article</span><span class="p">)</span><span
                                                            class="o">:</span> <span class="cp">?&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span
                                                            class="o">-&gt;</span><span class="na">render</span><span
                                                            class="p">(</span>
            <span class="s1">&#39;Article/article_details.html.php&#39;</span><span class="p">,</span>
            <span class="k">array</span><span class="p">(</span><span class="s1">&#39;article&#39;</span> <span
                                                            class="o">=&gt;</span> <span class="nv">$article</span><span
                                                            class="p">)</span>
        <span class="p">)</span> <span class="cp">?&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">endforeach</span> <span class="cp">?&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span
                                                            class="s1">&#39;slots&#39;</span><span
                                                            class="p">]</span><span class="o">-&gt;</span><span
                                                            class="na">stop</span><span class="p">()</span> <span
                                                            class="cp">?&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    使用<code class="docutils literal"><span class="pre">{{</span>
                                        <span class="pre">include()</span> <span class="pre">}}</span></code>函数包含模板。
                                    注意模板名称遵循相同的典型惯例。
                                    <code
                                            class="docutils literal"><span class="pre">article_details.html.twig</span></code>模板使用一个<code class="docutils literal"><span
                                            class="pre">article</span></code>变量，我们传递给它。
                                    在这种情况下，您可以完全避免这样做，
                                    因为<code class="docutils literal"><span class="pre">list.html.twig</span></code>中的所有变量也可以在<code class="docutils literal"><span class="pre">article_details.html.twig</span></code>中找到
                                    （除非将<a class="reference external"
                                           href="javascript:if(confirm('http://twig.sensiolabs.org/doc/functions/include.html  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://twig.sensiolabs.org/doc/functions/include.html'"
                                           tppabs="http://twig.sensiolabs.org/doc/functions/include.html">with_context</a>s设置为false）。
                                </p>
                                <div class="admonition tip">
                                    <p class="first admonition-title">小技巧</p>
                                    <p class="last">
                                        <code class="docutils literal"><span
                                                class="pre">{'article':</span> <span class="pre">article}</span></code>语法是哈希映射（即具有命名键的数组）的标准Twig语法。 如果你需要传入多个元素，它看起来像这样：<code class="docutils literal"><span
                                                class="pre">{'foo':</span> <span class="pre">foo,</span> <span
                                                class="pre">'bar':</span> <span class="pre">bar}</span></code>。
                                    </p>
                                </div>
                            </div>
                            <div class="section" id="embedding-controllers">
                                <span id="templating-embedding-controller"></span><span id="index-8"></span>
                                <h3>嵌入Controller<a class="headerlink" href="#embedding-controllers"
                                                   title="永久链接至标题">¶</a></h3>
                                <p>在某些情况下，您需要做的不仅仅是包含一个简单的模板。 假设你的布局中有一个包含最近三篇文章的边栏。 检索这三篇文章可能包括查询数据库或执行其他无法从模板内完成的重逻辑。</p>
                                <p>解决方案是简单地从模板中嵌入整个控制器的结果。 首先，创建一个呈现特定数量的最近文章的控制器：</p>
                                <div class="highlight-php">
                                    <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/ArticleController.php</span>
<span class="k">namespace</span> <span class="nx">AppBundle\Controller</span><span class="p">;</span>

<span class="c1">// ...</span>

<span class="k">class</span> <span class="nc">ArticleController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">recentArticlesAction</span><span
                                                class="p">(</span><span class="nv">$max</span> <span class="o">=</span> <span
                                                class="mi">3</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="c1">// make a database call or other logic</span>
        <span class="c1">// to get the &quot;$max&quot; most recent articles</span>
        <span class="nv">$articles</span> <span class="o">=</span> <span class="o">...</span><span class="p">;</span>

        <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span
                                                class="na">render</span><span class="p">(</span>
            <span class="s1">&#39;article/recent_list.html.twig&#39;</span><span class="p">,</span>
            <span class="k">array</span><span class="p">(</span><span class="s1">&#39;articles&#39;</span> <span
                                                class="o">=&gt;</span> <span class="nv">$articles</span><span class="p">)</span>
        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                    </div>
                                </div>
                                <p>
                                    <code class="docutils literal"><span class="pre">recentList</span></code>模板非常简单：</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-html+jinja">
                                                <div class="highlight"><pre><span class="c">{# app/Resources/views/article/recent_list.html.twig #}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">article</span> <span class="k">in</span> <span
                                                            class="nv">articles</span> <span class="cp">%}</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/article/</span><span
                                                            class="cp">{{</span> <span
                                                            class="nv">article.slug</span> <span
                                                            class="cp">}}</span><span class="s">&quot;</span><span
                                                            class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nv">article.title</span> <span class="cp">}}</span>
    <span class="nt">&lt;/a&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-html+php">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/Resources/views/article/recent_list.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span
                                                            class="nv">$articles</span> <span class="k">as</span> <span
                                                            class="nv">$article</span><span class="p">)</span><span
                                                            class="o">:</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/article/</span><span class="cp">&lt;?php</span> <span
                                                            class="k">echo</span> <span class="nv">$article</span><span
                                                            class="o">-&gt;</span><span class="na">getSlug</span><span
                                                            class="p">()</span> <span class="cp">?&gt;</span><span
                                                            class="s">&quot;</span><span class="nt">&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$article</span><span class="o">-&gt;</span><span
                                                            class="na">getTitle</span><span class="p">()</span> <span
                                                            class="cp">?&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span> <span class="cp">?&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <div class="admonition note">
                                    <p class="first admonition-title">注解</p>
                                    <p class="last">
                                        请注意，文章网址在本例中是硬编码的（例如<code class="docutils literal"><span
                                                class="pre">/article/*slug*</span></code>）。 这是一个不好的做法。 在下一节中，您将学习如何正确执行此操作。
                                    </p>
                                </div>
                                <p>
                                    要包含控制器，您需要使用控制器的标准字符串语法（即<strong>bundle</strong>:<strong>controller</strong>:<strong>action</strong>）来引用它：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-html+jinja">
                                                <div class="highlight"><pre><span class="c">{# app/Resources/views/base.html.twig #}</span>

<span class="c">{# ... #}</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;sidebar&quot;</span><span class="nt">&gt;</span>
    <span class="cp">{{</span> <span class="nv">render</span><span class="o">(</span><span
                                                            class="nv">controller</span><span class="o">(</span>
        <span class="s1">&#39;AcmeArticleBundle:Article:recentArticles&#39;</span><span class="o">,</span>
        <span class="o">{</span> <span class="s1">&#39;max&#39;</span><span class="o">:</span> <span class="m">3</span> <span
                                                            class="o">}</span>
    <span class="o">))</span> <span class="cp">}}</span>
<span class="nt">&lt;/div&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-html+php">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/Resources/views/base.html.php --&gt;</span>

<span class="c">&lt;!-- ... --&gt;</span>
<span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;sidebar&quot;</span><span class="nt">&gt;</span>
    <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span
                                                            class="p">[</span><span
                                                            class="s1">&#39;actions&#39;</span><span
                                                            class="p">]</span><span class="o">-&gt;</span><span
                                                            class="na">render</span><span class="p">(</span>
        <span class="k">new</span> <span class="nx">\Symfony\Component\HttpKernel\Controller\ControllerReference</span><span
                                                            class="p">(</span>
            <span class="s1">&#39;AcmeArticleBundle:Article:recentArticles&#39;</span><span class="p">,</span>
            <span class="k">array</span><span class="p">(</span><span class="s1">&#39;max&#39;</span> <span class="o">=&gt;</span> <span
                                                            class="mi">3</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">)</span> <span class="cp">?&gt;</span>
<span class="nt">&lt;/div&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    每当你发现你需要一个你在模板中无法访问的变量或一段信息时，考虑渲染一个控制器。 控制器可以快速执行并促进良好的代码组织和重用。 当然，像所有的控制器一样，它们理想情况下应该是“瘦”的，这意味着尽可能多的代码存在于可重用的<a class="reference internal"
                                                                                                                                                     href="service_container.html"
                                                                                                                                                     tppabs="http://symfony.cn/docs/book/service_container.html"><em>services</em></a>中。
                                </p>
                            </div>
                            <div class="section" id="asynchronous-content-with-hinclude-js">
                                <h3>使用hinclude.js异步载入内容<a class="headerlink"
                                                          href="#asynchronous-content-with-hinclude-js" title="永久链接至标题">¶</a>
                                </h3>
                                <p>
                                    控制器可以使用<a class="reference external"
                                              href="javascript:if(confirm('http://mnot.github.com/hinclude/  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://mnot.github.com/hinclude/'"
                                              tppabs="http://mnot.github.com/hinclude/">hinclude.js</a> JavaScript库异步嵌入。 由于嵌入式内容来自另一个页面（或控制器），Symfony使用标准<code class="docutils literal"><span
                                            class="pre">render</span></code>函数的一个版本来配置<code
                                            class="docutils literal"><span class="pre">hinclude</span></code>标签：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-jinja">
                                                <div class="highlight"><pre><span class="cp">{{</span> <span class="nv">render_hinclude</span><span
                                                        class="o">(</span><span class="nv">controller</span><span
                                                        class="o">(</span><span class="s1">&#39;...&#39;</span><span
                                                        class="o">))</span> <span class="cp">}}</span><span
                                                        class="x"></span>
<span class="cp">{{</span> <span class="nv">render_hinclude</span><span class="o">(</span><span
                                                            class="nv">url</span><span class="o">(</span><span
                                                            class="s1">&#39;...&#39;</span><span
                                                            class="o">))</span> <span class="cp">}}</span><span
                                                            class="x"></span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span class="o">&lt;?</span><span
                                                        class="nx">php</span> <span class="k">echo</span> <span
                                                        class="nv">$view</span><span class="p">[</span><span class="s1">&#39;actions&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">render</span><span
                                                        class="p">(</span>
    <span class="k">new</span> <span class="nx">ControllerReference</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span
                                                            class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;renderer&#39;</span> <span
                                                            class="o">=&gt;</span> <span
                                                            class="s1">&#39;hinclude&#39;</span><span class="p">)</span>
<span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>

<span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$view</span><span class="p">[</span><span
                                                            class="s1">&#39;actions&#39;</span><span
                                                            class="p">]</span><span class="o">-&gt;</span><span
                                                            class="na">render</span><span class="p">(</span>
    <span class="nv">$view</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span
                                                            class="p">]</span><span class="o">-&gt;</span><span
                                                            class="na">generate</span><span class="p">(</span><span
                                                            class="s1">&#39;...&#39;</span><span class="p">),</span>
    <span class="k">array</span><span class="p">(</span><span class="s1">&#39;renderer&#39;</span> <span
                                                            class="o">=&gt;</span> <span
                                                            class="s1">&#39;hinclude&#39;</span><span class="p">)</span>
<span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <div class="admonition note">
                                    <p class="first admonition-title">注解</p>
                                    <p class="last">
                                        <a class="reference external"
                                           href="javascript:if(confirm('http://mnot.github.com/hinclude/  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://mnot.github.com/hinclude/'"
                                           tppabs="http://mnot.github.com/hinclude/">hinclude.js</a>需要包含在你的页面才能工作。
                                    </p>
                                </div>
                                <div class="admonition note">
                                    <p class="first admonition-title">注解</p>
                                    <p>
                                        当使用控制器而不是URL时，您必须启用Symfony<code class="docutils literal"><span class="pre">fragments</span></code>配置：
                                    </p>
                                    <div class="last configuration-block">
                                        <ul class="simple">
                                            <li><em>YAML</em>
                                                <div class="highlight-yaml">
                                                    <div class="highlight"><pre><span
                                                            class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="c1"># ...</span>
    <span class="l-Scalar-Plain">fragments</span><span class="p-Indicator">:</span> <span
                                                                class="p-Indicator">{</span> <span
                                                                class="nv">path</span><span class="p-Indicator">:</span> <span
                                                                class="nv">/_fragment</span> <span
                                                                class="p-Indicator">}</span>
</pre>
                                                    </div>
                                                </div>
                                            </li>
                                            <li><em>XML</em>
                                                <div class="highlight-xml">
                                                    <div class="highlight"><pre><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:framework=</span><span class="s">&quot;http://symfony.com/schema/dic/symfony&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/symfony http://symfony.com/schema/dic/symfony/symfony-1.0.xsd&quot;</span><span
                                                                class="nt">&gt;</span>

    <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;framework:config&gt;</span>
        <span class="nt">&lt;framework:fragments</span> <span class="na">path=</span><span class="s">&quot;/_fragment&quot;</span> <span
                                                                class="nt">/&gt;</span>
    <span class="nt">&lt;/framework:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre>
                                                    </div>
                                                </div>
                                            </li>
                                            <li><em>PHP</em>
                                                <div class="highlight-php">
                                                    <div class="highlight"><pre><span class="c1">// app/config/config.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span
                                                                class="p">(</span><span
                                                                class="s1">&#39;framework&#39;</span><span
                                                                class="p">,</span> <span class="k">array</span><span
                                                                class="p">(</span>
    <span class="c1">// ...</span>
    <span class="s1">&#39;fragments&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span
                                                                class="p">(</span><span class="s1">&#39;path&#39;</span> <span
                                                                class="o">=&gt;</span> <span class="s1">&#39;/_fragment&#39;</span><span
                                                                class="p">),</span>
<span class="p">));</span>
</pre>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <p>默认内容（加载时或JavaScript禁用时）可以在应用程序配置中全局设置：</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="c1"># ...</span>
    <span class="l-Scalar-Plain">templating</span><span class="p-Indicator">:</span>
        <span class="l-Scalar-Plain">hinclude_default_template</span><span class="p-Indicator">:</span> <span
                                                            class="l-Scalar-Plain">hinclude.html.twig</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:framework=</span><span class="s">&quot;http://symfony.com/schema/dic/symfony&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/symfony http://symfony.com/schema/dic/symfony/symfony-1.0.xsd&quot;</span><span
                                                            class="nt">&gt;</span>

    <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;framework:config&gt;</span>
        <span class="nt">&lt;framework:templating</span> <span class="na">hinclude-default-template=</span><span
                                                            class="s">&quot;hinclude.html.twig&quot;</span> <span
                                                            class="nt">/&gt;</span>
    <span class="nt">&lt;/framework:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/config.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span
                                                            class="p">(</span><span
                                                            class="s1">&#39;framework&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="c1">// ...</span>
    <span class="s1">&#39;templating&#39;</span>      <span class="o">=&gt;</span> <span class="k">array</span><span
                                                            class="p">(</span>
        <span class="s1">&#39;hinclude_default_template&#39;</span> <span class="o">=&gt;</span> <span
                                                            class="k">array</span><span class="p">(</span>
            <span class="s1">&#39;hinclude.html.twig&#39;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">),</span>
<span class="p">));</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    您可以为每个<code class="docutils literal"><span
                                            class="pre">render</span></code> 函数定义默认模板（将覆盖定义的所有全局默认模板）：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-jinja">
                                                <div class="highlight"><pre><span class="cp">{{</span> <span class="nv">render_hinclude</span><span
                                                        class="o">(</span><span class="nv">controller</span><span
                                                        class="o">(</span><span class="s1">&#39;...&#39;</span><span
                                                        class="o">),</span>  <span class="o">{</span>
    <span class="s1">&#39;default&#39;</span><span class="o">:</span> <span class="s1">&#39;default/content.html.twig&#39;</span>
<span class="o">})</span> <span class="cp">}}</span><span class="x"></span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span class="o">&lt;?</span><span
                                                        class="nx">php</span> <span class="k">echo</span> <span
                                                        class="nv">$view</span><span class="p">[</span><span class="s1">&#39;actions&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">render</span><span
                                                        class="p">(</span>
    <span class="k">new</span> <span class="nx">ControllerReference</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span
                                                            class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;renderer&#39;</span> <span class="o">=&gt;</span> <span
                                                            class="s1">&#39;hinclude&#39;</span><span class="p">,</span>
        <span class="s1">&#39;default&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;default/content.html.twig&#39;</span><span
                                                            class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>或者，您也可以指定一个字符串显示为默认内容：</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-jinja">
                                                <div class="highlight"><pre><span class="cp">{{</span> <span class="nv">render_hinclude</span><span
                                                        class="o">(</span><span class="nv">controller</span><span
                                                        class="o">(</span><span class="s1">&#39;...&#39;</span><span
                                                        class="o">),</span> <span class="o">{</span><span class="s1">&#39;default&#39;</span><span
                                                        class="o">:</span> <span
                                                        class="s1">&#39;Loading...&#39;</span><span class="o">})</span> <span
                                                        class="cp">}}</span><span class="x"></span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span class="o">&lt;?</span><span
                                                        class="nx">php</span> <span class="k">echo</span> <span
                                                        class="nv">$view</span><span class="p">[</span><span class="s1">&#39;actions&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">render</span><span
                                                        class="p">(</span>
    <span class="k">new</span> <span class="nx">ControllerReference</span><span class="p">(</span><span class="s1">&#39;...&#39;</span><span
                                                            class="p">),</span>
    <span class="k">array</span><span class="p">(</span>
        <span class="s1">&#39;renderer&#39;</span> <span class="o">=&gt;</span> <span
                                                            class="s1">&#39;hinclude&#39;</span><span class="p">,</span>
        <span class="s1">&#39;default&#39;</span> <span class="o">=&gt;</span> <span
                                                            class="s1">&#39;Loading...&#39;</span><span
                                                            class="p">,</span>
    <span class="p">)</span>
<span class="p">)</span> <span class="cp">?&gt;</span><span class="x"></span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="section" id="linking-to-pages">
                                <span id="book-templating-pages"></span><span id="index-9"></span>
                                <h3>创建链接<a class="headerlink" href="#linking-to-pages" title="永久链接至标题">¶</a></h3>
                                <p>
                                    在应用程序中创建指向其他页面的链接是模板最常见的工作之一。代替模板中的硬编码URL，使用 <code
                                            class="docutils literal"><span class="pre">path</span></code> Twig函数（或PHP中的<code class="docutils literal"><span class="pre">router</span></code>助手）根据路由配置生成URL。
                                    稍后，如果您想修改特定页面的URL，您需要做的就是更改路由配置；模板将自动生成新的URL。
                                </p>
                                <p>首先，链接到“欢迎页面”，它可以通过以下路由配置访问：</p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">_welcome</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">/</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Welcome</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">index</span> <span class="p-Indicator">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.yml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;_welcome&quot;</span> <span
                                                            class="na">path=</span><span
                                                            class="s">&quot;/&quot;</span><span class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Welcome:index<span
                                                            class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;_welcome&#39;</span><span class="p">,</span> <span
                                                            class="k">new</span> <span class="nx">Route</span><span
                                                            class="p">(</span><span class="s1">&#39;/&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Welcome:index&#39;</span><span
                                                            class="p">,</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    要链接到页面，只需使用 <code class="docutils literal"><span class="pre">path</span></code>Twig函数并参考路由：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-html+jinja">
                                                <div class="highlight"><pre><span class="nt">&lt;a</span> <span
                                                        class="na">href=</span><span class="s">&quot;</span><span
                                                        class="cp">{{</span> <span class="nv">path</span><span
                                                        class="o">(</span><span
                                                        class="s1">&#39;_welcome&#39;</span><span
                                                        class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span
                                                        class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-html+php">
                                                <div class="highlight"><pre><span class="nt">&lt;a</span> <span
                                                        class="na">href=</span><span class="s">&quot;</span><span
                                                        class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                        class="nv">$view</span><span class="p">[</span><span class="s1">&#39;router&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">generate</span><span
                                                        class="p">(</span><span
                                                        class="s1">&#39;_welcome&#39;</span><span
                                                        class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span
                                                        class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    正如预期的那样，这将生成URL<code class="docutils literal"><span
                                            class="pre">/</span></code>。现在，对于更复杂的路线：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>YAML</em>
                                            <div class="highlight-yaml">
                                                <div class="highlight"><pre><span
                                                        class="c1"># app/config/routing.yml</span>
<span class="l-Scalar-Plain">article_show</span><span class="p-Indicator">:</span>
    <span class="l-Scalar-Plain">path</span><span class="p-Indicator">:</span>     <span class="l-Scalar-Plain">/article/{slug}</span>
    <span class="l-Scalar-Plain">defaults</span><span class="p-Indicator">:</span> <span
                                                            class="p-Indicator">{</span> <span
                                                            class="nv">_controller</span><span
                                                            class="p-Indicator">:</span> <span
                                                            class="nv">AppBundle</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">Article</span><span
                                                            class="p-Indicator">:</span><span
                                                            class="nv">show</span> <span class="p-Indicator">}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>XML</em>
                                            <div class="highlight-xml">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/config/routing.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;routes</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/routing&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/routing</span>
<span class="s">        http://symfony.com/schema/routing/routing-1.0.xsd&quot;</span><span class="nt">&gt;</span>

    <span class="nt">&lt;route</span> <span class="na">id=</span><span class="s">&quot;article_show&quot;</span> <span
                                                            class="na">path=</span><span class="s">&quot;/article/{slug}&quot;</span><span
                                                            class="nt">&gt;</span>
        <span class="nt">&lt;default</span> <span class="na">key=</span><span
                                                            class="s">&quot;_controller&quot;</span><span class="nt">&gt;</span>AppBundle:Article:show<span
                                                            class="nt">&lt;/default&gt;</span>
    <span class="nt">&lt;/route&gt;</span>
<span class="nt">&lt;/routes&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-php">
                                                <div class="highlight"><pre><span
                                                        class="c1">// app/config/routing.php</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\Route</span><span class="p">;</span>
<span class="k">use</span> <span class="nx">Symfony\Component\Routing\RouteCollection</span><span class="p">;</span>

<span class="nv">$collection</span> <span class="o">=</span> <span class="k">new</span> <span
                                                            class="nx">RouteCollection</span><span class="p">();</span>
<span class="nv">$collection</span><span class="o">-&gt;</span><span class="na">add</span><span class="p">(</span><span
                                                            class="s1">&#39;article_show&#39;</span><span
                                                            class="p">,</span> <span class="k">new</span> <span
                                                            class="nx">Route</span><span class="p">(</span><span
                                                            class="s1">&#39;/article/{slug}&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
    <span class="s1">&#39;_controller&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;AppBundle:Article:show&#39;</span><span
                                                            class="p">,</span>
<span class="p">)));</span>

<span class="k">return</span> <span class="nv">$collection</span><span class="p">;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    在这种情况下，您需要同时指定路由名（在这种情况下，您需要同时指定路由名（ToeLo.See）和<code class="docutils literal"><span
                                            class="pre">{slug}</span></code>参数的值。使用此路径，重新访问前一节中的ReuntList模板，并正确链接到文章：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-html+jinja">
                                                <div class="highlight"><pre><span class="c">{# app/Resources/views/article/recent_list.html.twig #}</span>
<span class="cp">{%</span> <span class="k">for</span> <span class="nv">article</span> <span class="k">in</span> <span
                                                            class="nv">articles</span> <span class="cp">%}</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span
                                                            class="cp">{{</span> <span class="nv">path</span><span
                                                            class="o">(</span><span
                                                            class="s1">&#39;article_show&#39;</span><span
                                                            class="o">,</span> <span class="o">{</span><span class="s1">&#39;slug&#39;</span><span
                                                            class="o">:</span> <span class="nv">article.slug</span><span
                                                            class="o">})</span> <span class="cp">}}</span><span
                                                            class="s">&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nv">article.title</span> <span class="cp">}}</span>
    <span class="nt">&lt;/a&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-html+php">
                                                <div class="highlight"><pre><span class="c">&lt;!-- app/Resources/views/Article/recent_list.html.php --&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">foreach</span> <span class="p">(</span><span
                                                            class="nv">$articles</span> <span class="nx">in</span> <span
                                                            class="nv">$article</span><span class="p">)</span><span
                                                            class="o">:</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;</span><span
                                                            class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                            class="nv">$view</span><span class="p">[</span><span
                                                            class="s1">&#39;router&#39;</span><span
                                                            class="p">]</span><span class="o">-&gt;</span><span
                                                            class="na">generate</span><span class="p">(</span><span
                                                            class="s1">&#39;article_show&#39;</span><span
                                                            class="p">,</span> <span class="k">array</span><span
                                                            class="p">(</span>
        <span class="s1">&#39;slug&#39;</span> <span class="o">=&gt;</span> <span class="nv">$article</span><span
                                                            class="o">-&gt;</span><span class="na">getSlug</span><span
                                                            class="p">(),</span>
    <span class="p">))</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>
        <span class="cp">&lt;?php</span> <span class="k">echo</span> <span class="nv">$article</span><span class="o">-&gt;</span><span
                                                            class="na">getTitle</span><span class="p">()</span> <span
                                                            class="cp">?&gt;</span>
    <span class="nt">&lt;/a&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endforeach</span> <span class="cp">?&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <div class="admonition tip">
                                    <p class="first admonition-title">小技巧</p>
                                    <p>
                                        您还可以使用<code
                                                class="docutils literal"><span class="pre">url</span></code> Twig函数生成绝对URL：
                                    </p>
                                    <div class="highlight-html+jinja">
                                        <div class="highlight"><pre><span class="nt">&lt;a</span> <span
                                                class="na">href=</span><span class="s">&quot;</span><span
                                                class="cp">{{</span> <span class="nv">url</span><span class="o">(</span><span
                                                class="s1">&#39;_welcome&#39;</span><span class="o">)</span> <span
                                                class="cp">}}</span><span class="s">&quot;</span><span
                                                class="nt">&gt;</span>Home<span class="nt">&lt;/a&gt;</span>
</pre>
                                        </div>
                                    </div>
                                    <p>
                                        PHP模板可以通过将第三个参数传递给<code class="docutils literal"><span class="pre">generate()</span></code>方法来完成同样的操作：
                                    </p>
                                    <div class="last highlight-html+php">
                                        <div class="highlight"><pre><span class="nt">&lt;a</span> <span
                                                class="na">href=</span><span class="s">&quot;</span><span class="cp">&lt;?php</span> <span
                                                class="k">echo</span> <span class="nv">$view</span><span
                                                class="p">[</span><span class="s1">&#39;router&#39;</span><span
                                                class="p">]</span><span class="o">-&gt;</span><span
                                                class="na">generate</span><span class="p">(</span>
    <span class="s1">&#39;_welcome&#39;</span><span class="p">,</span>
    <span class="k">array</span><span class="p">(),</span>
    <span class="k">true</span>
<span class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>Home<span
                                                    class="nt">&lt;/a&gt;</span>
</pre>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="section" id="linking-to-assets">
                                <span id="book-templating-assets"></span><span id="index-10"></span>
                                <h3>链接静态文件<a class="headerlink" href="#linking-to-assets" title="永久链接至标题">¶</a></h3>
                                <p>
                                    模板也通常指的是图像、JavaScript、样式表和其他资产。
                                    当然，您可以硬编码这些资产的路径（例如<code
                                            class="docutils literal"><span class="pre">/images/logo.png</span></code>），
                                    但Symfony通过<code
                                            class="docutils literal"><span class="pre">asset</span></code>Twig函数提供了更为动态的选项：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-html+jinja">
                                                <div class="highlight"><pre><span class="nt">&lt;img</span> <span
                                                        class="na">src=</span><span class="s">&quot;</span><span
                                                        class="cp">{{</span> <span class="nv">asset</span><span
                                                        class="o">(</span><span
                                                        class="s1">&#39;images/logo.png&#39;</span><span
                                                        class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span
                                                        class="na">alt=</span><span
                                                        class="s">&quot;Symfony!&quot;</span> <span
                                                        class="nt">/&gt;</span>

<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span
                                                            class="cp">{{</span> <span class="nv">asset</span><span
                                                            class="o">(</span><span
                                                            class="s1">&#39;css/blog.css&#39;</span><span
                                                            class="o">)</span> <span class="cp">}}</span><span
                                                            class="s">&quot;</span> <span class="na">rel=</span><span
                                                            class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span
                                                            class="s">&quot;text/css&quot;</span> <span
                                                            class="nt">/&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-html+php">
                                                <div class="highlight"><pre><span class="nt">&lt;img</span> <span
                                                        class="na">src=</span><span class="s">&quot;</span><span
                                                        class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                        class="nv">$view</span><span class="p">[</span><span class="s1">&#39;assets&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">getUrl</span><span
                                                        class="p">(</span><span
                                                        class="s1">&#39;images/logo.png&#39;</span><span
                                                        class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span> <span
                                                        class="na">alt=</span><span
                                                        class="s">&quot;Symfony!&quot;</span> <span
                                                        class="nt">/&gt;</span>

<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span
                                                            class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                            class="nv">$view</span><span class="p">[</span><span
                                                            class="s1">&#39;assets&#39;</span><span
                                                            class="p">]</span><span class="o">-&gt;</span><span
                                                            class="na">getUrl</span><span class="p">(</span><span
                                                            class="s1">&#39;css/blog.css&#39;</span><span
                                                            class="p">)</span> <span class="cp">?&gt;</span><span
                                                            class="s">&quot;</span> <span class="na">rel=</span><span
                                                            class="s">&quot;stylesheet&quot;</span> <span class="na">type=</span><span
                                                            class="s">&quot;text/css&quot;</span> <span
                                                            class="nt">/&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    <code class="docutils literal"><span class="pre">asset</span></code>函数的主要目的是使您的应用程序更加便携。
                                    如果您的应用程序位于主机的根目录（例如<a
                                            class="reference external"
                                            href="javascript:if(confirm('http://example.com/  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://example.com/'"
                                            tppabs="http://example.com/">http://example.com</a>），
                                    则所呈现的路径应该是<code class="docutils literal"><span class="pre">/images/logo.png</span></code>。
                                    但是如果你的应用程序在子目录（例如<a class="reference external"
                                                        href="javascript:if(confirm('http://example.com/my_app  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://example.com/my_app'"
                                                        tppabs="http://example.com/my_app">http://example.com/my_app</a>）中生存，
                                    每个资产路径应该与子目录一起呈现（例如 <code class="docutils literal"><span
                                            class="pre">/my_app/images/logo.png</span></code>）。
                                    <code class="docutils literal"><span class="pre">asset</span></code>函数通过确定如何使用应用程序并相应地生成正确路径来处理这一问题。
                                </p>
                                <p>
                                    此外，如果使用<code class="docutils literal"><span
                                            class="pre">asset</span></code>函数，
                                    Symfony可以自动将查询字符串追加到您的asset中，以保证部署的更新静态资产不会被缓存。
                                    例如，<code
                                            class="docutils literal"><span class="pre">/images/logo.png</span></code>。
                                    PNG可能看起来像<code class="docutils literal"><span
                                            class="pre">/images/logo.png?v2</span></code>。有关更多信息，请参见 <a class="reference internal" href="framework.html#ref-framework-assets-version"
                                                                                                        tppabs="http://symfony.cn/docs/reference/configuration/framework.html#ref-framework-assets-version"><span>assets_version</span></a>配置选项。
                                </p>
                                <p id="book-templating-version-by-asset">
                                    如果需要为特定资产设置版本，可以将第四个参数（或<code class="docutils literal"><span
                                            class="pre">version</span></code>参数）设置为所需版本：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-html+jinja">
                                                <div class="highlight"><pre><span class="nt">&lt;img</span> <span
                                                        class="na">src=</span><span class="s">&quot;</span><span
                                                        class="cp">{{</span> <span class="nv">asset</span><span
                                                        class="o">(</span><span
                                                        class="s1">&#39;images/logo.png&#39;</span><span
                                                        class="o">,</span> <span class="nv">version</span><span
                                                        class="o">=</span><span class="s1">&#39;3.0&#39;</span><span
                                                        class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span
                                                        class="na">alt=</span><span
                                                        class="s">&quot;Symfony!&quot;</span> <span
                                                        class="nt">/&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-html+php">
                                                <div class="highlight"><pre><span class="nt">&lt;img</span> <span
                                                        class="na">src=</span><span class="s">&quot;</span><span
                                                        class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                        class="nv">$view</span><span class="p">[</span><span class="s1">&#39;assets&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">getUrl</span><span
                                                        class="p">(</span>
    <span class="s1">&#39;images/logo.png&#39;</span><span class="p">,</span>
    <span class="k">null</span><span class="p">,</span>
    <span class="k">false</span><span class="p">,</span>
    <span class="s1">&#39;3.0&#39;</span>
<span class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span> <span class="na">alt=</span><span
                                                            class="s">&quot;Symfony!&quot;</span> <span
                                                            class="nt">/&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                                <p>
                                    如果不提供版本或传递<code class="docutils literal"><span
                                            class="pre">null</span></code>，则将使用默认包版本（来自<a class="reference internal"
                                                                  href="framework.html#ref-framework-assets-version"
                                                                  tppabs="http://symfony.cn/docs/reference/configuration/framework.html#ref-framework-assets-version"><span>assets_version</span></a>）。
                                    如果传递<code class="docutils literal"><span
                                            class="pre">false</span></code>，则此资产将禁用版本化的URL。
                                </p>
                                <p>
                                    如果需要assets的绝对URL，可以将第三个参数（或<code class="docutils literal"><span class="pre">absolute</span></code>参数）设置为<code class="docutils literal"><span class="pre">true</span></code>：
                                </p>
                                <div class="configuration-block">
                                    <ul class="simple">
                                        <li><em>Twig</em>
                                            <div class="highlight-html+jinja">
                                                <div class="highlight"><pre><span class="nt">&lt;img</span> <span
                                                        class="na">src=</span><span class="s">&quot;</span><span
                                                        class="cp">{{</span> <span class="nv">asset</span><span
                                                        class="o">(</span><span
                                                        class="s1">&#39;images/logo.png&#39;</span><span
                                                        class="o">,</span> <span class="nv">absolute</span><span
                                                        class="o">=</span><span class="kp">true</span><span
                                                        class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span
                                                        class="na">alt=</span><span
                                                        class="s">&quot;Symfony!&quot;</span> <span
                                                        class="nt">/&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                        <li><em>PHP</em>
                                            <div class="highlight-html+php">
                                                <div class="highlight"><pre><span class="nt">&lt;img</span> <span
                                                        class="na">src=</span><span class="s">&quot;</span><span
                                                        class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                        class="nv">$view</span><span class="p">[</span><span class="s1">&#39;assets&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">getUrl</span><span
                                                        class="p">(</span>
    <span class="s1">&#39;images/logo.png&#39;</span><span class="p">,</span>
    <span class="k">null</span><span class="p">,</span>
    <span class="k">true</span>
<span class="p">)</span> <span class="cp">?&gt;</span><span class="s">&quot;</span> <span class="na">alt=</span><span
                                                            class="s">&quot;Symfony!&quot;</span> <span
                                                            class="nt">/&gt;</span>
</pre>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="section" id="including-stylesheets-and-javascripts-in-twig">
                            <span id="index-11"></span>
                            <h2>在Twig里引入CSS和JS<a class="headerlink"
                                                 href="#including-stylesheets-and-javascripts-in-twig"
                                                 title="永久链接至标题">¶</a></h2>
                            <p>
                                没有包含JavaScript文件和样式表的网站是不完整的。在Symfony中，利用Symfony的模板继承来优雅地处理这些资产。
                            </p>
                            <div class="admonition tip">
                                <p class="first admonition-title">小技巧</p>
                                <p class="last">
                                    本节将向您介绍Symfony中包含样式表和JavaScript assets的背后的哲学。
                                    Symfony还打包了另一个叫做Assetic的库，它遵循这一理念，
                                    但允许你用这些assets做更多有趣的事情。
                                    欲了解更多关于使用Assetic见<a class="reference internal" href="asset_management.html"
                                                       tppabs="http://symfony.cn/docs/cookbook/assetic/asset_management.html"><em>如何使用Assetic管理静态文件</em></a>。
                                </p>
                            </div>
                            <p>
                                首先在你的基础模板中添加两个blocks来保存你的assets：
                                一个在<code class="docutils literal"><span class="pre">head</span></code>标签内称为<code class="docutils literal"><span class="pre">stylesheets</span></code>，
                                另一个在关闭<code class="docutils literal"><span
                                        class="pre">body</span></code> 标签上方称为<code class="docutils literal"><span
                                        class="pre">javascripts</span></code>。这些块将包含您网站中需要的所有样式表和JavaScript。
                            </p>
                            <div class="configuration-block">
                                <ul class="simple">
                                    <li><em>Twig</em>
                                        <div class="highlight-html+jinja">
                                            <div class="highlight"><pre><span class="c">{# app/Resources/views/base.html.twig #}</span>
<span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="c">{# ... #}</span>

        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">stylesheets</span> <span
                                                        class="cp">%}</span>
            <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span class="cp">{{</span> <span
                                                        class="nv">asset</span><span class="o">(</span><span class="s1">&#39;css/main.css&#39;</span><span
                                                        class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span
                                                        class="na">rel=</span><span
                                                        class="s">&quot;stylesheet&quot;</span> <span
                                                        class="nt">/&gt;</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="c">{# ... #}</span>

        <span class="cp">{%</span> <span class="k">block</span> <span class="nv">javascripts</span> <span
                                                        class="cp">%}</span>
            <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">&quot;</span><span
                                                        class="cp">{{</span> <span class="nv">asset</span><span
                                                        class="o">(</span><span
                                                        class="s1">&#39;js/main.js&#39;</span><span
                                                        class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span><span
                                                        class="nt">&gt;&lt;/script&gt;</span>
        <span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>PHP</em>
                                        <div class="highlight-php">
                                            <div class="highlight"><pre><span class="c1">// app/Resources/views/base.html.php</span>
<span class="o">&lt;</span><span class="nx">html</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nx">head</span><span class="o">&gt;</span>
        <span class="o">&lt;?</span><span class="nx">php</span> <span class="o">...</span> <span class="cp">?&gt;</span><span
                                                        class="x"></span>

<span class="x">        </span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span
                                                        class="p">[</span><span class="s1">&#39;slots&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">start</span><span
                                                        class="p">(</span><span
                                                        class="s1">&#39;stylesheets&#39;</span><span class="p">)</span> <span
                                                        class="cp">?&gt;</span><span class="x"></span>
<span class="x">            &lt;link href=&quot;</span><span class="cp">&lt;?php</span> <span
                                                        class="k">echo</span> <span class="nv">$view</span><span
                                                        class="p">[</span><span class="s1">&#39;assets&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">getUrl</span><span
                                                        class="p">(</span><span class="s1">&#39;css/main.css&#39;</span><span
                                                        class="p">)</span> <span class="cp">?&gt;</span><span class="x">&quot; rel=&quot;stylesheet&quot; /&gt;</span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span
                                                        class="p">[</span><span class="s1">&#39;slots&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">stop</span><span
                                                        class="p">()</span> <span class="cp">?&gt;</span><span
                                                        class="x"></span>
<span class="x">    &lt;/head&gt;</span>
<span class="x">    &lt;body&gt;</span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="o">...</span> <span class="cp">?&gt;</span><span
                                                        class="x"></span>

<span class="x">        </span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span
                                                        class="p">[</span><span class="s1">&#39;slots&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">start</span><span
                                                        class="p">(</span><span
                                                        class="s1">&#39;javascripts&#39;</span><span class="p">)</span> <span
                                                        class="cp">?&gt;</span><span class="x"></span>
<span class="x">            &lt;script src=&quot;</span><span class="cp">&lt;?php</span> <span
                                                        class="k">echo</span> <span class="nv">$view</span><span
                                                        class="p">[</span><span class="s1">&#39;assets&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">getUrl</span><span
                                                        class="p">(</span><span
                                                        class="s1">&#39;js/main.js&#39;</span><span
                                                        class="p">)</span> <span class="cp">?&gt;</span><span class="x">&quot;&gt;&lt;/script&gt;</span>
<span class="x">        </span><span class="cp">&lt;?php</span> <span class="nv">$view</span><span
                                                        class="p">[</span><span class="s1">&#39;slots&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">stop</span><span
                                                        class="p">()</span> <span class="cp">?&gt;</span><span
                                                        class="x"></span>
<span class="x">    &lt;/body&gt;</span>
<span class="x">&lt;/html&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <p>
                                这很容易！但是，如果需要从子模板中添加额外的样式表或JavaScript呢？
                                例如，假设您有一个contact页面，您需要在该页面上包含一个<code class="docutils literal"><span class="pre">contact.css</span></code>样式表。
                                从该联系人页面的模板内部，执行以下操作：
                            </p>
                            <div class="configuration-block">
                                <ul class="simple">
                                    <li><em>Twig</em>
                                        <div class="highlight-html+jinja">
                                            <div class="highlight"><pre><span class="c">{# app/Resources/views/contact/contact.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;base.html.twig&#39;</span> <span
                                                        class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">stylesheets</span> <span class="cp">%}</span>
    <span class="cp">{{</span> <span class="nv">parent</span><span class="o">()</span> <span class="cp">}}</span>

    <span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;</span><span
                                                        class="cp">{{</span> <span class="nv">asset</span><span
                                                        class="o">(</span><span
                                                        class="s1">&#39;css/contact.css&#39;</span><span
                                                        class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span
                                                        class="na">rel=</span><span
                                                        class="s">&quot;stylesheet&quot;</span> <span
                                                        class="nt">/&gt;</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>

<span class="c">{# ... #}</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>PHP</em>
                                        <div class="highlight-php">
                                            <div class="highlight"><pre><span class="c1">// app/Resources/views/contact/contact.html.twig</span>
<span class="o">&lt;?</span><span class="nx">php</span> <span class="nv">$view</span><span class="o">-&gt;</span><span
                                                        class="na">extend</span><span class="p">(</span><span
                                                        class="s1">&#39;base.html.php&#39;</span><span
                                                        class="p">)</span> <span class="cp">?&gt;</span><span
                                                        class="x"></span>

<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span
                                                        class="s1">&#39;slots&#39;</span><span class="p">]</span><span
                                                        class="o">-&gt;</span><span class="na">start</span><span
                                                        class="p">(</span><span
                                                        class="s1">&#39;stylesheets&#39;</span><span class="p">)</span> <span
                                                        class="cp">?&gt;</span><span class="x"></span>
<span class="x">    &lt;link href=&quot;</span><span class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                        class="nv">$view</span><span class="p">[</span><span class="s1">&#39;assets&#39;</span><span
                                                        class="p">]</span><span class="o">-&gt;</span><span class="na">getUrl</span><span
                                                        class="p">(</span><span
                                                        class="s1">&#39;css/contact.css&#39;</span><span
                                                        class="p">)</span> <span class="cp">?&gt;</span><span class="x">&quot; rel=&quot;stylesheet&quot; /&gt;</span>
<span class="cp">&lt;?php</span> <span class="nv">$view</span><span class="p">[</span><span
                                                        class="s1">&#39;slots&#39;</span><span class="p">]</span><span
                                                        class="o">-&gt;</span><span class="na">stop</span><span
                                                        class="p">()</span> <span class="cp">?&gt;</span><span
                                                        class="x"></span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <p>
                                在子模板中，您只需重写<code class="docutils literal"><span
                                        class="pre">stylesheets</span></code>block ，然后将新样式表标记放在该块内。
                                当然，由于您想添加父块的内容（而实际上不替换它），所以应该使用 <code class="docutils literal"><span class="pre">parent()</span></code>
                                Twig函数从基础模板的<code class="docutils literal"><span
                                        class="pre">stylesheets</span></code>block 中包含所有内容。
                            </p>
                            <p>
                                还可以包含位于bundles的<code
                                        class="docutils literal"><span class="pre">Resources/public</span></code>文件夹中的资产。
                                您需要运行<code class="docutils literal"><span class="pre">php</span>
                                    <span class="pre">app/console</span> <span class="pre">assets:install</span> <span
                                            class="pre">target</span> <span class="pre">[--symlink]</span></code>命令，该命令将（或symlinks）文件移动到正确的位置。
                                （目标是默认的“Web”）。
                            </p>
                            <div class="highlight-html+jinja">
                                <div class="highlight"><pre><span class="nt">&lt;link</span> <span
                                        class="na">href=</span><span class="s">&quot;</span><span
                                        class="cp">{{</span> <span class="nv">asset</span><span class="o">(</span><span
                                        class="s1">&#39;bundles/acmedemo/css/contact.css&#39;</span><span
                                        class="o">)</span> <span class="cp">}}</span><span class="s">&quot;</span> <span
                                        class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span
                                        class="nt">/&gt;</span>
</pre>
                                </div>
                            </div>
                            <p>
                                最终结果是一个包含<code class="docutils literal"><span
                                        class="pre">main.css</span></code>和<code class="docutils literal"><span
                                        class="pre">contact.css</span></code>样式表的页面。
                            </p>
                        </div>
                        <div class="section" id="global-template-variables">
                            <h2>模板全局变量<a class="headerlink" href="#global-template-variables" title="永久链接至标题">¶</a></h2>
                            <p>
                                在每个请求期间，
                                Symfony将在默认情况下在TWG和PHP模板引擎中设置全局模板变量<code
                                        class="docutils literal"><span class="pre">app</span></code>。
                                <code
                                        class="docutils literal"><span class="pre">app</span></code>变量是一个<code class="docutils literal"><a class="reference external"
                                                                                                                                           href="javascript:if(confirm('http://api.symfony.com/master/Symfony/Bundle/FrameworkBundle/Templating/GlobalVariables.html  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://api.symfony.com/master/Symfony/Bundle/FrameworkBundle/Templating/GlobalVariables.html'"
                                                                                                                                           tppabs="http://api.symfony.com/master/Symfony/Bundle/FrameworkBundle/Templating/GlobalVariables.html"
                                                                                                                                           title="Symfony\Bundle\FrameworkBundle\Templating\GlobalVariables"><span
                                        class="pre">GlobalVariables</span></a></code>实例，
                                它可以自动访问一些特定于应用程序的变量：
                            </p>
                            <dl class="docutils">
                                <dt><code class="docutils literal"><span class="pre">app.security</span></code></dt>
                                <dd>安全上下文。</dd>
                                <dt><code class="docutils literal"><span class="pre">app.user</span></code></dt>
                                <dd>当前用户对象。</dd>
                                <dt><code class="docutils literal"><span class="pre">app.request</span></code></dt>
                                <dd>请求对象。</dd>
                                <dt><code class="docutils literal"><span class="pre">app.session</span></code></dt>
                                <dd>会话对象。</dd>
                                <dt><code class="docutils literal"><span class="pre">app.environment</span></code></dt>
                                <dd>当前的环境（DEV，PRD等）。</dd>
                                <dt><code class="docutils literal"><span class="pre">app.debug</span></code></dt>
                                <dd>true如果在调试模式。False 其他模式</dd>
                            </dl>
                            <div class="configuration-block">
                                <ul class="simple">
                                    <li><em>Twig</em>
                                        <div class="highlight-html+jinja">
                                            <div class="highlight"><pre><span class="nt">&lt;p&gt;</span>Username: <span
                                                    class="cp">{{</span> <span class="nv">app.user.username</span> <span
                                                    class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
<span class="cp">{%</span> <span class="k">if</span> <span class="nv">app.debug</span> <span class="cp">%}</span>
    <span class="nt">&lt;p&gt;</span>Request method: <span class="cp">{{</span> <span
                                                        class="nv">app.request.method</span> <span
                                                        class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>Application Environment: <span class="cp">{{</span> <span class="nv">app.environment</span> <span
                                                        class="cp">}}</span><span class="nt">&lt;/p&gt;</span>
<span class="cp">{%</span> <span class="k">endif</span> <span class="cp">%}</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>PHP</em>
                                        <div class="highlight-html+php">
                                            <div class="highlight"><pre><span class="nt">&lt;p&gt;</span>Username: <span
                                                    class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                    class="nv">$app</span><span class="o">-&gt;</span><span class="na">getUser</span><span
                                                    class="p">()</span><span class="o">-&gt;</span><span class="na">getUsername</span><span
                                                    class="p">()</span> <span class="cp">?&gt;</span><span class="nt">&lt;/p&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">if</span> <span class="p">(</span><span class="nv">$app</span><span
                                                        class="o">-&gt;</span><span class="na">getDebug</span><span
                                                        class="p">())</span><span class="o">:</span> <span class="cp">?&gt;</span>
    <span class="nt">&lt;p&gt;</span>Request method: <span class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                                        class="nv">$app</span><span class="o">-&gt;</span><span
                                                        class="na">getRequest</span><span class="p">()</span><span
                                                        class="o">-&gt;</span><span class="na">getMethod</span><span
                                                        class="p">()</span> <span class="cp">?&gt;</span><span
                                                        class="nt">&lt;/p&gt;</span>
    <span class="nt">&lt;p&gt;</span>Application Environment: <span class="cp">&lt;?php</span> <span
                                                        class="k">echo</span> <span class="nv">$app</span><span
                                                        class="o">-&gt;</span><span
                                                        class="na">getEnvironment</span><span class="p">()</span> <span
                                                        class="cp">?&gt;</span><span class="nt">&lt;/p&gt;</span>
<span class="cp">&lt;?php</span> <span class="k">endif</span> <span class="cp">?&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <div class="versionadded">
                                <p>
                                    2.6新版功能：全局变量<code
                                            class="docutils literal"><span class="pre">app.security</span></code>（或 在PHP里symfony模板的方法<code class="docutils literal"><span
                                            class="pre">$app-&gt;getSecurity()</span></code>）在Symfony2.6中是不赞成使用的。用<code
                                            class="docutils literal"><span class="pre">app.user</span></code>(<code class="docutils literal"><span class="pre">$app-&gt;getUser()</span></code>)
                                    和 <code class="docutils literal"><span class="pre">is_granted()</span></code>
                                    (<code class="docutils literal"><span
                                            class="pre">$view['security']-&gt;isGranted()</span></code>)
                                    代替.
                                </p>
                            </div>
                            <div class="admonition tip">
                                <p class="first admonition-title">小技巧</p>
                                <p class="last">You can add your own global template variables. See the cookbook example
                                    on .
                                    您可以添加自己的全局模板变量。请参阅<a class="reference internal" href="global_variables.html"
                                                         tppabs="http://symfony.cn/docs/cookbook/templating/global_variables.html"><em>全局变量</em></a>的文档示例。
                                </p>
                            </div>
                        </div>
                        <div class="section" id="configuring-and-using-the-templating-service">
                            <span id="index-12"></span>
                            <h2>配置和使用 <code class="docutils literal"><span class="pre">templating</span></code>
                                Service<a class="headerlink" href="#configuring-and-using-the-templating-service"
                                          title="永久链接至标题">¶</a></h2>
                            <p>
                                模板系统在Symfony中的核心是模板<code
                                        class="docutils literal"><span class="pre">引擎</span></code>。这个特殊的对象负责渲染模板并返回它们的内容。例如，当您在控制器中呈现模板时，实际上是使用模板引擎服务。例如：
                            </p>
                            <div class="highlight-php">
                                <div class="highlight"><pre><span class="k">return</span> <span
                                        class="nv">$this</span><span class="o">-&gt;</span><span
                                        class="na">render</span><span class="p">(</span><span class="s1">&#39;article/index.html.twig&#39;</span><span
                                        class="p">);</span>
</pre>
                                </div>
                            </div>
                            <p>相当于：</p>
                            <div class="highlight-php">
                                <div class="highlight"><pre><span class="k">use</span> <span class="nx">Symfony\Component\HttpFoundation\Response</span><span
                                        class="p">;</span>

<span class="nv">$engine</span> <span class="o">=</span> <span class="nv">$this</span><span class="o">-&gt;</span><span
                                            class="na">container</span><span class="o">-&gt;</span><span
                                            class="na">get</span><span class="p">(</span><span class="s1">&#39;templating&#39;</span><span
                                            class="p">);</span>
<span class="nv">$content</span> <span class="o">=</span> <span class="nv">$engine</span><span
                                            class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span
                                            class="s1">&#39;article/index.html.twig&#39;</span><span class="p">);</span>

<span class="k">return</span> <span class="nv">$response</span> <span class="o">=</span> <span
                                            class="k">new</span> <span class="nx">Response</span><span
                                            class="p">(</span><span class="nv">$content</span><span class="p">);</span>
</pre>
                                </div>
                            </div>
                            <p id="template-configuration">
                                模板引擎（或“服务”）已预先配置为在Symfony中自动工作。 当然，它可以在应用程序配置文件中进一步配置：
                            </p>
                            <div class="configuration-block">
                                <ul class="simple">
                                    <li><em>YAML</em>
                                        <div class="highlight-yaml">
                                            <div class="highlight"><pre><span class="c1"># app/config/config.yml</span>
<span class="l-Scalar-Plain">framework</span><span class="p-Indicator">:</span>
    <span class="c1"># ...</span>
    <span class="l-Scalar-Plain">templating</span><span class="p-Indicator">:</span> <span class="p-Indicator">{</span> <span
                                                        class="nv">engines</span><span
                                                        class="p-Indicator">:</span> <span
                                                        class="p-Indicator">[</span><span
                                                        class="s">&#39;twig&#39;</span><span
                                                        class="p-Indicator">]</span> <span class="p-Indicator">}</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>XML</em>
                                        <div class="highlight-xml">
                                            <div class="highlight"><pre><span class="c">&lt;!-- app/config/config.xml --&gt;</span>
<span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="nt">&lt;container</span> <span class="na">xmlns=</span><span class="s">&quot;http://symfony.com/schema/dic/services&quot;</span>
    <span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span>
    <span class="na">xmlns:framework=</span><span class="s">&quot;http://symfony.com/schema/dic/symfony&quot;</span>
    <span class="na">xsi:schemaLocation=</span><span class="s">&quot;http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd</span>
<span class="s">        http://symfony.com/schema/dic/symfony http://symfony.com/schema/dic/symfony/symfony-1.0.xsd&quot;</span><span
                                                        class="nt">&gt;</span>

    <span class="c">&lt;!-- ... --&gt;</span>
    <span class="nt">&lt;framework:config&gt;</span>
        <span class="nt">&lt;framework:templating&gt;</span>
            <span class="nt">&lt;framework:engine&gt;</span>twig<span class="nt">&lt;/framework:engine&gt;</span>
        <span class="nt">&lt;/framework:templating&gt;</span>
    <span class="nt">&lt;/framework:config&gt;</span>
<span class="nt">&lt;/container&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>PHP</em>
                                        <div class="highlight-php">
                                            <div class="highlight"><pre><span class="c1">// app/config/config.php</span>
<span class="nv">$container</span><span class="o">-&gt;</span><span class="na">loadFromExtension</span><span
                                                        class="p">(</span><span
                                                        class="s1">&#39;framework&#39;</span><span
                                                        class="p">,</span> <span class="k">array</span><span
                                                        class="p">(</span>
    <span class="c1">// ...</span>

    <span class="s1">&#39;templating&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span
                                                        class="p">(</span>
        <span class="s1">&#39;engines&#39;</span> <span class="o">=&gt;</span> <span class="k">array</span><span
                                                        class="p">(</span><span class="s1">&#39;twig&#39;</span><span
                                                        class="p">),</span>
    <span class="p">),</span>
<span class="p">));</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <p>
                                有几个配置选项可用，并在<a class="reference internal" href="framework.html"
                                               tppabs="http://symfony.cn/docs/reference/configuration/framework.html"><em>配置附录</em></a>中进行介绍。
                            </p>
                            <div class="admonition note">
                                <p class="first admonition-title">注解</p>
                                <p class="last">
                                    <code class="docutils literal"><span class="pre">twig</span></code>引擎必须使用webprofiler（以及许多第三方软件包）。
                                </p>
                            </div>
                        </div>
                        <div class="section" id="overriding-bundle-templates">
                            <span id="index-13"></span><span id="id1"></span>
                            <h2>重载Bundle的模板<a class="headerlink" href="#overriding-bundle-templates"
                                              title="永久链接至标题">¶</a></h2>
                            <p>
                                Symfony社区以创建和维护高质量的捆绑软件（见 <a class="reference external"
                                                             href="javascript:if(confirm('http://knpbundles.com/  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://knpbundles.com/'"
                                                             tppabs="http://knpbundles.com/">KnpBundles.com</a>）为自己的大量不同功能而自豪。 一旦您使用第三方软件包，您可能需要覆盖和自定义一个或多个模板。
                            </p>
                            <p>
                                假设你已经在你的项目中安装了虚构的开源AcmeBlogBundle。 虽然你对所有事情都很满意，但你想覆盖博客“列表”页面来自定义专门针对你的应用程序的标记。 通过挖掘AcmeBlogBundle的<code class="docutils literal"><span class="pre">Blog</span></code>控制器，您可以找到以下内容：
                            </p>
                            <div class="highlight-php">
                                <div class="highlight"><pre><span class="k">public</span> <span
                                        class="k">function</span> <span class="nf">indexAction</span><span
                                        class="p">()</span>
<span class="p">{</span>
    <span class="c1">// some logic to retrieve the blogs</span>
    <span class="nv">$blogs</span> <span class="o">=</span> <span class="o">...</span><span class="p">;</span>

    <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">render</span><span class="p">(</span>
        <span class="s1">&#39;AcmeBlogBundle:Blog:index.html.twig&#39;</span><span class="p">,</span>
        <span class="k">array</span><span class="p">(</span><span class="s1">&#39;blogs&#39;</span> <span class="o">=&gt;</span> <span
                                            class="nv">$blogs</span><span class="p">)</span>
    <span class="p">);</span>
<span class="p">}</span>
</pre>
                                </div>
                            </div>
                            <p>
                                当呈现<code class="docutils literal"><span class="pre">AcmeBlogBundle:Blog:index.html.twig</span></code>时，Symfony实际上会在模板的两个不同位置查找：
                            </p>
                            <ol class="arabic simple">
                                <li><code class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/Blog/index.html.twig</span></code>
                                </li>
                                <li><code class="docutils literal"><span class="pre">src/Acme/BlogBundle/Resources/views/Blog/index.html.twig</span></code>
                                </li>
                            </ol>
                            <p>
                                要覆盖包模板，只需将该包中的<code class="docutils literal"><span
                                        class="pre">index.html.twig</span></code>模板复制到<code class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/Blog/index.html.twig</span></code>
                                （<code class="docutils literal"><span
                                        class="pre">app/Resources/AcmeBlogBundle</span></code>目录将不存在， 我需要创建它）。 您现在可以自由定制模板。
                            </p>
                            <div class="admonition caution">
                                <p class="first admonition-title">警告</p>
                                <p class="last">
                                如果您在新位置添加模板，即使您处于调试模式，也可能需要清除缓存（<code class="docutils literal"><span class="pre">php</span> <span
                                    class="pre">app/console</span> <span class="pre">cache:clear</span></code>）。
                                </p>
                            </div>
                            <p>
                                该逻辑也适用于基本包模板。 假设AcmeBlogBundle中的每个模板都继承自一个名为<code class="docutils literal"><span class="pre">AcmeBlogBundle::layout.html.twig</span></code>的基本模板。
                                和以前一样，Symfony会在以下两个地方查看模板：

                            </p>
                            <ol class="arabic simple">
                                <li><code class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/layout.html.twig</span></code>
                                </li>
                                <li><code class="docutils literal"><span class="pre">src/Acme/BlogBundle/Resources/views/layout.html.twig</span></code>
                                </li>
                            </ol>
                            <p>
                                再一次，要覆盖模板，只需将它从软件包复制到<code class="docutils literal"><span class="pre">app/Resources/AcmeBlogBundle/views/layout.html.twig</span></code>。 如果您认为合适，您现在可以自由定制此副本。
                            </p>
                            <p>
                                如果退后一步，您会发现Symfony始终是通过在<code class="docutils literal"><span
                                        class="pre">app/Resources/{BUNDLE_NAME}/views/</span></code>目录中查找模板开始的。
                                如果该模板不存在，则继续检查捆绑包本身的<code class="docutils literal"><span class="pre">Resources/views</span></code> 目录。
                                这意味着所有的捆绑模板都可以通过将它们放在正确的<code
                                        class="docutils literal"><span class="pre">app/Resources</span></code>子目录中来覆盖。
                            </p>
                            <div class="admonition note">
                                <p class="first admonition-title">注解</p>
                                <p class="last">
                                    您还可以通过使用包继承来覆盖包中的模板。 有关更多信息，请参阅<a class="reference internal"
                                                                      href="inheritance.html"
                                                                      tppabs="http://symfony.cn/docs/cookbook/bundles/inheritance.html"><em>如何利用Bundle继承机制来重载Bundle部分功能</em></a>。
                                </p>
                            </div>
                            <span class="target" id="templating-overriding-core-templates"></span>
                            <div class="section" id="overriding-core-templates">
                                <span id="index-14"></span>
                                <h3>重载内置模板<a class="headerlink" href="#overriding-core-templates" title="永久链接至标题">¶</a>
                                </h3>
                                <p>
                                    由于Symfony框架本身只是一个包，因此可以用相同的方式覆盖核心模板。
                                    例如，核心TwigBundle包含许多不同的“异常”和“错误”模板，
                                    可以通过将每个从TwigBundle的<code class="docutils literal"><span class="pre">Resources/views/Exception</span></code>目录复制到，
                                    你猜对了，<code class="docutils literal"><span class="pre">app/Resources/TwigBundle/views/Exception</span></code>目录。
                                </p>
                            </div>
                        </div>
                        <div class="section" id="three-level-inheritance">
                            <span id="index-15"></span>
                            <h2>“三层”继承<a class="headerlink" href="#three-level-inheritance" title="永久链接至标题">¶</a></h2>
                            <p>使用继承的一种常见方式是使用三级方法。 这种方法完全适用于刚刚涵盖的三种不同类型的模板：</p>
                            <ul>
                                <li><p class="first">
                                    创建一个包含应用程序主要布局的<code class="docutils literal"><span class="pre">app/Resources/views/base.html.twig</span></code>文件（就像前面的例子）。 在内部，这个模板被称为<code class="docutils literal"><span
                                        class="pre">base.html.twig</span></code>;
                                </p>
                                </li>
                                <li><p class="first">
                                    为您的网站的每个“部分”创建一个模板。 例如，博客功能将会有一个名为<code class="docutils literal"><span
                                            class="pre">blog/layout.html.twig</span></code>的模板，其中只包含博客部分特定的元素;
                                </p>
                                    <div class="highlight-html+jinja">
                                        <div class="highlight"><pre><span class="c">{# app/Resources/views/blog/layout.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;base.html.twig&#39;</span> <span
                                                    class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">body</span> <span class="cp">%}</span>
    <span class="nt">&lt;h1&gt;</span>Blog Application<span class="nt">&lt;/h1&gt;</span>

    <span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}{%</span> <span
                                                    class="k">endblock</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre>
                                        </div>
                                    </div>
                                </li>
                                <li><p class="first">
                                    为每个页面创建单独的模板，并使每个模板扩展适当的部分模板。 例如，“index”页面将被称为接近<code class="docutils literal"><span
                                            class="pre">blog/index.html.twig</span></code>的东西，并列出实际的博客文章。
                                </p>
                                    <div class="highlight-html+jinja">
                                        <div class="highlight"><pre><span class="c">{# app/Resources/views/blog/index.html.twig #}</span>
<span class="cp">{%</span> <span class="k">extends</span> <span class="s1">&#39;blog/layout.html.twig&#39;</span> <span
                                                    class="cp">%}</span>

<span class="cp">{%</span> <span class="k">block</span> <span class="nv">content</span> <span class="cp">%}</span>
    <span class="cp">{%</span> <span class="k">for</span> <span class="nv">entry</span> <span class="k">in</span> <span
                                                    class="nv">blog_entries</span> <span class="cp">%}</span>
        <span class="nt">&lt;h2&gt;</span><span class="cp">{{</span> <span class="nv">entry.title</span> <span
                                                    class="cp">}}</span><span class="nt">&lt;/h2&gt;</span>
        <span class="nt">&lt;p&gt;</span><span class="cp">{{</span> <span class="nv">entry.body</span> <span class="cp">}}</span><span
                                                    class="nt">&lt;/p&gt;</span>
    <span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
<span class="cp">{%</span> <span class="k">endblock</span> <span class="cp">%}</span>
</pre>
                                        </div>
                                    </div>
                                </li>
                            </ul>
                            <p>
                                请注意，此模板扩展了部分模板（<code
                                        class="docutils literal"><span class="pre">blog/layout.html.twig</span></code>），该模板又扩展了基本应用程序布局（<code class="docutils literal"><span
                                        class="pre">base.html.twig</span></code>）。 这是常见的三层继承模型。
                            </p>
                            <p>
                                构建应用程序时，您可以选择遵循此方法，或者直接使每个页面模板直接扩展基本应用程序模板（例如<code class="docutils literal"><span class="pre">{%</span> <span class="pre">extends</span>
                                    <span class="pre">'base.html.twig'</span> <span class="pre">%}</span></code>）。 三模板模型是供应商软件包使用的最佳实践方法，因此可以轻松地覆盖软件包的基本模板以正确地扩展应用程序的基本布局。
                            </p>
                        </div>
                        <div class="section" id="output-escaping">
                            <span id="index-16"></span>
                            <h2>转义<a class="headerlink" href="#output-escaping" title="永久链接至标题">¶</a></h2>
                            <p>
                                从模板生成HTML时，模板变量可能会输出意外的HTML或危险的客户端代码。
                                结果是动态内容可能会破坏生成页面的HTML，或者允许恶意用户执行<a class="reference external"
                                                                   href="javascript:if(confirm('http://en.wikipedia.org/wiki/Cross-site_scripting  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://en.wikipedia.org/wiki/Cross-site_scripting'"
                                                                   tppabs="http://en.wikipedia.org/wiki/Cross-site_scripting">Cross
                                    Site Scripting</a>（XSS）攻击。 考虑这个经典的例子：
                            </p>
                            <div class="configuration-block">
                                <ul class="simple">
                                    <li><em>Twig</em>
                                        <div class="highlight-html+jinja">
                                            <div class="highlight"><pre>Hello <span class="cp">{{</span> <span
                                                    class="nv">name</span> <span class="cp">}}</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>PHP</em>
                                        <div class="highlight-html+php">
                                            <div class="highlight"><pre>Hello <span class="cp">&lt;?php</span> <span
                                                    class="k">echo</span> <span class="nv">$name</span> <span
                                                    class="cp">?&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                            <p>想象一下，用户为他们的名字输入以下代码：</p>
                            <div class="highlight-html">
                                <div class="highlight"><pre><span class="nt">&lt;script&gt;</span><span
                                        class="nx">alert</span><span class="p">(</span><span
                                        class="s1">&#39;hello!&#39;</span><span class="p">)</span><span class="nt">&lt;/script&gt;</span>
</pre>
                                </div>
                            </div>
                            <p>如果没有任何输出转义，则生成的模板将导致弹出一个JavaScript警告框：</p>
                            <div class="highlight-html">
                                <div class="highlight"><pre>Hello <span class="nt">&lt;script&gt;</span><span
                                        class="nx">alert</span><span class="p">(</span><span
                                        class="s1">&#39;hello!&#39;</span><span class="p">)</span><span class="nt">&lt;/script&gt;</span>
</pre>
                                </div>
                            </div>
                            <p>虽然这看起来没有任何危害，但如果用户能够达到这个目标，那么同一用户也应该能够编写JavaScript，在不知情的合法用户的安全区域内执行恶意操作。</p>
                            <p>
                                这个问题的答案是输出转义。 随着输出转义，相同的模板将无害地渲染，并且直接将<code
                                        class="docutils literal"><span class="pre">script</span></code>标记打印到屏幕上：
                            </p>
                            <div class="highlight-html">
                                <div class="highlight"><pre>Hello <span class="ni">&amp;lt;</span>script<span
                                        class="ni">&amp;gt;</span>alert(<span class="ni">&amp;#39;</span>helloe<span
                                        class="ni">&amp;#39;</span>)<span class="ni">&amp;lt;</span>/script<span
                                        class="ni">&amp;gt;</span>
</pre>
                                </div>
                            </div>
                            <p>Twig和PHP模板系统以不同的方式处理问题。 如果您使用的是Twig，默认情况下会启用输出转义，并且您受到保护。 在PHP中，输出转义不是自动的，这意味着您需要在必要时手动转义。</p>
                            <div class="section" id="output-escaping-in-twig">
                                <h3>Twig转义功能<a class="headerlink" href="#output-escaping-in-twig" title="永久链接至标题">¶</a>
                                </h3>
                                <p>如果您使用的是Twig模板，则输出转义默认为打开。 这意味着您可以立即受到用户提交的代码的无意的后果的保护。 默认情况下，输出转义假定内容正在转义为HTML输出。</p>
                                <p>在某些情况下，当您呈现受信任的变量并且包含不应该转义的标记时，您需要禁用输出转义。 假设管理用户能够编写包含HTML代码的文章。 默认情况下，Twig将转义文章正文</p>
                                <p>
                                    要正常渲染，请添加<code class="docutils literal"><span
                                            class="pre">原始</span></code>过滤器：
                                </p>
                                <div class="highlight-jinja">
                                    <div class="highlight"><pre><span class="cp">{{</span> <span
                                            class="nv">article.body</span><span class="o">|</span><span
                                            class="nf">raw</span> <span class="cp">}}</span><span class="x"></span>
</pre>
                                    </div>
                                </div>
                                <p>
                                    您还可以在<code class="docutils literal"><span
                                            class="pre">{%</span> <span class="pre">block</span> <span class="pre">%}</span></code>区域或整个模板中禁用输出转义。
                                    有关更多信息，请参阅Twig文档中的<a class="reference external"
                                                         href="javascript:if(confirm('http://twig.sensiolabs.org/doc/api.html  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://twig.sensiolabs.org/doc/api.html#escaper-extension'"
                                                         tppabs="http://twig.sensiolabs.org/doc/api.html#escaper-extension">
                                        输出转义</a>。
                                </p>
                            </div>
                            <div class="section" id="output-escaping-in-php">
                                <h3>PHP中使用转义<a class="headerlink" href="#output-escaping-in-php" title="永久链接至标题">¶</a>
                                </h3>
                                <p>
                                    使用PHP模板时，输出转义不是自动的。 这意味着除非您明确选择转义变量，否则您不受保护。
                                    要使用输出转义，请使用特殊的<code class="docutils literal"><span
                                            class="pre">escape()</span></code>视图方法：
                                </p>
                                <div class="highlight-html+php">
                                    <div class="highlight"><pre>Hello <span class="cp">&lt;?php</span> <span class="k">echo</span> <span
                                            class="nv">$view</span><span class="o">-&gt;</span><span
                                            class="na">escape</span><span class="p">(</span><span
                                            class="nv">$name</span><span class="p">)</span> <span
                                            class="cp">?&gt;</span>
</pre>
                                    </div>
                                </div>
                                <p>
                                    缺省情况下，<code class="docutils literal"><span
                                            class="pre">escape()</span></code>方法假定变量正在HTML上下文中呈现（因此该变量已转义为HTML安全）。
                                    第二个参数可以让你改变上下文。
                                    例如，要输出JavaScript字符串中的某些内容，请使用<code class="docutils literal"><span
                                            class="pre">js</span></code>上下文：
                                </p>
                                <div class="highlight-html+php">
                                    <div class="highlight"><pre>var myMsg = &#39;Hello <span class="cp">&lt;?php</span> <span
                                            class="k">echo</span> <span class="nv">$view</span><span
                                            class="o">-&gt;</span><span class="na">escape</span><span class="p">(</span><span
                                            class="nv">$name</span><span class="p">,</span> <span class="s1">&#39;js&#39;</span><span
                                            class="p">)</span> <span class="cp">?&gt;</span>&#39;;
</pre>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="section" id="debugging">
                            <span id="index-17"></span>
                            <h2>调试<a class="headerlink" href="#debugging" title="永久链接至标题">¶</a></h2>
                            <p>
                                使用PHP时，如果您需要快速查找传递变量的值，可以使用<a class="reference internal" href="introduction-7.html#components-var-dumper-dump"
                                                              tppabs="http://symfony.cn/docs/components/var_dumper/introduction.html#components-var-dumper-dump"><span>dump() function from the VarDumper component</span></a>。 例如，在控制器内部这很有用：
                            </p>
                            <div class="highlight-php">
                                <div class="highlight"><pre><span class="c1">// src/AppBundle/Controller/ArticleController.php</span>
<span class="k">namespace</span> <span class="nx">AppBundle\Controller</span><span class="p">;</span>

<span class="c1">// ...</span>

<span class="k">class</span> <span class="nc">ArticleController</span> <span class="k">extends</span> <span class="nx">Controller</span>
<span class="p">{</span>
    <span class="k">public</span> <span class="k">function</span> <span class="nf">recentListAction</span><span
                                            class="p">()</span>
    <span class="p">{</span>
        <span class="nv">$articles</span> <span class="o">=</span> <span class="o">...</span><span class="p">;</span>
        <span class="nx">dump</span><span class="p">(</span><span class="nv">$articles</span><span class="p">);</span>

        <span class="c1">// ...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre>
                                </div>
                            </div>
                            <div class="admonition note">
                                <p class="first admonition-title">注解</p>
                                <p class="last">
                                    然后，<code class="docutils literal"><span class="pre">dump()</span></code>函数的输出将显示在Web开发人员工具栏中。
                                </p>
                            </div>
                            <p>
                                由于<code
                                        class="docutils literal"><span class="pre">dump</span></code>功能，可以在Twig模板中使用相同的机制：
                            </p>
                            <div class="highlight-html+jinja">
                                <div class="highlight"><pre><span class="c">{# app/Resources/views/article/recent_list.html.twig #}</span>
<span class="cp">{{</span> <span class="nv">dump</span><span class="o">(</span><span class="nv">articles</span><span
                                            class="o">)</span> <span class="cp">}}</span>

<span class="cp">{%</span> <span class="k">for</span> <span class="nv">article</span> <span class="k">in</span> <span
                                            class="nv">articles</span> <span class="cp">%}</span>
    <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;/article/</span><span
                                            class="cp">{{</span> <span class="nv">article.slug</span> <span class="cp">}}</span><span
                                            class="s">&quot;</span><span class="nt">&gt;</span>
        <span class="cp">{{</span> <span class="nv">article.title</span> <span class="cp">}}</span>
    <span class="nt">&lt;/a&gt;</span>
<span class="cp">{%</span> <span class="k">endfor</span> <span class="cp">%}</span>
</pre>
                                </div>
                            </div>
                            <p>
                                如果Twig的<code class="docutils literal"><span
                                        class="pre">debug</span></code>设置（在<code class="docutils literal"><span
                                        class="pre">config.yml</span></code>中）为<code class="docutils literal"><span class="pre">true</span></code>.，
                                则只会转储变量。
                                默认情况下，这意味着变量将被转储到<code class="docutils literal"><span class="pre">dev</span></code>环境中，但不是<code class="docutils literal"><span class="pre">prod</span></code>环境。
                            </p>
                        </div>
                        <div class="section" id="syntax-checking">
                            <h2>语法检查<a class="headerlink" href="#syntax-checking" title="永久链接至标题">¶</a></h2>
                            <p>
                                您可以使用<code
                                        class="docutils literal"><span class="pre">twig:lint</span></code> console命令检查Twig模板中的语法错误：
                            </p>
                            <div class="highlight-bash">
                                <div class="highlight"><pre><span class="c"># You can check by filename:</span>
<span class="nv">$ </span>php app/console twig:lint app/Resources/views/article/recent_list.html.twig

<span class="c"># or by directory:</span>
<span class="nv">$ </span>php app/console twig:lint app/Resources/views
</pre>
                                </div>
                            </div>
                        </div>
                        <div class="section" id="template-formats">
                            <span id="id2"></span>
                            <h2>模板格式<a class="headerlink" href="#template-formats" title="永久链接至标题">¶</a></h2>
                            <p>模板是以任何格式呈现内容的通用方式。 尽管在大多数情况下，您将使用模板呈现HTML内容，但模板可以轻松生成JavaScript，CSS，XML或任何其他可以实现的格式。</p>
                            <p>例如，相同的“资源”通常以多种格式呈现。 要使用XML呈现文章索引页面，只需在模板名称中包含格式即可：</p>
                            <ul class="simple">
                                <li><em>XML template name</em>: <code class="docutils literal"><span class="pre">article/index.xml.twig</span></code>
                                </li>
                                <li><em>XML template filename</em>: <code class="docutils literal"><span class="pre">index.xml.twig</span></code>
                                </li>
                            </ul>
                            <p>实际上，这只不过是一种命名约定，模板实际上并不是基于其格式呈现的。</p>
                            <p>在许多情况下，您可能希望允许单个控制器根据“请求格式”呈现多种不同的格式。 出于这个原因，一个常见的模式是执行以下操作：</p>
                            <div class="highlight-php">
                                <div class="highlight"><pre><span class="k">public</span> <span
                                        class="k">function</span> <span class="nf">indexAction</span><span
                                        class="p">(</span><span class="nx">Request</span> <span
                                        class="nv">$request</span><span class="p">)</span>
<span class="p">{</span>
    <span class="nv">$format</span> <span class="o">=</span> <span class="nv">$request</span><span
                                            class="o">-&gt;</span><span class="na">getRequestFormat</span><span
                                            class="p">();</span>

    <span class="k">return</span> <span class="nv">$this</span><span class="o">-&gt;</span><span
                                            class="na">render</span><span class="p">(</span><span class="s1">&#39;article/index.&#39;</span><span
                                            class="o">.</span><span class="nv">$format</span><span
                                            class="o">.</span><span class="s1">&#39;.twig&#39;</span><span
                                            class="p">);</span>
<span class="p">}</span>
</pre>
                                </div>
                            </div>
                            <p>
                                <code class="docutils literal"><span class="pre">Request</span></code>对象上的<code class="docutils literal"><span class="pre">getRequestFormat</span></code>默认为<code class="docutils literal"><span class="pre">html</span></code>，
                                但可以基于用户请求的格式返回任何其他格式。
                                请求格式通常由路由管理，
                                其中可以配置路由以便<code class="docutils literal"><span
                                        class="pre">/contact</span></code>将请求格式设置为<code
                                        class="docutils literal"><span class="pre">html</span></code>，
                                而<code class="docutils literal"><span class="pre">/contact.xml</span></code>将格式设置为<code class="docutils literal"><span class="pre">xml</span></code>。
                                有关更多信息，请参阅<a class="reference internal" href="routing.html#advanced-routing-example"
                                             tppabs="http://symfony.cn/docs/book/routing.html#advanced-routing-example"><span>路由一章中的高级示例</span></a>。
                            </p>
                            <p>
                                要创建包含format参数的链接，请在参数hash中包含一个<code
                                        class="docutils literal"><span class="pre">_format</span></code>键：
                            </p>
                            <div class="configuration-block">
                                <ul class="simple">
                                    <li><em>Twig</em>
                                        <div class="highlight-html+jinja">
                                            <div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span
                                                    class="s">&quot;</span><span class="cp">{{</span> <span class="nv">path</span><span
                                                    class="o">(</span><span
                                                    class="s1">&#39;article_show&#39;</span><span
                                                    class="o">,</span> <span class="o">{</span><span class="s1">&#39;id&#39;</span><span
                                                    class="o">:</span> <span class="m">123</span><span
                                                    class="o">,</span> <span class="s1">&#39;_format&#39;</span><span
                                                    class="o">:</span> <span class="s1">&#39;pdf&#39;</span><span
                                                    class="o">})</span> <span class="cp">}}</span><span
                                                    class="s">&quot;</span><span class="nt">&gt;</span>
    PDF Version
<span class="nt">&lt;/a&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                    <li><em>PHP</em>
                                        <div class="highlight-html+php">
                                            <div class="highlight"><pre><span class="nt">&lt;a</span> <span class="na">href=</span><span
                                                    class="s">&quot;</span><span class="cp">&lt;?php</span> <span
                                                    class="k">echo</span> <span class="nv">$view</span><span
                                                    class="p">[</span><span class="s1">&#39;router&#39;</span><span
                                                    class="p">]</span><span class="o">-&gt;</span><span class="na">generate</span><span
                                                    class="p">(</span><span
                                                    class="s1">&#39;article_show&#39;</span><span
                                                    class="p">,</span> <span class="k">array</span><span
                                                    class="p">(</span>
    <span class="s1">&#39;id&#39;</span> <span class="o">=&gt;</span> <span class="mi">123</span><span
                                                        class="p">,</span>
    <span class="s1">&#39;_format&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;pdf&#39;</span><span
                                                        class="p">,</span>
<span class="p">))</span> <span class="cp">?&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>
    PDF Version
<span class="nt">&lt;/a&gt;</span>
</pre>
                                            </div>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="section" id="final-thoughts">
                            <h2>总结<a class="headerlink" href="#final-thoughts" title="永久链接至标题">¶</a></h2>
                            <p>
                                Symfony中的模板引擎是一个强大的工具，可以在您每次需要生成HTML，XML或任何其他格式的表示内容时使用。
                                虽然模板是在控制器中生成内容的常用方式，但它们的使用不是强制性的。
                                可以使用或不使用模板来创建控制器返回的<code class="docutils literal"><span class="pre">Response</span></code>对象：
                            </p>
                            <div class="highlight-php">
                                <div class="highlight"><pre><span class="c1">// creates a Response object whose content is the rendered template</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="nv">$this</span><span
                                            class="o">-&gt;</span><span class="na">render</span><span class="p">(</span><span
                                            class="s1">&#39;article/index.html.twig&#39;</span><span class="p">);</span>

<span class="c1">// creates a Response object whose content is simple text</span>
<span class="nv">$response</span> <span class="o">=</span> <span class="k">new</span> <span
                                            class="nx">Response</span><span class="p">(</span><span class="s1">&#39;response content&#39;</span><span
                                            class="p">);</span>
</pre>
                                </div>
                            </div>
                            <p>Symfony的模板引擎非常灵活，默认情况下有两种不同的模板渲染器可用：传统的PHP模板和时尚强大的Twig模板。 两者都支持模板层次结构，并附带一套丰富的助手功能，能够执行最常见的任务。/p>
                            <p>总的来说，模板化的话题应该被认为是一个可以随时使用的强大工具。 在某些情况下，您可能不需要渲染模板，而在Symfony中，这绝对没问题。</p>
                        </div>
                        <div class="section" id="learn-more-from-the-cookbook">
                            <h2>了解更多<a class="headerlink" href="#learn-more-from-the-cookbook" title="永久链接至标题">¶</a>
                            </h2>
                            <ul class="simple">
                                <li><a class="reference internal" href="PHP.html"
                                       tppabs="http://symfony.cn/docs/cookbook/templating/PHP.html"><em>如何使用PHP而不是Twig模板</em></a></li>
                                <li><a class="reference internal" href="error_pages.html"
                                       tppabs="http://symfony.cn/docs/cookbook/controller/error_pages.html"><em>如何自定义错误页面</em></a>
                                </li>
                                <li><a class="reference internal" href="twig_extension.html"
                                       tppabs="http://symfony.cn/docs/cookbook/templating/twig_extension.html"><em>如何编写自定义的Twig Extension</em></a></li>
                            </ul>
                        </div>
                    </div>


                </div>
                <footer>

                    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">

                        <a href="doctrine.html" tppabs="http://symfony.cn/docs/book/doctrine.html"
                           class="btn btn-neutral float-right" title="数据库和Doctrine">Next <span
                                class="fa fa-arrow-circle-right"></span></a>


                        <a href="routing.html" tppabs="http://symfony.cn/docs/book/routing.html" class="btn btn-neutral"
                           title="路由（Routing）"><span class="fa fa-arrow-circle-left"></span> Previous</a>

                    </div>


                    <hr/>

                    <div role="contentinfo">
                        <p>
                            &copy; 版权所有 Creative Commons Attribution-Share Alike 3.0 Unported.
                        </p>
                    </div>

                    Built with <a
                        href="javascript:if(confirm('http://sphinx-doc.org/  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='http://sphinx-doc.org/'"
                        tppabs="http://sphinx-doc.org/">Sphinx</a> using a <a
                        href="javascript:if(confirm('https://github.com/snide/sphinx_rtd_theme  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='https://github.com/snide/sphinx_rtd_theme'"
                        tppabs="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a
                        href="javascript:if(confirm('https://readthedocs.org/  \n\n���ļ��޷��� Teleport Ultra ����, ��Ϊ ����һ�����·���ⲿ������Ϊ������ʼ��ַ�ĵ�ַ��  \n\n�����ڷ������ϴ���?'))window.location='https://readthedocs.org/'"
                        tppabs="https://readthedocs.org/">Read the Docs</a>.

                </footer>
            </div>
        </div>

    </section>

</div>


<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT: '../',
        VERSION: '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE: true
    };
</script>
<script type="text/javascript" src="jquery.js" tppabs="http://symfony.cn/docs/_static/jquery.js"></script>
<script type="text/javascript" src="underscore.js" tppabs="http://symfony.cn/docs/_static/underscore.js"></script>
<script type="text/javascript" src="doctools.js" tppabs="http://symfony.cn/docs/_static/doctools.js"></script>
<script type="text/javascript" src="translations.js" tppabs="http://symfony.cn/docs/_static/translations.js"></script>


<script type="text/javascript" src="theme.js" tppabs="http://symfony.cn/docs/_static/js/theme.js"></script>


<script type="text/javascript">
    jQuery(function () {
        SphinxRtdTheme.StickyNav.enable();
    });
</script>


</body>
</html>